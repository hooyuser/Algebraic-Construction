
\chapter{Category Theory}
\section{Category}
\begin{definition}{Small Category and Locally Small Category}{}
    Suppose $\mathscr{U}$ is a Grothendieck universe and $\mathsf{C}$ is a category. We say
    \begin{itemize}
        \item $\mathsf{C}$ is \textbf{locally $\mathscr{U}$-small} if $\mathrm{Hom}_{\mathsf{C}}(X,Y)$ is a $\mathscr{U}$-small set for all $X,Y\in \mathrm{Ob}(\mathsf{C})$.
        \item $\mathsf{C}$ is \textbf{$\mathscr{U}$-small} if $\mathsf{C}$ is locally $\mathscr{U}$-small and $\mathrm{Ob}(\mathsf{C})$ is a \hyperref[th:small_set]{$\mathscr{U}$-small set},
    \end{itemize}
    We can simply say $\mathsf{C}$ is \textbf{small} or \textbf{locally small} if the choice of $\mathscr{U}$ can be inferred from the context.
\end{definition}

\begin{definition}{Isomorphism of Categories}{}
    Suppose $\mathsf{C}$ and $\mathsf{D}$ are two categories. A \textbf{functor} $F:\mathsf{C}\to \mathsf{D}$ is called an \textbf{isomorphism} if there exists a functor $G:\mathsf{D}\to \mathsf{C}$ such that $F\circ G=\mathrm{id}_{\mathsf{D}}$ and $G\circ F=\mathrm{id}_{\mathsf{C}}$. In this case, we say $\mathsf{C}$ and $\mathsf{D}$ are \textbf{isomorphic} and write $\mathsf{C}\cong \mathsf{D}$.
\end{definition}

\begin{definition}{Section of a Morphism}{section_of_morphism}
    A \textbf{section} of a morphism $f: E \rightarrow X$ in some category is a right-inverse of $f$, i.e. a morphism $\sigma: X \rightarrow E$ such that
    $$
    f \circ \sigma: X \xlongrightarrow{\sigma} E \xlongrightarrow{f} X
    $$
    equals $\mathrm{id}_X$.
\end{definition}

\begin{definition}{Retraction of a Morphism}{retraction_of_morphism}
    A \textbf{retraction} of a morphism $f: S\rightarrow X$ in some category is a left-inverse of $f$, i.e. a morphism $\rho: X \rightarrow S$ such that
    $$
    \rho \circ f: S \xlongrightarrow{f} X \xlongrightarrow{\rho} S
    $$
    equals $\mathrm{id}_S$.
    \end{definition}


\begin{definition}{Category of Categories}{}
    $\mathscr{U}$-$\mathsf{Cat}$ is defined as a category whose objects are all $\mathscr{U}$-small categories and morphisms are all functors between small categories.\\
    $\mathscr{U}$-$\mathsf{CAT}$ is defined as a category whose objects are all locally $\mathscr{U}$-small categories and morphisms are all functors between locally small categories. 
\end{definition}

\begin{proposition}{Size of Functor Category}{}
    Suppose $\mathsf{C}$, $\mathsf{D}$ are two categories. 
    \begin{itemize}
        \item If $\mathsf{C}$ and $\mathsf{D}$ are small, then $\left[\mathsf{C},\mathsf{D}\right]$ is small.
        \item If $\mathsf{C}$ is small and $\mathsf{D}$ is locally small, then $\left[\mathsf{C},\mathsf{D}\right]$ is locally small.
        \item If $\mathsf{C}$ and $\mathsf{D}$ are locally small, then $\left[\mathsf{C},\mathsf{D}\right]$ is generally not locally small.
    \end{itemize}
\end{proposition}


Suppose $\mathsf{C}_i$ and $\mathsf{D}_i$ are locally $\mathscr{U}_i$-small categories, and that $\mathsf{c}_i$ and $\mathsf{d}_i$ are $\mathscr{U}_i$-small categories. We have the following table
\begin{table}[h]
    \centering
    \begin{tabular}{P{2cm}|P{2cm}|P{2cm}|P{2cm}}
        \toprule
        \textbf{Category}&$\mathscr{U}_1$-$\mathsf{Cat}$ & $\mathscr{U}_1$-$\mathsf{CAT}$ & $\mathscr{U}_2$-$\mathsf{CAT}$ \\
        \midrule
        \midrule
        \textbf{Object}&$ [\mathsf{c_1},\mathsf{d_1}]$& $\mathscr{U}_1$-$\mathsf{Set}$ $\mathscr{U}_1$-$\mathsf{Cat}$ $[\mathsf{c_1},\mathsf{D_1}]$& $\mathscr{U}_2$-$\mathsf{Set}$ $[\mathsf{C_1},\mathsf{D_1}]$ \\ \bottomrule
    \end{tabular}
\end{table}

\begin{definition}{Subcategory}{}
    Suppose $\mathsf{C}$ is a category. A \textbf{subcategory} $\mathsf{D}$ of $\mathsf{C}$ is a category such that
    \begin{itemize}
        \item $\mathrm{Ob}(\mathsf{D})\subseteq \mathrm{Ob}(\mathsf{C})$.
        \item For any $X,Y\in \mathrm{Ob}(\mathsf{D})$, $\mathrm{Hom}_{\mathsf{D}}(X,Y)\subseteq \mathrm{Hom}_{\mathsf{C}}(X,Y)$.
        \item For any $X\in \mathrm{Ob}(\mathsf{D})$, the identity morphism $\mathrm{id}_X$ of $\mathsf{D}$ is the same as the identity morphism $\mathrm{id}_X$ of $\mathsf{C}$.
        \item For any $X,Y,Z\in \mathrm{Ob}(\mathsf{D})$ and  $g\in\mathrm{Hom}_{\mathsf{D}}\left(X,Y\right)$, $f\in\mathrm{Hom}_{\mathsf{D}}\left(Y,Z\right)$, $f\circ_{\mathsf{D}}g=f\circ_{\mathsf{C}}g$.
    \end{itemize}
    A subcategory $\mathsf{D}$ of $\mathsf{C}$ is called a \textbf{full subcategory} if for any $X,Y\in \mathrm{Ob}(\mathsf{D})$, $\mathrm{Hom}_{\mathsf{D}}(X,Y)= \mathrm{Hom}_{\mathsf{C}}(X,Y)$.
\end{definition}

There is a looser way to think about a subcategory: $\mathsf{D}$ is a subcategory of $\mathsf{C}$ if there exists a fully faithful functor $F:\mathsf{D}\to \mathsf{C}$ that is injective on objects.\\

\begin{example}{Examples of Full Subcategories}{}
    Here are some examples of full subcategories:
    \begin{itemize}
        \item $\mathsf{Ab}\subseteq\mathsf{Grp}\subseteq\mathsf{Mon}$
        \item $\mathsf{Field}\subseteq\mathsf{CRing}\subseteq\mathsf{Ring}$
        \item $K\text{-}\mathsf{Vect}\subseteq K\text{-}\mathsf{Mod}$
        \item $R\text{-}\mathsf{CAlg}\subseteq R\text{-}\mathsf{Alg}$
    \end{itemize}
\end{example}


\begin{definition}{Opposite Category}{functor_op}
    Suppose $\mathsf{C}$ is a category. The \textbf{opposite category} $\mathsf{C}^{\mathrm{op}}$ is defined as follows
    \begin{itemize}
        \item Objects: $\mathrm{Ob}(\mathsf{C}^{\mathrm{op}})=\mathrm{Ob}(\mathsf{C})$
        \item Morphisms: $\mathrm{Hom}_{\mathsf{C}^{\mathrm{op}}}(X,Y)=\mathrm{Hom}_{\mathsf{C}}(Y,X)$
        \item Composition: $f\circ_{\mathsf{C}^{\mathrm{op}}}g=g\circ_{\mathsf{C}}f$
        \item Identity: $\mathrm{id}_{\mathsf{C}^{\mathrm{op}}}=\mathrm{id}_{\mathsf{C}}$
    \end{itemize}
\end{definition}

It is easy to see that $\left(\mathsf{C}^{\mathrm{op}}\right)^{\mathrm{op}}=\mathsf{C}$.
\begin{definition}{Opposite Functor}{}
    Suppose $\mathsf{C}$ and $\mathsf{D}$ are two categories and $F:\mathsf{C}\to \mathsf{D}$ is a functor. The \textbf{opposite functor} $F^{\mathrm{op}}:\mathsf{C}^{\mathrm{op}}\to \mathsf{D}^{\mathrm{op}}$ is defined by
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}^{\mathrm{op}}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{D}^{\mathrm{op}}\&[-30pt]\&[-30pt] \\ [-15pt] 
            X  \arrow[dd, "f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]F(X)\arrow[dd, "F(f)"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "F^{\mathrm{op}}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            Y  \& \& \& F(Y)
        \end{tikzcd}
    \]
\end{definition}

It is easy to see that $\left(F^{\mathrm{op}}\right)^{\mathrm{op}}=F$.
\begin{example}{}{}
    Define a functor ${}^{\mathrm{op}}:\mathsf{CAT}\to \mathsf{CAT}$ as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{CAT}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{CAT}\&[-30pt]\&[-30pt] \\ [-15pt] 
            \mathsf{C}  \arrow[dd, "F"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\mathsf{C}^{\mathrm{op}}\arrow[dd, "F^{\mathrm{op}}"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "{}^{\mathrm{op}}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            \mathsf{D}  \& \& \& \mathsf{D}^{\mathrm{op}}
        \end{tikzcd}
    \]
    The functor ${}^{\mathrm{op}}$ is an involution, i.e. ${}^{\mathrm{op}}\circ {}^{\mathrm{op}}=\mathrm{id}_{\mathsf{CAT}}$. Hence ${}^{\mathrm{op}}\in \mathrm{Aut}(\mathsf{CAT})$.
\end{example}




\begin{definition}{$\mathrm{Hom}$ Functors}{}
    Let $\mathsf{C}$ be a locally small category. We can define a functor $\mathrm{Hom}_{\mathsf{C}}\left(-{,}-\right)$ as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}^{\mathrm{op}}\times \mathsf{C}\&[-25pt]\&[+30pt]\&[-25pt] \mathsf{Set}\&[-25pt]\&[-25pt] \\ [-15pt] 
            (X_1,Y_1)  \arrow[dd, "\left(f{,} g\right)"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\mathrm{Hom}_{\mathsf{C}}\left(X_1,Y_1\right)\arrow[dd, "f^*\circ g_*"{name=R}] \&\ni\& h\arrow[dd,mapsto]\\ [-8pt] 
            \&  \phantom{.}\arrow[r, "\mathrm{Hom}_{\mathsf{C}}\left(-{,}-\right)", squigarrow]\&\phantom{.}  \&   \\[-8pt] 
            (X_2,Y_2)  \& \& \& \mathrm{Hom}_{\mathsf{C}}\left(X_2,Y_2\right)\& \ni \& g\circ h\circ f
        \end{tikzcd}
    \]
    By partial application, we obtain the following two functors: 
    \begin{itemize}
        \item $\mathrm{Hom}_{\mathsf{C}}\left(X{,}-\right):\mathsf{C}\to  \mathsf{Set}$
        \[
            \begin{tikzcd}[ampersand replacement=\&]
                 \mathsf{C}\&[-25pt]\&[+30pt]\&[-25pt] \mathsf{Set}\&[-25pt]\&[-25pt] \\ [-15pt] 
                Y_1  \arrow[dd, "g"{name=L, left}] 
                \&[-25pt] \& [+10pt] 
                \& [-30pt]\mathrm{Hom}_{\mathsf{C}}\left(X,Y_1\right)\arrow[dd, "g_*"{name=R}] \& \ni \& h\arrow[dd,mapsto]\\ [-8pt] 
                \&  \phantom{.}\arrow[r, "\mathrm{Hom}_{\mathsf{C}}\left(X{,}-\right)", squigarrow]\&\phantom{.}  \&   \\[-8pt] 
                Y_2  \& \& \& \mathrm{Hom}_{\mathsf{C}}\left(X,Y_2\right)\& \ni \&g\circ h
            \end{tikzcd}
        \]
        where $g_*$ is called \textbf{pushforward by $g$}.
        \item $\mathrm{Hom}_{\mathsf{C}}\left(-{,}Y\right):\mathsf{C}^{\mathrm{op}}\to  \mathsf{Set}$
        \[
            \begin{tikzcd}[ampersand replacement=\&]
                 \mathsf{C}^{\mathrm{op}}\&[-25pt]\&[+30pt]\&[-25pt] \mathsf{Set}\&[-25pt]\&[-25pt] \\ [-15pt] 
                X_1  \arrow[dd, "f"{name=L, left}] 
                \&[-25pt] \& [+10pt] 
                \& [-30pt]\mathrm{Hom}_{\mathsf{C}}\left(X_1,Y\right)\arrow[dd, "f^*"{name=R}] \& \ni \& h\arrow[dd,mapsto]\\ [-8pt] 
                \&  \phantom{.}\arrow[r, "\mathrm{Hom}_{\mathsf{C}}\left(-{,}Y\right)", squigarrow]\&\phantom{.}  \&   \\[-8pt] 
                X_2  \& \& \& \mathrm{Hom}_{\mathsf{C}}\left(X_2,Y\right)\& \ni \& h\circ f
            \end{tikzcd}
        \]
        where $f^*$ is called \textbf{pullback by $f$}.
    \end{itemize}
\end{definition}

\begin{proposition}{Natural Isomorphism $\left[\mathsf{C},\mathsf{D}\right]^{\mathrm{op}}\cong \left[\mathsf{C}^{\mathrm{op}},\mathsf{D}^{\mathrm{op}}\right]$}{}
    We have a natural isomorphism $\left[\mathsf{C},\mathsf{D}\right]^{\mathrm{op}}\cong \left[\mathsf{C}^{\mathrm{op}},\mathsf{D}^{\mathrm{op}}\right]$. The isomorphism is given by the functor $O_{\mathsf{C},\mathsf{D}}:\left[\mathsf{C},\mathsf{D}\right]^{\mathrm{op}}\to \left[\mathsf{C}^{\mathrm{op}},\mathsf{D}^{\mathrm{op}}\right]$ defined as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \left[\mathsf{C},\mathsf{D}\right]^{\mathrm{op}}\&[-25pt]\&[+10pt]\&[-30pt]\left[\mathsf{C}^{\mathrm{op}},\mathsf{D}^{\mathrm{op}}\right]\&[-5pt]\&[-10pt] \\ [-15pt] 
            F  \arrow[dd, Rightarrow, "\theta"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]F^{\mathrm{op}}\arrow[dd, Rightarrow, "\theta^{\mathrm{op}}"{name=R}]\&\&F^{\mathrm{op}}(X) \arrow[dd, "\theta_X"']\arrow[rr, "F^{\mathrm{op}}(f)"]\&\& F^{\mathrm{op}}(Y)\arrow[dd, "\theta_Y"]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "O_{\mathsf{C},\mathsf{D}}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            G \& \& \& G^{\mathrm{op}}\&\&G^{\mathrm{op}}(X) \arrow[rr, "G^{\mathrm{op}}(f)"']
             \&\& G^{\mathrm{op}}(Y)
        \end{tikzcd}
    \]
    The inverse of $O_{\mathsf{C},\mathsf{D}}$ is $O^{\mathrm{op}}_{\mathsf{C}^{\mathrm{op}},\mathsf{D}^{\mathrm{op}}}$. The naturality means the following diagram commutes
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=3em]
            \left[\mathsf{C}_1,\mathsf{D}_1\right]^{\mathrm{op}}\arrow[rr, "O_{\mathsf{C}_1,\mathsf{D}_1}"]\arrow[d, "(S^*T_*)^{\mathrm{op}}"{name=L, left}] 
            \& \&\left[\mathsf{C}_1^{\mathrm{op}},\mathsf{D}_1^{\mathrm{op}}\right]\arrow[d, "\left(S^{\mathrm{op}}\right)^*\circ\left(T^{\mathrm{op}}\right)_*"{name=R}] \\ 
            \left[\mathsf{C}_2,\mathsf{D}_2\right]^{\mathrm{op}}\arrow[rr, "O_{\mathsf{C}_2,\mathsf{D}_2}"]
            \& \&\left[\mathsf{C}_2^{\mathrm{op}},\mathsf{D}_2^{\mathrm{op}}\right]
        \end{tikzcd}
    \]
\end{proposition}


\begin{proposition}{Opposite Preserves Products, Functors, and Slices}{}
    \begin{itemize}
        \item Opposite preserves products:
        $(\mathsf{C} \times \mathsf{D})^{\mathrm{op}} \cong \mathsf{C}^{\mathrm{op}} \times \mathsf{D}^{\mathrm{op}}$.
    \item Opposite preserves functors:
    $[\mathsf{C}, \mathsf{D}]^{\mathrm{op}} \cong [\mathsf{C}^{\mathrm{op}}, \mathsf{D}^{\mathrm{op}}]$ .
    \item Opposite preserves slices:
    $(F \downarrow G)^{\mathrm{op}} \cong\left(G^{\mathrm{op}} \downarrow F^{\mathrm{op}}\right)$.
    \end{itemize}
\end{proposition}

\begin{definition}{Product Category}{}
    Let $\mathsf{C}$ and $\mathsf{D}$ be categories. The \textbf{product category} $\mathsf{C}\times \mathsf{D}$ is defined as follows
    \begin{itemize}
        \item Objects: $\mathrm{Ob}(\mathsf{C}\times \mathsf{D})=\mathrm{Ob}(\mathsf{C})\times \mathrm{Ob}(\mathsf{D})$.
        \item Morphisms: $\mathrm{Hom}_{\mathsf{C}\times \mathsf{D}}((C,D),(C',D'))=\mathrm{Hom}_{\mathsf{C}}(C,C')\times \mathrm{Hom}_{\mathsf{D}}(D,D')$.
        \item Composition: $(f',g')\circ (f,g)=(f'\circ f,g'\circ g)$.
        \item Identity: $\mathrm{id}_{(C,D)}=(\mathrm{id}_C,\mathrm{id}_D)$.
    \end{itemize}
\end{definition}

\begin{definition}{Initial Object}{}
    Let $\mathsf{C}$ be a category. An object $c\in \mathrm{Ob}(\mathsf{C})$ is called an \textbf{initial object} if for any object $X\in \mathrm{Ob}(\mathsf{C})$, there exists a unique morphism $c\to X$, or equivalently, $\mathrm{Hom}_{\mathsf{C}}(c,X)$ is a singleton set. 
\end{definition}

\begin{definition}{Terminal Object}{}
    Let $\mathsf{C}$ be a category. An object $c\in \mathrm{Ob}(\mathsf{C})$ is called a \textbf{terminal object} if for any object $X\in \mathrm{Ob}(\mathsf{C})$, there exists a unique morphism $X\to c$, or equivalently, $\mathrm{Hom}_{\mathsf{C}}(X,c)$ is a singleton set.
\end{definition}

\begin{proposition}{}{}
    Let $\mathsf{C}$ be a category. If $c\in \mathrm{Ob}(\mathsf{C})$  is an initial (or terminal) object then any object isomorphic to $c$ is also an initial (or terminal) object.
\end{proposition}
\begin{prf}
    Suppose $c\in \mathrm{Ob}(\mathsf{C})$ is an initial object and $c'\in \mathrm{Ob}(\mathsf{C})$ is isomorphic to $c$. Then there exists an isomorphism $f:c\to c'$. For any object $X\in \mathrm{Ob}(\mathsf{C})$, there exists a unique morphism $g:c\to X$. Hence there exists a  morphism $c'\to X$ given by $g\circ f^{-1}$. We assert $\mathrm{Hom}_{\mathsf{C}}(c',X)=g\circ f^{-1}$. If there exists a morphism $h:c'\to X$, then $h\circ f:c\to X$ is morphism. $\mathrm{Hom}_{\mathsf{C}}(c,X)=g$ forces $h\circ f=g$, which implies $h=g\circ f^{-1}$. Hence $c'$ is an initial object. The proof for terminal object is similar.
\end{prf}


\begin{definition}{Zero Object}{}
    Let $\mathsf{C}$ be a category. An object $0\in \mathrm{Ob}(\mathsf{C})$ is called a \textbf{zero object} if it is both initial and terminal. In other words, $0$ is a zero object if for any object $X\in \mathrm{Ob}(\mathsf{C})$, there exists unique morphisms $0\to X$ and $X\to 0$. These morphisms are the \textbf{zero morphisms} of $\mathsf{C}$.
\end{definition}


\begin{definition}{Evaluation Functor}{evaluation_functor}
    Let $\mathsf{A}$ be a small category and $\mathsf{C}$ be a category. The \textbf{evaluation functor} $\mathrm{ev}:\mathsf{A}\times\left[\mathsf{A},\mathsf{C}\right]\to \mathsf{C}$ is defined by
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{A}\times\left[\mathsf{A},\mathsf{C}\right]\&[-25pt]\&[+10pt]\&[-30pt] \mathsf{C}\&[-30pt]\&[-30pt] \\ [-15pt] 
            (X,F)  \arrow[dd, "f\times \theta"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]F(X)\arrow[dd, "\theta_Y\circ F(f)=G(f)\circ \theta_{X}"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\mathrm{ev}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            (Y,G)  \& \& \& G(Y)
        \end{tikzcd}
        \]
    From the following diagram, we can see that $\mathrm{ev}$ preserves composition.
    \[
        \begin{tikzcd}[ampersand replacement=\&, background color=mydefinitbg,row sep=large]
                F(X) \arrow[r, "F(f)"] \arrow[d, "\theta_X"'] \arrow[rd, "\mathrm{ev}(f\times\theta)" description]\& F(Y) \arrow[d, "\theta_Y"] \arrow[r, "F(g)"]                                                  \& F(Z) \arrow[d, "\theta_Z"] \\
                G(X) \arrow[r, "G(f)"'] \arrow[d, "\eta_X"']                                                      \& G(Y) \arrow[r, "G(g)"] \arrow[d, "\eta_Y"'] \arrow[rd, "\mathrm{ev}(g\times\eta)" description]\& G(Z) \arrow[d, "\eta_Z"]   \\
                H(X) \arrow[r, "H(f)"']                                                                           \& H(Y) \arrow[r, "H(g)"']                                                                        \& H(Z)                      
                \end{tikzcd}
    \]
    If we fix $X\in \mathsf{A}$, then we have a functor $\mathrm{ev}_X:\left[\mathsf{A},\mathsf{C}\right]\to \mathsf{C}$ defined by $\mathrm{ev}_X(F)=F(X)$. This functor is called the \textbf{evaluation functor at $X$}.
\end{definition}

\begin{definition}{Constant Functor}{}
    Suppose $\mathsf{C}$, $\mathsf{D}$ be categories and $d\in \mathrm{Ob}(\mathsf{D})$. The \textbf{constant functor} $\diagfunctor d:\mathsf{C}\to \mathsf{D}$ is defined by
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{D}\&[-30pt]\&[-30pt] \\ [-15pt] 
            x  \arrow[dd, "f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]d\arrow[dd, "\mathrm{id}_{d}"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\diagfunctor d", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            y  \& \& \& d
        \end{tikzcd}
    \]
\end{definition}

\begin{definition}{Diagonal Functor}{diagonal_functor}
    Suppose $\mathsf{J}$, $\mathsf{C}$ are categories. The \textbf{diagonal functor} $\diagfunctor:\mathsf{C}\to [\mathsf{J},\mathsf{C}]$ is defined by
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}\&[-25pt]\&[+10pt]\&[-30pt][\mathsf{J},\mathsf{C}]\&[-30pt]\&[-30pt] \&\&\&\\ [-15pt] 
            x  \arrow[dd, "f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\diagfunctor x\arrow[dd, Rightarrow, "f_\bullet"{name=R}] \& \hspace{30pt}\& x\arrow[r, "\mathrm{id}_x"]\arrow[dd, "f"']\&x\arrow[dd, "f"]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\diagfunctor", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            y  \& \& \& \diagfunctor y\&\& y\arrow[r, "\mathrm{id}_y"']\&y
        \end{tikzcd}
    \]
\end{definition}

\begin{definition}{Comma Category}{comma_category}
    Suppose that $\mathsf{A}, \mathsf{B}$, and $\mathsf{C}$ are categories, and $S$ and $T$ (for source and target) are functors:
$$
\mathsf{A} \stackrel{S}{\longrightarrow} \mathsf{C} \stackrel{T}{\longleftarrow} \mathsf{B}
$$
We can form the comma category $(S\downarrow T)$ as follows:
\begin{itemize}
    \item The objects are all triples $(A, B, h)$ with $A\in\mathrm{Ob}(\mathsf{A})$, $B\in\mathrm{Ob}(\mathsf{B})$, and $h: S(A) \rightarrow T(B)$ a morphism in $\mathsf{C}$.
    \item The morphisms from $(A, B, h)$ to $\left(A^{\prime}, B^{\prime}, h^{\prime}\right)$ are all pairs $(f, g)$ where $f: A \rightarrow A^{\prime}$ and $g: B \rightarrow B^{\prime}$ are morphisms in $\mathsf{A}$ and $\mathsf{B}$ respectively, such that the following diagram commutes:
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            S(A) \arrow[r, "h"] \arrow[d, "S(f)"'] \& T(B) \arrow[d, "T(g)"] \\
            S\left(A^{\prime}\right) \arrow[r, "h^{\prime}"'] \& T\left(B^{\prime}\right)
            \end{tikzcd}
    \]
    Morphisms are composed by taking $\left(f^{\prime}, g^{\prime}\right) \circ(f, g)$ to be $\left(f^{\prime} \circ f, g^{\prime} \circ g\right)$, whenever the latter expression is defined. The identity morphism on an object $(A, B, h)$ is $\left(\operatorname{id}_A, \operatorname{id}_B\right)$.
\end{itemize}
\end{definition}

\begin{definition}{Universal Morphism}{universal_morphism}
    Suupose $\mathsf{A}, \mathsf{B}$, and $\mathsf{C}$ are categories and $X\in\mathrm{Ob}\left(\mathsf{C}\right)$. The comma category $(\diagfunctor X\downarrow T)$ for the following pair of functors
$$
\boldone \xlongrightarrow{\diagfunctor X} \mathsf{C} \xlongleftarrow{T} \mathsf{B}
$$
can be written as $\left(X\downarrow T\right)$ for short. Morphisms in $\left(X\downarrow \mathsf{B}\right)$ can be simplified to commutative triangles
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
              \& T(B) \arrow[dd, "T(g)"]\\
            X\arrow[ru, "h"]\arrow[rd, "h^{\prime}"']\& \\
             \& T\left(B^{\prime} \right)
            \end{tikzcd}
    \]
We say $\left(Y,X\xrightarrow{u} T(Y)\right)$ is a \textbf{universal morphism from $X$ to $T$} if it is initial in $\left(X\downarrow T\right)$.

Similarly, the comma category $\left(\mathsf{A}\downarrow \diagfunctor X\right)$ for the following pair of functors
$$
\mathsf{A} \xlongrightarrow{S} \mathsf{C} \xlongleftarrow{\diagfunctor X} \boldone
$$
can be written as $\left(\mathsf{A}\downarrow X\right)$ for short. Morphisms in $\left(\mathsf{A}\downarrow X\right)$ can be simplified to commutative triangles
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
            S(A) \arrow[rd, "h"] \arrow[dd, "S(f)"'] \& \\ 
            \& X\\
            S\left(A^{\prime}\right) \arrow[ru, "h^{\prime}"'] \& 
            \end{tikzcd}
    \]
We say $\left(Y,S(Y)\xrightarrow{u} X\right)$ is a \textbf{universal morphism from $S$ to $X$} if it is terminal in $\left(\mathsf{A}\downarrow X\right)$.
\end{definition}




\begin{definition}{Slice Category}{}
    Suppose $\mathsf{C}$ is a category and $X\in\mathrm{Ob}(\mathsf{C})$. The \textbf{slice category} $\left(\mathsf{C} / X\right)$ is the comma category $(\mathrm{id}_{\mathsf{C}} \downarrow X)$, where functors are illustrated as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C} \arrow[r, "\mathrm{id}_{\mathsf{C}}"] \& \mathsf{C} \& \boldone \arrow[l, "\diagfunctor X "']
        \end{tikzcd}
    \]
    Morphims in $\left(\mathsf{C} / X\right)$ are commutative triangles shown as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
            C \arrow[rd, "h"] \arrow[dd, "f"'] \& \\
            \& X\\
            C^{\prime} \arrow[ru, "h^{\prime}"'] \&
            \end{tikzcd}
    \]
\end{definition}

\begin{definition}{Coslice Category}{coslice_category}
    Suppose $\mathsf{C}$ is a category and $X\in\mathrm{Ob}(\mathsf{C})$. The \textbf{coslice category} $\left(X / \mathsf{C}\right)$ is the comma category $(X \downarrow\mathrm{id}_{\mathsf{C}})$, where functors are illustrated as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \boldone \arrow[r, "\diagfunctor"]{} \& \mathsf{C} \& \mathsf{C} \arrow[l, "\mathrm{id}_{\mathsf{C}}"']
        \end{tikzcd}
    \]
    Morphims in $\left(X / \mathsf{C}\right)$ are commutative triangles shown as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
              \& C \arrow[dd, "f"]\\
            X\arrow[ru, "h"]\arrow[rd, "h^{\prime}"']\& \\
             \& C^{\prime} 
            \end{tikzcd}
    \]
\end{definition}


\begin{definition}{Category of Pointed Objects}{}
    Suppose $\mathsf{C}$ is a category with terminal object $\bullet$. The coslice category $\left(\bullet / \mathsf{C}\right)$ is called the \textbf{category of pointed objects} of $\mathsf{C}$ and is denoted by $\mathsf{C}_\bullet$.
\end{definition}


\begin{example}{$\mathsf{Disc}$ Functor}{}
    Given a set $X$, we can define a functor $\mathsf{Disc}:\mathsf{Set}\to \mathsf{Cat}$ as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{Set}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{Cat}\&[-30pt]\&[-30pt] \\ [-15pt] 
            X  \arrow[dd, "f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\mathsf{Disc}(X)\arrow[dd, "\mathsf{Disc}(f)"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\mathsf{Disc}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            Y  \& \& \& \mathsf{Disc}(Y)
        \end{tikzcd}
    \]
    where $\mathsf{Disc}(X)$ is the discrete category with object set $\mathrm{Ob}\left(\mathsf{Disc}(X)\right)=X$ and morphism set 
    \begin{align*}
        \mathrm{Hom}_{\mathsf{Disc}(X)}(x,y)=\begin{cases}
            \{\mathrm{id}_x\} & \text{if }x=y,\\
            \varnothing & \text{if }x\neq y,
        \end{cases}
    \end{align*}
    and $\mathsf{Disc}(f)$ is the functor defined by $\mathsf{Disc}(f)(x)=f(x)$ and $\mathsf{Disc}(f)(\mathrm{id}_x)=\mathrm{id}_{f(x)}$ for each $x\in X$.\\
    It is easy to check that the functor $\mathsf{Disc}$ is fully faithful.
\end{example}


\begin{definition}{Grothendieck Construction}{}
    Let $\mathsf{C}$ be a category and let $F: \mathsf{C} \rightarrow \mathsf{Cat}$ be a functor from any small category to the category of small categories. The \textbf{Grothendieck construction} of $F$ is a category $\int_{\mathsf{C}} F$  (also written $\Gamma(F)$) defined as follows:
    \begin{itemize}
        \item Objects are pairs $(A, a)$ where $A \in \mathrm{Ob}(\mathsf{C})$ and $a \in F(A)$.
        \item Morphisms $(A, a) \rightarrow(B, b)$ are pairs $(f, g)$ where $f: A \rightarrow B$ is a morphism in $\mathsf{C}$ and $g: F(f)(a) \rightarrow b$ is a morphism in $F(B)$.
    \end{itemize}
    The composition of morphisms is defined as follows:
    \[
        (f', g') \circ(f, g)=\left(f' \circ f, g'\circ \left(F(f')(g)\right)\right)
    \]
    where $F(f')(g): F(f')(F(f)(a)) \rightarrow F(f')(b)$ is the morphism induced by $g$ under the functor $F(f')$.
\end{definition}


\begin{definition}{Category of Elements}{category_of_elements}
    Let $\mathsf{C}$ be a category and let $F: \mathsf{C} \rightarrow \mathsf{Set}$  be a  functor. The \textbf{category of elements of $F$} is the  the \hyperref[th:comma_category]{comma category} $\left(\{*\} \downarrow F\right)$
    where functors are illustrated as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \boldone \arrow[r, "\diagfunctor\{*\}"] \& \mathsf{Set} \& \mathsf{C}  \arrow[l, " F"']
        \end{tikzcd}
    \]
    This category is denoted by $\int_\mathsf{C} F$ and can be explicitly described as follows
    \begin{itemize}
        \item Objects are pairs $(A, a)$ where $A \in \mathrm{Ob}(\mathsf{C})$ and $a \in F(A)$.
        \item Morphisms $(A, a) \rightarrow(B, b)$ are arrows $f: A \rightarrow B$ of $\mathsf{C}$ such that $F(f)(a)=b$.
    \end{itemize}

    The category of elements of $F$ is naturally equipped with a projection functor $\pi: \int_\mathsf{C} F \rightarrow \mathsf{C}$ 
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \int_\mathsf{C} F \&[-25pt]\&[+10pt]\&[-30pt]\mathsf{C}\&[-30pt]\&[-30pt] \\ [-15pt] 
            (A,a)  \arrow[dd, "f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]A\arrow[dd, "f"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\pi", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            (B,b)  \& \& \& B
        \end{tikzcd}
    \]
\end{definition}

By viewing sets in $\mathsf{Set}$ as discrete categories, we have an inclusion $\mathsf{Set}\hookrightarrow\mathsf{Cat}$. Hence the category of elements of $F$ is a special case of the Grothendieck construction.


\section{String Diagram}
String diagrams are a convenient way to represent the composition of natural transformations. From top to bottom, a string diagram represents a series of vertical compositions of natural transformations. 

Suppose $\varphi:F\Rightarrow G$ is a natural transformation between functors $F,G:\mathsf{C}\to \mathsf{D}$. The string diagram for $\varphi$ is just the Poincare dual of its 2-cell diagram. 

\begin{center}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center)]
        % Define colors
        \definecolor{rightcolor}{RGB}{204, 229, 255}
        \definecolor{leftcolor}{RGB}{204,255,204}
    
        % Draw background
        \fill[leftcolor] (0,0) rectangle (2,2);
        \fill[rightcolor] (2,0) rectangle (4,2);
    
        % Draw vertical line and point
        \draw[line width=0.7pt] (2,0) -- (2,2);
        \filldraw [black] (2,1) circle (2pt) node[left=1pt] {$\varphi$};
    
        % Label axes
        \draw (2,0) node[below] {$G$};
        \draw (2,2) node[above] {$F$};
        \draw (7,1) node {$=$};
    \end{tikzpicture}
    \hspace{1cm}
    \begin{tikzcd}[ampersand replacement=\&]
        \mathsf{C} \arrow[r, "F"{name=A, above}, bend left=40] \arrow[r, "G"'{name=B, below}, bend right=40] \&[+30pt] \mathsf{D}
        \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "\varphi"]
    \end{tikzcd}
\end{center}

When we say two string diagrams are equal, we mean that the vertical compositions of natural transformations they represent are equal.

The point(0-cells), strings(1-cells), and 2-cells in a string diagram can be interpreted as follows
\begin{itemize}
    \item 2-cells: categories. 2-cells with different colors represent different categories.
    \item 1-cells: functors. Each 1-cell has exactly two adjacent 2-cells. The left and right adjacent 2-cells are the domain and codomain of the functor respectively. We can think each 1-cell has two end points connected to either a natural transformation or the point at infinity $\infty$. If an end point is connected to $\infty$, then we say that it is a \textbf{free end}. The end point on the top of a string and the end point on the bottom of a string are called the \textbf{top end} and \textbf{bottom end} respectively.
    \item 0-cells: natural transformations. Each 0-cell has exactly two adjacent 1-cells. The top and bottom adjacent 1-cells are the domain and codomain of the natural transformation respectively. 
\end{itemize}

\subsection{Basic Operations}
\subsubsection{Composition of Functors}
If two string $F:\mathsf{C}\to\mathsf{D}$ and $G:\mathsf{D}\to\mathsf{F}$ has the same top ends and bottom ends, then we can glue them together to form a new string $G\circ F$. Depending on whether the top ends and bottom ends are free or not, we can illustrate the following cases


\begin{center}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, line width=0.7pt]
            % Define colors
        \definecolor{leftcolor}{RGB}{204,255,204}
        \definecolor{midcolor}{HTML}{FFEBB4} 
        \definecolor{rightcolor}{RGB}{204, 229, 255}
        \begin{scope}
                % Draw background
            \fill[leftcolor] (0,0) rectangle (2,4);
            \fill[midcolor] (2,0) rectangle (4,4);
            \fill[rightcolor] (4,0) rectangle (6,4);
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,0) -- (2,4);
            \draw[line width=0.7pt] (4,0) -- (4,4);
    
        
            % Label axes
            \draw (2,4) node[above] {$F$};
            \draw (4,4) node[above] {$G$};
        \end{scope}

        \draw (7,2) node {$=$};

        \begin{scope}[shift={(8,0)}]
            % Draw background
            % Draw background
            \fill[leftcolor] (0,0) rectangle (2,4);
            \fill[rightcolor] (2,0) rectangle (4,4);
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,0) -- (2,4);

        
            % Label axes
            \draw (2,4) node[above] {$G\circ F$};
        \end{scope}

        

        \begin{scope}[shift={(16,0)}]
            % Draw background
    
            \fill[leftcolor] (-1,0) rectangle (2,4);
            \fill[rightcolor] (2,0) rectangle (5,4);
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (1,1) rectangle (3, 3);
    
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,0) -- (2,1);
            \draw[line width=0.7pt] (2,3) -- (2,4);
            \filldraw [black] (2,1) circle (2pt);
            \filldraw [black] (2,3) circle (2pt);
        
            % Label axes
            \draw (1,2) node[left] {$F$};
            \draw (3,2) node[right] {$G$};
        \end{scope}
        \draw (22,2) node {$=$};
        \begin{scope}[shift={(23,0)}]
                % Draw background
            % Draw background
            \fill[leftcolor] (0,0) rectangle (2,4);
            \fill[rightcolor] (2,0) rectangle (4,4);
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,0) -- (2,4);
            \filldraw [black] (2,1) circle (2pt);
            \filldraw [black] (2,3) circle (2pt);
        
            % Label axes
            \draw (2,2) node[left] {$G\circ F$};
        \end{scope}
    \end{tikzpicture}
\end{center}
\begin{center}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, line width=0.7pt]
        \definecolor{leftcolor}{RGB}{204, 255, 204}
        \definecolor{midcolor}{HTML}{FFEBB4} 
        \definecolor{rightcolor}{RGB}{204, 229, 255}

        \begin{scope}[shift={(0,0)}]
            \begin{scope}
                \clip  (0,0) rectangle (6,4);
                    % Draw background
                \fill[leftcolor] (0,0) rectangle (3,4);
                \fill[rightcolor] (3,0) rectangle (6,4);
                \filldraw[fill=midcolor] (2,5)-- (2,4) .. controls (2,2) and (2.5, 1) .. (3,1).. controls (3.5,1) and (4, 2) .. (4,4)--(4,5)--cycle;
            \end{scope}
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (3,0) -- (3,1);
            \filldraw [black] (3,1) circle (2pt);
            
        
            % Label axes
            \draw (2,4) node[above] {$F$};
            \draw (4,4) node[above] {$G$};
        \end{scope}

        \draw (7,2) node {$=$};

        \begin{scope}[shift={(8,0)}]
            % Draw background
            \fill[leftcolor] (0,0) rectangle (2,4);
            \fill[rightcolor] (2,0) rectangle (4,4);
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,0) -- (2,4);
            \filldraw [black] (2,1) circle (2pt);
        
            % Label axes
            \draw (2,4) node[above] {$G\circ F$};
        \end{scope}

            \begin{scope}[shift={(15,0)}]
            \begin{scope}
                \clip  (0,0) rectangle (6,4);
                    % Draw background
                \fill[leftcolor] (0,0) rectangle (3,4);
                \fill[rightcolor] (3,0) rectangle (6,4);
                \filldraw[fill=midcolor] (2,-1)-- (2,0) .. controls (2,2) and (2.5, 3) .. (3,3).. controls (3.5,3) and (4, 2) .. (4,0)--(4,-1)--cycle;
            \end{scope}
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (3,4) -- (3,3);
            \filldraw [black] (3,3) circle (2pt);
            
        
            % Label axes
            \draw (2,0) node[below] {$F$};
            \draw (4,0) node[below] {$G$};
        \end{scope}

        \draw (22,2) node {$=$};

        \begin{scope}[shift={(23,0)}]
            % Draw background
            \fill[leftcolor] (0,0) rectangle (2,4);
            \fill[rightcolor] (2,0) rectangle (4,4);
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,0) -- (2,4);
            \filldraw [black] (2,3) circle (2pt);
        
            % Label axes
            \draw (2,0) node[below] {$G\circ F$};
        \end{scope}
    \end{tikzpicture}
\end{center}

\subsubsection{Vertical Composition}
The vertical composition of natural transformations $\varphi:F\Rightarrow H$ and $\psi:G\Rightarrow I$ collapses two adjacent points in a string into one single point and ``eats" the intermediate segment, which is illustrated as follows

\begin{center}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center)]
        % Define colors
        \definecolor{leftcolor}{RGB}{204,255,204}
        \definecolor{rightcolor}{RGB}{204, 229, 255}
        \begin{scope}
            % Draw background
            \fill[leftcolor] (0,-2) rectangle (2,2);
            \fill[rightcolor] (2,-2) rectangle (4,2);
        
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,-2) -- (2,2);
            \filldraw [black] (2,1) circle (2pt) node[left=1pt] {$\varphi$};
            \filldraw [black] (2,-1) circle (2pt) node[left=1pt] {$\psi$};
        
            % Label axes
            \draw (2,-2) node[below] {$H$};
            \draw (2,0) node[right] {$G$};
            \draw (2,2) node[above] {$F$};
        \end{scope}

        \draw (6,0) node {$=$};

        \begin{scope}[shift={(8,0)}]
            % Draw background
            \fill[leftcolor] (0,-2) rectangle (2,2);
            \fill[rightcolor] (2,-2) rectangle (4,2);
        
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,-2) -- (2,2);
            \filldraw [black] (2,0) circle (2pt) node[left=1pt] {$\psi\circ \varphi$};
    
            % Label axes
            \draw (2,-2) node[below] {$H$};
            \draw (2,2) node[above] {$F$};
        \end{scope}
    \end{tikzpicture}
\end{center}
\subsubsection{Horizontal Composition}
To do horizontal composition for natural transformations $\varphi:F\Rightarrow H$ and $\theta:G\Rightarrow I$ on a horizontal line. First we can stick these two points together, which is illustrated as follows

\begin{center}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center)]
        \definecolor{leftcolor}{RGB}{204, 255, 204}
        \definecolor{midcolor}{HTML}{FFEBB4} 
        \definecolor{rightcolor}{RGB}{204, 229, 255}

        \begin{scope}
             % Draw background
            \fill[leftcolor] (0,0) rectangle (2,4);
            \fill[midcolor] (2,0) rectangle (4,4);
            \fill[rightcolor] (4,0) rectangle (6,4);
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,0) -- (2,4);
            \filldraw [black] (2,2) circle (2pt) node[anchor=east] {$\varphi$};
            \draw[line width=0.7pt] (4,0) -- (4,4);
            \filldraw [black] (4,2) circle (2pt) node[anchor=west] {$\theta$};

            % Draw dashed line
            \draw[dashed, color=black!40, line width=0.7pt] (0,0) -- (6,0);
            \draw[dashed, color=black!40, line width=0.7pt] (0,4) -- (6,4);
        
            % Label axes
            \draw (2,0) node[below] {$H$};
            \draw (2,4) node[above] {$F$};
            \draw (4,0) node[below] {$I$};
            \draw (4,4) node[above] {$G$};
        \end{scope}

        \draw (8,2) node {$=$};

        \begin{scope}[shift={(10,0)}]
             \begin{scope}
                \clip (0,0) rectangle (6,4);
                % Draw background
                \fill[leftcolor] (0,0) rectangle (3,4);
                \fill[rightcolor] (3,0) rectangle (6,4);
                \filldraw[fill=midcolor, line width=0.7pt] (2,5)-- (2,4) .. controls (2, 2.5) and (2.5, 2) .. (3,2).. controls (3.5,2) and (4, 2.5) .. (4,4)--(4,5)--cycle;
                \filldraw[fill=midcolor, line width=0.7pt] (2,-1)-- (2,0) .. controls (2,1.5) and (2.5, 2) .. (3,2).. controls (3.5,2) and (4, 1.5) .. (4,0)--(4,-1)--cycle;
            \end{scope}
        
            % Draw vertical line and point
            \filldraw [black] (3,2) circle (2pt) node[left=9pt] {$\theta\circ\varphi$};

            % Draw dashed line
            \draw[dashed, color=black!40, line width=0.7pt] (0,0) -- (6,0);
            \draw[dashed, color=black!40, line width=0.7pt] (0,4) -- (6,4);

            % Label axes
            \draw (2,0) node[below] {$H$};
            \draw (2,4) node[above] {$F$};
            \draw (4,0) node[below] {$I$};
            \draw (4,4) node[above] {$G$};
        \end{scope}
    \end{tikzpicture}
\end{center}

Then we can composite the functors $F$ and $G$ to get a new functor $G\circ F$. Also we can composite the functors $H$ and $I$ to get a new functor $I\circ H$. By gluing these strings together, we get a new natural transformation $\theta\circ\varphi:G\circ F\Rightarrow I\circ H$. This is illustrated as follows


\begin{center}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm]
        \definecolor{leftcolor}{RGB}{204, 255, 204}
        \definecolor{midcolor}{HTML}{FFEBB4} 
        \definecolor{rightcolor}{RGB}{204, 229, 255}

        \begin{scope}[shift={(0,0)}]
            \begin{scope}
                \clip  (0,0) rectangle (6,4);
                 % Draw background
                \fill[leftcolor] (0,0) rectangle (3,4);
                \fill[rightcolor] (3,0) rectangle (6,4);
                \filldraw[fill=midcolor, line width=0.7pt] (2,5)-- (2,2) .. controls (2,1) and (2.5, 0.6) .. (3,0.6).. controls (3.5,0.6) and (4, 1) .. (4,2)--(4,5)--cycle;
            \end{scope}
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (3,0) -- (3,0.6);
            \filldraw [black] (3,0.6) circle (2pt);
            \filldraw [black] (2,2) circle (2pt) node[anchor=east] {$\varphi$};
            \filldraw [black] (4,2) circle (2pt) node[anchor=west] {$\theta$};

            % Label axes
            \draw (2,4) node[above] {$F$};
            \draw (4,4) node[above] {$G$};
            \draw (1.75,1) node {$H$};
            \draw (4.1,1) node {$I$};
        \end{scope}

        \draw (8,2) node {$=$};

        \begin{scope}[shift={(10,0)}]
            % Draw background
            \fill[leftcolor] (0,0) rectangle (2,4);
            \fill[rightcolor] (2,0) rectangle (4,4);
        
            % Draw vertical line and point
            \draw[line width=0.7pt] (2,0) -- (2,4);
            \filldraw [black] (2,0.6) circle (2pt);
            \filldraw [black] (2,2) circle (2pt) node[left=1pt] {$\theta\circ \varphi$};
            \draw (2, 1.3) node[anchor=west] {$I\circ H$};

            % Label axes
            \draw (2,4) node[above] {$G\circ F$};
        \end{scope}

    \end{tikzpicture}
\end{center}

\subsection{Morphism as Natural Transformation}
If $f:X\to Y$ is a morphism in $\mathsf{C}$, then the following string diagram should be understood as follows
\begin{center}
\begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center)]
    % Define colors
    \definecolor{leftcolor}{RGB}{255,255,204} % light yellow
    \definecolor{rightcolor}{RGB}{204,204,255} % light purple

    % Draw background
    \fill[leftcolor] (0,0) rectangle (2,2);
    \fill[rightcolor] (2,0) rectangle (4,2);

    % Draw vertical line and point
    \draw[line width=0.7pt] (2,0) -- (2,2);
    \filldraw [black] (2,1) circle (2pt) node[anchor=east] {$f$};

    % Label axes
    \draw (2,0) node[below] {$Y$};
    \draw (2,2) node[above] {$X$};
    \draw (7,1) node {$=$};
\end{tikzpicture}
\hspace{1cm}
\begin{tikzcd}[ampersand replacement=\&]
    \boldone \arrow[r, "\diagfunctor X"{name=A, above}, bend left=40] \arrow[r, "\diagfunctor Y"'{name=B, below}, bend right=40] \&[+30pt] \mathsf{C}
    \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "f_{\bullet}"]
\end{tikzcd}
\end{center}
\subsubsection{Naturality}
Suppose $\varphi:F\Rightarrow G$ is a natural transformation between functors $F,G:\mathsf{C}\to \mathsf{D}$. Then the functoriality of $\varphi$ can be described by the following string diagram
\[
    \begin{tikzpicture}[x=0.8cm,y=0.8cm, baseline=(current bounding box.center)]
        % Define colors
        \definecolor{leftcolor}{RGB}{255,255,204} % light yellow
        \definecolor{rightcolor}{RGB}{204,204,255} % light purple
        \begin{scope} [shift={(-3.5,0)}]
        % Draw background
        \fill[leftcolor] (-0.5,0) rectangle (1,3);
        \fill[rightcolor] (1,0) rectangle (2.5,3);
    
        % Draw vertical line and point
        \draw[line width=0.7pt] (1,0) -- (1,3);
        \filldraw [black] (1,1) circle (2pt) node[left=2pt] {$G(f)$};
        \filldraw [black] (1,2) circle (2pt) node[left=2pt] {$\varphi_X$};
        % Label axes
        \draw (1,0) node[below] {$G(Y)$};
        \draw (1,3) node[above] {$F(X)$};
        \draw (3,1.5) node {$=$};
    \end{scope} 
    \begin{scope} 
        % Draw background
        \fill[leftcolor] (0,0) rectangle (1,3);
        \fill[green!20] (1,0) rectangle (3,3);
        \begin{scope} 
            \clip (1,0) rectangle (3, 3); 
            \draw[fill=blue!20, rounded corners=0.8cm, line width=0.7pt] (0,2) rectangle (2, 5);
            \draw[fill=blue!20, rounded corners=0.8cm, line width=0.7pt] (0,2) rectangle (2, -1);
        \end{scope} 
    
        % Draw vertical line and point
        \draw[line width=0.7pt] (1,0) -- (1,3);
        \filldraw [black] (1,1) circle (2pt) node[left=2pt] {$f$};
        \filldraw [black] (1,2) circle (2pt) node[left=2pt] {$\varphi_X$};
        % Label axes
        \draw (1,0) node[below] {$Y$};
        \draw (1,3) node[above] {$X$};
        \draw (2,0) node[below] {$G$};
        \draw (2,3) node[above] {$F$};
        \draw (3.5,1.5) node {$=$};
    \end{scope} 
        
    \begin{scope} [shift={(4,0)}]
        % Define colors
        \definecolor{leftcolor}{RGB}{255,255,204} % light yellow
        \definecolor{rightcolor}{RGB}{204,204,255} % light purple
    
        % Draw background
        \fill[leftcolor] (0,0) rectangle (1,3);
        \fill[blue!20] (1,0) rectangle (2,3);
        \fill[green!20] (2,0) rectangle (3,3);
     
        % Draw vertical line and point
        \draw[line width=0.7pt] (1,0) -- (1,3);
        \draw[line width=0.7pt] (2,0) -- (2,3);
        \filldraw [black] (1,1.5) circle (2pt) node[left=2pt] {$f$};
        \filldraw [black] (2,1.5) circle (2pt) node[left=2pt] {$\varphi$};
        % Label axes
        \draw (1,0) node[below] {$Y$};
        \draw (1,3) node[above] {$X$};
        \draw (2,0) node[below] {$G$};
        \draw (2,3) node[above] {$F$};
        \draw (3.5,1.5) node {$=$};
    \end{scope} 
    
    \begin{scope}[shift={(8,0)}]
        % Define colors
        \definecolor{leftcolor}{RGB}{255,255,204} % light yellow
        \definecolor{rightcolor}{RGB}{204,204,255} % light purple
    
        % Draw background
        \fill[leftcolor] (0,0) rectangle (1,3);
        \fill[green!20] (1,0) rectangle (3,3);
        \begin{scope} 
            \clip (1,0) rectangle (3, 3); 
            \draw[fill=blue!20, rounded corners=0.8cm, line width=0.7pt] (0,1) rectangle (2, 4);
            \draw[fill=blue!20, rounded corners=0.8cm, line width=0.7pt] (0,1) rectangle (2, -2);
            %\fill[color=green!20] (2,0) rectangle (3,3);
            %\filldraw[fill=green!20, rounded corners=1cm] (2, 4) -- (2, 1) -- (1, 1) -- (2, 1) -- (2, -1) -- (4, -1) -- (4, 4) -- cycle;
        \end{scope} 
        % Draw vertical line and point
        \draw[line width=0.7pt] (1,0) -- (1,3);
        \filldraw [black] (1,1) circle (2pt) node[left=2pt] {$\varphi_Y$};
        \filldraw [black] (1,2) circle (2pt) node[left=2pt] {$f$};
        % Label axes
        \draw (1,0) node[below] {$Y$};
        \draw (1,3) node[above] {$X$};
        \draw (2,0) node[below] {$G$};
        \draw (2,3) node[above] {$F$};
        \draw (3.5,1.5) node {$=$};
    \end{scope} 
    
    \begin{scope} [shift={(12.5,0)}]
        % Draw background
        \fill[leftcolor] (-0.5,0) rectangle (1,3);
        \fill[rightcolor] (1,0) rectangle (2.5,3);
    
        % Draw vertical line and point
        \draw[line width=0.7pt] (1,0) -- (1,3);
        \filldraw [black] (1,2) circle (2pt) node[left=2pt] {$F(f)$};
        \filldraw [black] (1,1) circle (2pt) node[left=2pt] {$\varphi_Y$};
        % Label axes
        \draw (1,0) node[below] {$G(Y)$};
        \draw (1,3) node[above] {$F(X)$};
    \end{scope} 
    \end{tikzpicture}
    \]

Note that appending the string diagram \begin{tikzpicture}[x=0.3cm,y=0.3cm, baseline=(current bounding box.center)]
    % Define colors
    \definecolor{leftcolor}{RGB}{255,255,204} % light yellow
    \definecolor{rightcolor}{RGB}{204,204,255} % light purple

    % Draw background
    \fill[leftcolor] (0,0) rectangle (2,2);
    \fill[rightcolor] (2,0) rectangle (4,2);

    % Draw vertical line and point
    \draw[line width=0.7pt] (2,0) -- (2,2);
    \filldraw [black] (2,1) circle (1.2pt) node[anchor=east] {$f$};

    % Label axes
    \draw (2,0) node[below] {$Y$};
    \draw (2,2) node[above] {$X$};
\end{tikzpicture} to the left of the string diagram of $\varphi$ is equivalent to evaluating $\varphi$ at $f:X\to Y$.

\subsubsection{Elements of Sets}
Let $X$ be a set and $x\in X$ be an element of $X$. Then we represents $x$ as a morphism $x:\{*\}\to X$ in $\mathsf{Set}$, which is illustrated as follows
\begin{center}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center)]
        % Define colors
        \definecolor{leftcolor}{RGB}{255,255,204} % light yellow
        \definecolor{rightcolor}{HTML}{F5D4BC} % red
    
        % Draw background
        \fill[leftcolor] (0,0) rectangle (2,2);
        \fill[rightcolor] (2,0) rectangle (4,2);
    
        % Draw vertical line and point
        \draw[line width=0.7pt] (2,0) -- (2,2);
        \filldraw [black] (2,1) circle (2pt) node[left=1pt] {$x$};
    
        % Label axes
        \draw (2,0) node[below] {$X$};
        \draw (2,2) node[above] {$\{*\}$};
    \end{tikzpicture}
\end{center}
\subsubsection{Function as Element or Morphism}
If we have a function $f:X\to Y$, then we can represent $f$ as morphism $f:X\to Y$ in $\mathsf{Set}$, which is illustrated as follows
\[
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center)]
        % Define colors
        \definecolor{leftcolor}{RGB}{255,255,204} % light yellow
        \definecolor{rightcolor}{HTML}{F5D4BC}  % red
    
        % Draw background
        \fill[leftcolor] (0,0) rectangle (2,2);
        \fill[rightcolor] (2,0) rectangle (4,2);
    
        % Draw vertical line and point
        \draw[line width=0.7pt] (2,0) -- (2,2);
        \filldraw [black] (2,1) circle (2pt) node[anchor=east] {$f$};
    
        % Label axes
        \draw (2,0) node[below] {$Y$};
        \draw (2,2) node[above] {$X$};
    \end{tikzpicture}
\]
And we can also represent $f$ as an element $f\in \mathrm{Hom}_{\mathsf{Set}}(X,Y)$, which is illustrated as follows
\[
    \begin{tikzpicture}[
        x=0.6cm,
        y=0.6cm,
        mydot/.style={
            circle,
            fill=white,
            draw,
            outer sep=0pt,
            inner sep=1.7pt,
            line width=0.7pt
          }]
        % Define colors
        \definecolor{leftcolor}{RGB}{255,255,204} % light yellow
        \definecolor{rightcolor}{HTML}{F5D4BC}  % red
    
        % Draw background
        \fill[leftcolor] (0,0) rectangle (2,2);
        \fill[rightcolor] (2,0) rectangle (4,2);
    
        % Draw vertical line and point
        \draw[line width=0.7pt] (2,0) -- (2,2);
        \draw (2,1) node[mydot] {};
        \draw (2,1) node[left] {$f$};
    
        % Label axes
        \draw (2,0) node[below] {$\mathrm{Hom}(X,Y)$};
        \draw (2,2) node[above] {$\{*\}$};
    \end{tikzpicture}
\]
Then we have the following equalities for Hom functor $\llbracket X , -\rrbracket:\mathsf{C}\to \mathsf{Set}$
\[
 \begin{tikzpicture}[x=0.6cm,y=0.6cm,line width=0.7pt,hollow/.style={
            circle,
            fill=white,
            draw,
            outer sep=0pt,
            inner sep=1.7pt,
            line width=0.7pt
          }]
    \definecolor{leftcolor}{RGB}{255,255,204}
    \definecolor{midcolor}{HTML}{BBE6FB}
    \definecolor{rightcolor}{HTML}{F5D4BC}

    \node at (4, 1.8) {$=$};
    \node at (12, 1.8) {$=$};
    
    \begin{scope}
        \begin{scope} 
            \clip (-3,0) rectangle (3,3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$f$};
        \node[below] at (-1, 0) {$Y$};
        \node[left=-2pt] at (-1, 1.8) {$X$};
        \node[below] at (1, 0) {$\llbracket X , -\rrbracket$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$\mathrm{id}_X$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    
    \begin{scope}[shift={(8,0)}]
        \begin{scope} 
            \clip (-3,0) rectangle (3,3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2);
        \end{scope}
        \draw (0, 3.6) -- (0,2);
        \node[below] at (-1, 0) {$Y$};
        \node[below] at (1, 0) {$\llbracket X , -\rrbracket$};
        \node[hollow] at (0, 2) {};
        \node[below=2pt] at (0, 2) {$f$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    
     \begin{scope}[shift={(16,0)}]
        \begin{scope} 
            \clip (-3,0) rectangle (3, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (1,0.8) circle (2pt) node[right=1pt] {$f^\star$};
        \node[below] at (-1, 0) {$Y$};
        \node[right=-1pt] at (1, 1.8) {$\llbracket Y , -\rrbracket$};
        \node[below] at (1, 0) {$\llbracket X , -\rrbracket$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$\mathrm{id}_Y$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    
    \end{tikzpicture}
\]
Generally, given $X\xrightarrow{f}Y_1\xrightarrow{g}Y_2$ in $\mathsf{Set}$, we have the following equalities
\[
 \begin{tikzpicture}[x=0.6cm,y=0.6cm,line width=0.7pt,hollow/.style={
            circle,
            fill=white,
            draw,
            outer sep=0pt,
            inner sep=1.7pt,
            line width=0.7pt
          }]
    \definecolor{leftcolor}{RGB}{255,255,204}
    \definecolor{midcolor}{HTML}{BBE6FB}
    \definecolor{rightcolor}{HTML}{F5D4BC}

    \node at (4, 1.8) {$=$};
    \node at (12, 1.8) {$=$};
    
    \begin{scope}
        \begin{scope} 
            \clip (-3,0) rectangle (3,3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$g$};
        \node[below] at (-1, 0) {$Y_2$};
        \node[left=-2pt] at (-1, 1.8) {$Y_1$};
        \node[below] at (1, 0) {$\llbracket X , -\rrbracket$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$f$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    
    \begin{scope}[shift={(8,0)}]
        \begin{scope} 
            \clip (-3,0) rectangle (3,3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2);
        \end{scope}
        \draw (0, 3.6) -- (0,2);
        \node[below] at (-1, 0) {$Y_2$};
        \node[below] at (1, 0) {$\llbracket X , -\rrbracket$};
        \node[hollow] at (0, 2) {};
        \node[below=2pt] at (0, 2) {$g\circ f$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    
     \begin{scope}[shift={(16,0)}]
        \begin{scope} 
            \clip (-3,0) rectangle (3, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (1,0.8) circle (2pt) node[right=1pt] {$f^\star$};
        \node[below] at (-1, 0) {$Y_2$};
        \node[right=-1pt] at (1, 1.8) {$\llbracket Y_1 , -\rrbracket$};
        \node[below] at (1, 0) {$\llbracket X , -\rrbracket$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$g$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    
    \end{tikzpicture}
\]
\section{Representable Functor}
\begin{definition}{Presheaf}{}
    Let $\mathsf{C}$ be a category. A \textbf{presheaf} on $\mathsf{C}$ is a functor $F:\mathsf{C}^{\mathrm{op}}\to \mathsf{Set}$.
\end{definition}


\begin{definition}{Yoneda Embedding Functor}{yoneda_embedding_functor}
    Let $\mathsf{C}$ be a category. The \textbf{Yoneda embedding functor} is the functor $Y_\mathsf{C}:\mathsf{C}\to \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right]$ defined as follows
    \[
    \begin{tikzcd}[ampersand replacement=\&]
    \mathsf{C} % column 1
    \&[-25pt]  % column 2
    \&[+30pt]  % column 3
    \&[-30pt] \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right]    % column 4
    \&[+25pt]  % column 5
    \&[-25pt]  % column 6 
    \&         % column 7
    \\[-15pt]
    Y_1 \arrow[dd, "g"{name=L, left}] \&\&  \& \mathrm{Hom}_{\mathsf{C}}\left(-,Y_1\right) \arrow[dd, Rightarrow, "g_\star"{name=R}] \& \mathrm{Hom}_{\mathsf{C}}(X_1,Y_1) \arrow[dd, "{g_*}"'] \arrow[rr, "{f^*}"] \& \& \mathrm{Hom}_{\mathsf{C}}(X_2,Y_1) \arrow[dd, "g_*"] \\[-5pt]
    \& \phantom{.}\arrow[r, "Y_\mathsf{C}", squigarrow]\&\phantom{.} \&\phantom{.} \&\phantom{.}\&\\[-5pt]
    Y_2 \& \& \& \mathrm{Hom}_{\mathsf{C}}\left(-,Y_2\right)\& \mathrm{Hom}_{\mathsf{C}}(X_1,Y_2) \arrow[rr, "{f^*}"'] \& \& \mathrm{Hom}_{\mathsf{C}}(X_2,Y_2) 
    \arrow[from=4-5, to=2-5, dash, start anchor={[xshift=-8ex,yshift=-3ex]}, end anchor={[xshift=-8ex,yshift=3ex]},decorate,decoration={brace,amplitude=10pt,raise=4pt}] 
    \arrow[from=3-4, to=3-5, dashed, start anchor={[xshift=9pt, yshift=-2pt]}, end anchor={[xshift=-11ex, yshift=-2pt]},decorate] 
    \end{tikzcd}
    \]
    where the natural transformation $g_\star$ is defined pointwise as follows: $\left(g_\star\right)_X=g_*$ for any $X\in \mathrm{Ob}(\mathsf{C}^{\mathrm{op}})$.\\
    The contravariant version is $Y_{\mathsf{C}^{\mathrm{op}}}:\mathsf{C}^{\mathrm{op}}\to \left[\mathsf{C},\mathsf{Set}\right]$, which is defined as follows
    \[
    \begin{tikzcd}[ampersand replacement=\&]
    \mathsf{C}^{\mathrm{op}} % column 1
    \&[-25pt]  % column 2
    \&[+30pt]  % column 3
    \&[-30pt] \left[\mathsf{C},\mathsf{Set}\right]    % column 4
    \&[+25pt]  % column 5
    \&[-25pt]  % column 6 
    \&         % column 7
    \\[-15pt]
    X_1 \arrow[dd, "f"{name=L, left}] \&\&  \& \mathrm{Hom}_{\mathsf{C}}\left(X_1,-\right) \arrow[dd, Rightarrow, "f^\star"{name=R}] \& \mathrm{Hom}_{\mathsf{C}}(X_1,Y_1) \arrow[dd, "{f^*}"'] \arrow[rr, "{g_*}"] \& \& \mathrm{Hom}_{\mathsf{C}}(X_1,Y_2) \arrow[dd, "f^*"] \\[-5pt]
    \& \phantom{.}\arrow[r, "Y_{\mathsf{C}^{\mathrm{op}}}", squigarrow]\&\phantom{.} \&\phantom{.} \&\phantom{.}\&\\[-5pt]
    X_2 \& \& \& \mathrm{Hom}_{\mathsf{C}}\left(X_2,-\right)\& \mathrm{Hom}_{\mathsf{C}}(X_2,Y_1) \arrow[rr, "{g_*}"'] \& \& \mathrm{Hom}_{\mathsf{C}}(X_2,Y_2) 
    \arrow[from=4-5, to=2-5, dash, start anchor={[xshift=-8ex,yshift=-3ex]}, end anchor={[xshift=-8ex,yshift=3ex]},decorate,decoration={brace,amplitude=10pt,raise=4pt}] 
    \arrow[from=3-4, to=3-5, dashed, start anchor={[xshift=9pt, yshift=-2pt]}, end anchor={[xshift=-11ex, yshift=-2pt]},decorate] 
    \end{tikzcd}
    \]
    Here we use the fact $\mathrm{Hom}_{\mathsf{C}^{\mathrm{op}}}\left(-,X\right)=\mathrm{Hom}_{\mathsf{C}}\left(X,-\right)$.
    
\end{definition}

\begin{theorem}{Yoneda Lemma}{yoneda_lemma}
    Let $\mathsf{C}$ be a locally small category. For any functor $F:\mathsf{C}^{\mathrm{op}}\to \mathsf{Set}$ and any $A\in \mathrm{Ob}(\mathsf{C})$, there is a natural bijection
    \begin{align*}
        q_{A,F}:\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(\operatorname{Hom}_{\mathsf{C}}\left(-,A\right), F\right) & \overset{\sim}{\longrightarrow} F(A) \\
        {  \left[ \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}^{\mathrm{op}} \arrow[r, "\operatorname{Hom}_{\mathsf{C}}\left(-{,}A\right)"{name=A, above}, bend left] \arrow[r, "F"'{name=B, below}, bend right] \&[+30pt] \mathsf{Set}
            \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "\phi"]
        \end{tikzcd}\right] } & \longmapsto \phi_A\left(\operatorname{id}_A\right)
    \end{align*}
    The naturality of $q_{A,F}$ means that 
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}^{\mathrm{op}}\times \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right]\&[-34pt]\&[+62pt]\&[-25pt] \mathsf{Set}\&[-25pt]\&[-25pt] \\ [-15pt] 
            (A_1,F_1)  \arrow[dd, "\left(g{,} \eta\right)"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}(\mathrm{Hom}_{\mathsf{C}}(-,A_1),F_1)\arrow[dd, ""{name=R}] \& \ni \& \phi \arrow[dd,mapsto]\\ [-8pt] 
            \&  \phantom{.}\arrow[r, "\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(Y_\mathsf{C}(-){,}-\right)", squigarrow]\&\phantom{.}  \&   \\[-8pt] 
            (A_2,F_2)  \& \& \& \operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}(\mathrm{Hom}_{\mathsf{C}}(-,A_2),F_2)\& \ni \& \eta\circ \phi\circ g_\star
        \end{tikzcd}
    \]
    is a functor isomorphic to the \hyperref[th:evaluation_functor]{evaluation functor}
    \begin{align*}
        \mathrm{ev}:\mathsf{C}^{\mathrm{op}}\times \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right]&\longrightarrow \mathsf{Set}\\
        \left(A,F\right)&\longmapsto F(A)
    \end{align*}
    \textbf{Covariant version}\\
    For any functor $F:\mathsf{C}\to \mathsf{Set}$ and any $A\in \mathrm{Ob}(\mathsf{C})$, there is a natural bijection
    \begin{align*}
        \operatorname{Hom}_{\left[\mathsf{C},\mathsf{Set}\right]}\left(\operatorname{Hom}_{\mathsf{C}}\left(A,-\right), F\right) & \overset{\sim}{\longrightarrow} F(A) \\
        {  \left[ \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C} \arrow[r, "\operatorname{Hom}_{\mathsf{C}}\left(A{,}-\right)"{name=A, above}, bend left] \arrow[r, "F"'{name=B, below}, bend right] \&[+30pt] \mathsf{Set}
            \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "\phi"]
        \end{tikzcd}\right] } & \longmapsto \phi_A\left(\operatorname{id}_A\right)
    \end{align*}
\end{theorem}

\begin{prf}
    We break the proof into following steps.
\begin{itemize}[leftmargin=*]
    \item \textbf{$\phi$ is determined by $\phi_A\left(\operatorname{id}_A\right)$}.\\
    Suppose $\phi:\mathrm{Hom}_{\mathsf{C}}\left(-,A\right)\Rightarrow F$ is a natural transformation. Given any morphism $f:X\to A$ in $\mathsf{C}$, the naturality of $\phi$ gives the following commutative diagram
    \[
		\begin{tikzcd}[ampersand replacement=\&, row sep = 3.5em]
			\mathrm{id}_A\arrow[d, mapsto]\&[-25pt]\in\&[-25pt]\mathrm{Hom}_{\mathsf{C}}(A,A) \arrow[d, "{\phi_A}"']  \arrow[rr, "{f^*}"] \&[-20pt] \& {\mathrm{Hom}_{\mathsf{C}}(X,A)} \arrow[d, "\phi_X"]\&[-25pt]\ni\&[-25pt]f \arrow[d, mapsto]\\
			\phi_A(\mathrm{id}_A)\&\in\&{F(A)}\arrow[rr, "{F(f)}"'] \&  \& {F(X)}  \&\ni\& \phi_X(f)     
		\end{tikzcd}
	\]
    Thus we see $\phi$ is determined by $\phi_A(\mathrm{id}_A)$ as follows
    \[
        \phi_X(f)=F(f)(\phi_A(\mathrm{id}_A)),\quad\forall X\in \mathrm{Ob}(\mathsf{C}),\forall f\in \mathrm{Hom}_{\mathsf{C}}(X,A).
    \]
    This implies that the injectivity of $q_{A,F}$.
    \item \textbf{Construct the inverse of $q_{A,F}$}.\\
    Define 
    \begin{align*}
        r_{A,F}:  F(A)&\longrightarrow\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(\operatorname{Hom}_{\mathsf{C}}\left(-,A\right), F\right) \\
         u & \longmapsto \phi^u:\left[\begin{aligned}\phi_X^u: \mathrm{Hom}_{\mathsf{C}}(X,A)&\longrightarrow F(X)\\
             f&\longmapsto F(f)(u)\end{aligned}  \right]
    \end{align*}
    To ensure $r_{A,F}$ is well-defined, we need to check that $r_{A,F}(u)=\phi^u$ is always a natural transformation. In fact, given any morphism $h:X_1\to X_2$ in $\mathsf{C}$, it is easy to check the following diagram commutes
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep = 3.5em]
                g\arrow[mapsto]{d}\&[-25pt]\in\&[-25pt]\mathrm{Hom}_{\mathsf{C}}(X_2,A) \arrow[d, "{\phi_{X_2}^u}"']  \arrow[rr, "{h^*}"] \&[-20pt] \& {\mathrm{Hom}_{\mathsf{C}}(X_1,A)} \arrow[d, "\phi_{X_1}^u"]\&[-25pt]\ni\&[-25pt]g\circ h \arrow[mapsto]{d}\\
                F(g)(u)\&\in\&{F(X_2)}\arrow[rr, "{F(h)}"'] \&  \& {F(X_1)}  \&\ni\& F(g\circ h)(u)  
            \end{tikzcd}
    \]
    because the functoriality of $F$ gives the identity $F(g\circ h)=F(h)\circ F(g)$.

    For any $u\in F(A)$, we have
    \begin{align*}
        \left(q_{A,F}\circ r_{A,F}\right)(u)
        &=q_{A,F}(\phi^u)\\
        &=\phi^u_A(\mathrm{id}_A)\\
        &=F(\mathrm{id}_A)(u)\\
        &=\mathrm{id}_{F(A)}(u)\\
        &=u,
    \end{align*}
    which implies that $q_{A,F}$ is surjective. Therefore, $q_{A,F}$ is a bijection and $r_{A,F}$ is the inverse of $q_{A,F}$.

    We can also manually check that $\left(r_{A,F}\circ q_{A,F}\right)(\phi)=\phi$ for any natural transformation $\phi:\mathrm{Hom}_{\mathsf{C}}\left(-,A\right)\Rightarrow F$, by evaluating the natural transformations at $\mathrm{id}_A$,
    \begin{align*}
        \left(\left(r_{A,F}\circ q_{A,F}\right)(\phi)\right)_A(\mathrm{id}_A)&=(r_{A,F}(\phi_A(\mathrm{id}_A)))_A(\mathrm{id}_A)\\
        &=F(\mathrm{id}_A)(\phi_A(\mathrm{id}_A))\\
        &=\mathrm{id}_{F(A)}(\phi_A(\mathrm{id}_A))\\
        &=\phi_A(\mathrm{id}_A).
    \end{align*}
    \item \textbf{$q_{A,F}$ is natural in $A$ and $F$}.\\
    $\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(Y_\mathsf{C}(-){,}-\right)$ is a functor obtained by the composition 
    \[
        \mathsf{C}^{\mathrm{op}}\times \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right]\xrightarrow{\left(Y^{\mathrm{op}}_{\mathsf{C}},\mathrm{id}\right)}\left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right]^{\mathrm{op}}\times \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right]\xrightarrow{\mathrm{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(-,-\right)}\mathsf{Set}
    \]
    Given any $g:A_2\to A_1$ and $\eta:F_1\to F_2$, we should check the following diagram commutes
    \[
        \begin{tikzcd}[row sep=3.5em, column sep=2.5em, ampersand replacement=\&]
        {\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}(Y_\mathsf{C}(A_1),F_1)} \arrow[d, "{q_{A_1,F_1}}"'] \arrow[rr, "\left(g_\star\right)^*\circ \eta_*"] \&  \& {\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}(Y_\mathsf{C}(A_2),F_2)} \arrow[d, "q_{A_2,F_2}"] \\
        {F_1(A_1)} \arrow[rr, "F_2(g)\circ \eta_{A_1}"']      \&  \& {F_2(A_2)}               
    \end{tikzcd}
    \]
    It suffices to check that the following diagram commutes
    \[
    \begin{tikzcd}[ampersand replacement=\&, row sep = 3.5em]
        \operatorname{Hom}(Y_\mathsf{C}(A_1),F_1) \arrow[rr,"\left(g_\star\right)^*"] \arrow[dr,swap,"\eta_*"] \arrow[dd,swap,"q_{A_1,F_1}"] \&\&
        \operatorname{Hom}(Y_\mathsf{C}(A_2),F_1) \arrow[dd,swap,"q_{A_2,F_1}" near start] \arrow[dr,"\eta_*"] \\
        \& \operatorname{Hom}(Y_\mathsf{C}(A_1),F_2) \arrow[rr,crossing over,"\left(g_\star\right)^*" near start] \&\&
        \operatorname{Hom}(Y_\mathsf{C}(A_2),F_2) \arrow[dd,"q_{A_2,F_2}"] \\
        F_1(A_1) \arrow[rr,"F_1(g)" near end] \arrow[dr,swap,"\eta_{A_1}"] \&\& F_1(A_2) \arrow[dr,swap,"\eta_{A_2}"] \\
        \& F_2(A_1) \arrow[rr,"F_2(g)"] \arrow[uu,<-,crossing over,"q_{A_1,F_2}" near end]\&\& F_2(A_2)
        \end{tikzcd}
    \]
\end{itemize}
    To check the commutativity of the left square
    \[
        \begin{tikzcd}[row sep=3.5em, column sep=2.5em, ampersand replacement=\&]
        {\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}(Y_\mathsf{C}(A_1),F_1)} \arrow[d, "{q_{A_1,F_1}}"'] \arrow[rr, "\eta_*"] \&  \& {\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}(Y_\mathsf{C}(A_1),F_2)} \arrow[d, "q_{A_1,F_2}"] \\
        {F_1(A_1)} \arrow[rr, "\eta_{A_1}"']      \&  \& {F_2(A_1)}               
    \end{tikzcd}
    \]
    we can verify that for any $\phi\in \operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(Y_\mathsf{C}(A_1),F_1\right)$, 
    \begin{align*}
        q_{A_1,F_2}\circ \eta_*\left(\phi\right)&=q_{A_1,F_2}\left(\eta\circ \phi\right)\\
        &=\left(\eta\circ \phi\right)_{A_1}\left(\mathrm{id}_{A_1}\right)\\
        &=\eta_{A_1}(\phi_{A_1}(\mathrm{id}_{A_1}))\\
        &=\eta_{A_1}\circ q_{A_1,F_1}(\phi).
    \end{align*}
    To check the commutativity of the front square
    \[
        \begin{tikzcd}[row sep=3.5em, column sep=2.5em, ampersand replacement=\&]
        {\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}(Y_\mathsf{C}(A_1),F_2)} \arrow[d, "{q_{A_1,F_2}}"'] \arrow[rr, "\left(g_\star\right)^*"] \&  \& {\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}(Y_\mathsf{C}(A_2),F_2)} \arrow[d, "q_{A_2,F_2}"] \\
        {F_2(A_1)} \arrow[rr, "F_2(g)"']      \&  \& {F_2(A_2)}               
    \end{tikzcd}
    \]
    we can verify that for any $\psi\in \operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(Y_\mathsf{C}(A_1),F_2\right)$, we have
    \begin{align*}
        q_{A_2,F_2}\circ \left(g_\star\right)^*(\psi)&=q_{A_2,F_2}\left(\psi\circ g_\star\right)\\
        &=\left(\psi\circ g_\star\right)_{A_2}\left(\mathrm{id}_{A_2}\right)\\
        &=\psi_{A_2}\circ g_*\left(\mathrm{id}_{A_2}\right)\\
        &=\psi_{A_2}(g)\\
        &=F_2(g)(\psi_{A_1}(\mathrm{id}_{A_1}))\\
        &=F_2(g)\circ q_{A_1,F_2}(\psi).
    \end{align*}
\end{prf}

\noindent For the covariant version, the following string diagram shows $\phi$ is determined by $\phi_A\left(\operatorname{id}_A\right)$
\[
        \phi_X(f)=F(f)(\phi_A(\mathrm{id}_A)),\quad\forall X\in \mathrm{Ob}(\mathsf{C}),\forall f\in \mathrm{Hom}_{\mathsf{C}}(A,X).
\]
\[
    \begin{tikzpicture}[x=0.8cm,y=0.8cm, line width=0.7pt, hollow/.style={
            circle,
            fill=white,
            draw,
            outer sep=0pt,
            inner sep=1.5pt,
            line width=0.7pt
          }]
        % Define colors
         \definecolor{leftcolor}{RGB}{255,255,204}
    \definecolor{midcolor}{HTML}{BBE6FB}
    \definecolor{rightcolor}{HTML}{F5D4BC}

    \node at (-3.75, 1.8) {$=$};
    \node at (3.75, 1.8) {$=$};

    \begin{scope}[shift={(-7.5,0)}]
        \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (1,0.8) circle (2pt) node[right=1pt] {$\phi$};
        \node[below] at (-1, 0) {$X$};
        \node[right=-1pt] at (1, 1.8) {$\llbracket A , -\rrbracket$};
        \node[below] at (1, 0) {$F$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$f$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}

    \begin{scope}[shift={(0,0)}]
        \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (1,0.8) circle (2pt) node[right=1pt] {$\phi$};
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$f$};
        \node[below] at (-1, 0) {$X$};
        \node[right=-1pt] at (1, 1.8) {$\llbracket A , -\rrbracket$};
        \node[left=1pt] at (-1, 1.8) {$A$};
        \node[below] at (1, 0) {$F$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$\mathrm{id}_A$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}

    \begin{scope}[shift={(7.5,0)}]
        \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -3) rectangle (1, 1.8);
        \end{scope}
        \draw (0, 3.6) -- (0, 1.8);
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$f$};
        \filldraw [black] (0,1.8) circle (2pt) node[below=1pt] {$\phi_A$};
        \node[below] at (-1, 0) {$X$};
        \node at (-1.08, 1.6) {$A$};
        \node[below] at (1, 0) {$F$};
        \node[hollow] at (0, 2.8) {};
        \node[right=1pt] at (0, 2.3) {$\llbracket A , A\rrbracket$}; 
        \node[left=1pt] at (0, 2.8) {$\mathrm{id}_A$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    \end{tikzpicture}
\]

\noindent For any $u\in F(A)$, we can define $\phi^u:\mathrm{Hom}_{\mathsf{C}}\left(A,-\right)\Rightarrow F$ by

\[
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, line width=0.7pt, hollow/.style={
            circle,
            fill=white,
            draw,
            outer sep=0pt,
            inner sep=1.5pt,
            line width=0.7pt
          }]
        % Define colors
    \definecolor{leftcolor}{RGB}{255,255,204}
    \definecolor{midcolor}{HTML}{BBE6FB}
    \definecolor{rightcolor}{HTML}{F5D4BC}

    \node at (-3.75, 1.8) {$=$};
    \draw [|-To, line width=0.5pt] (3.25,1.8) -- (4.25,1.8) node[midway,above] {$\phi^u_X$};
    \node at (11.25, 1.8) {$:=$};

    \begin{scope}[shift={(-7.5,0)}]
        \begin{scope} 
            \clip (-2.75,0) rectangle (2.75, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \node[below] at (-1, 0) {$X$};
        \node[below] at (1, 0) {$\llbracket A , -\rrbracket$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$f$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}

    \begin{scope}[shift={(0,0)}]
        \begin{scope} 
            \clip (-2.75,0) rectangle (2.75, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$f$};
        \node[below] at (-1, 0) {$X$};
        \node[left=1pt] at (-1, 1.8) {$A$};
        \node[below] at (1, 0) {$\llbracket A , -\rrbracket$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$\mathrm{id}_A$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}

    \begin{scope}[shift={(7.5,0)}]
       \begin{scope} 
            \clip (-2.75,0) rectangle (2.75, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (1,0.8) circle (2pt) node[right=1pt] {$\phi^u$};
        \node[below] at (-1, 0) {$X$};
        \node[right=-1.5pt] at (0.9, 2.15) {$\llbracket A , -\rrbracket$};
        \node[below] at (1, 0) {$F$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$f$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    
    \begin{scope}[shift={(15,0)}]
       \begin{scope} 
            \clip (-2.75,0) rectangle (2.75, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.6cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$f$};
        \filldraw [black] (0, 2.8) circle (2pt) node[below=2pt] {$u$};
        \node[below] at (-1, 0) {$X$};
        \node[left=1pt] at (-1, 1.8) {$A$};
        \node[below] at (1, 0) {$F$};
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    \end{tikzpicture}
\]

\noindent and check that the naturality of $\phi^u$ as follows

\[
    \begin{tikzpicture}[x=0.8cm,y=0.8cm, line width=0.7pt, hollow/.style={
            circle,
            fill=white,
            draw,
            outer sep=0pt,
            inner sep=1.5pt,
            line width=0.7pt
          }]
        % Define colors
         \definecolor{leftcolor}{RGB}{255,255,204}
    \definecolor{midcolor}{HTML}{BBE6FB}
    \definecolor{rightcolor}{HTML}{F5D4BC}

    \draw [|-To, line width=0.5pt] (-4.75,-5.8) -- (-3.25,-5.8) node[midway,above] {$F(h)$};
    \draw [|-To, line width=0.5pt] (0,-1.25) -- (0,-2.5) node[midway,right] {$\phi^u_{X_2}$};
    \draw [|-To, line width=0.5pt] (-4.75,1.8) -- (-3.25,1.8) node[midway,above] {$\llbracket A , h\rrbracket$};
    \draw [|-To, line width=0.5pt] (-8,-1.25) -- (-8,-2.5) node[midway,right] {$\phi^u_{X_1}$};  

    \begin{scope}[shift={(-8,0)}]
        \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$g$};
        \node[below] at (-1, 0) {$X_1$};
        \node[left=1pt] at (-1, 1.8) {$A$};
        \node[below] at (1, 0) {$\llbracket A , -\rrbracket$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$\mathrm{id}_A$}; 
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}

    \begin{scope}[shift={(-8,-7.5)}]
       \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$g$};
        \filldraw [black] (0, 2.8) circle (2pt) node[below=2pt] {$u$};
        \node[below] at (-1, 0) {$X_1$};
        \node[left=1pt] at (-1, 1.8) {$A$};
        \node[below] at (1, 0) {$F$};
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}

    \begin{scope}[shift={(0,-7.5)}]
        \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \node[below] at (-1, 0) {$X_2$};
        \node[right] at (-1, 1.3) {$X_1$};
        \node[below] at (-1, 3) {$A$};
        \node[below] at (1, 0) {$F$};
        % \node[hollow] at (0, 2.8) {};
        % \node[below=2pt] at (0, 2.8) {$u$}; 
        \filldraw [black] (-1,1.8) circle (2pt) node[left=1pt] {$g$};
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$h$};
        \filldraw [black] (0, 2.8) circle (2pt) node[below=2pt] {$u$};
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}

     \begin{scope}[shift={(0,0)}]
        \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
        \end{scope}
        \draw (0, 3.6) -- (0,2.8);
        \node[below] at (-1, 0) {$X_2$};
        \node[right] at (-1, 1.3) {$X_1$};
        \node[below] at (-1, 3) {$A$};
        \node[below] at (1, 0) {$\llbracket A , -\rrbracket$};
        \node[hollow] at (0, 2.8) {};
        \node[below=2pt] at (0, 2.8) {$\mathrm{id}_A$}; 
        \filldraw [black] (-1,1.8) circle (2pt) node[left=1pt] {$g$};
        \filldraw [black] (-1,0.8) circle (2pt) node[left=1pt] {$h$};
        \node[above] at (0, 3.6) {$\{*\}$};
    \end{scope}
    
    \end{tikzpicture}    
\]
Then it is straightforward to see $\phi^u_{A}\left(\mathrm{id_A}\right)=u$ and $\phi^{\phi_A(\mathrm{id}_A)}=\phi$.


\begin{corollary}{Yoneda Embedding}{}
    Let $\mathsf{C}$ be a locally small category. The \hyperref[th:yoneda_embedding_functor]{Yoneda embedding functor} $Y_\mathsf{C}:\mathsf{C}\to \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right]$ is fully faithful. That is, for any $A_1,A_2\in\mathrm{Ob}\left(\mathsf{C}\right)$, the morphism set map 
    \begin{align*}
        \left.Y_{\mathsf{C}}\right|_{\operatorname{Hom}_{\mathsf{C}}\left(A_1,A_2\right)}:\operatorname{Hom}_{\mathsf{C}}\left(A_1,A_2\right) &\longrightarrow\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(\operatorname{Hom}_{\mathsf{C}}\left(-,A_1\right), \operatorname{Hom}_{\mathsf{C}}\left(-,A_2\right)\right) \\
         f & \longmapsto f_\star
    \end{align*}
    is a bijection. That justifies the name ``embedding'' because $\mathsf{C}$ is embedded into $\mathsf{Psh}(\mathsf{C})$ via $Y_\mathsf{C}$ as a full subcategory.
\end{corollary}

\begin{prf}
    By \hyperref[th:yoneda_lemma]{Yoneda lemma}, there is a natural bijection
    \[
        \operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(\operatorname{Hom}_{\mathsf{C}}\left(-,A_1\right), \operatorname{Hom}_{\mathsf{C}}\left(-,A_2\right)\right)\cong \operatorname{Hom}_{\mathsf{C}}\left(A_1,A_2\right),
    \]
    which is given by
    \begin{align*}
        r_{A_1,Y_{\mathsf{C}}(A_2)}:  \operatorname{Hom}_{\mathsf{C}}\left(A_1,A_2\right) &\xlongrightarrow{\sim}\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(\operatorname{Hom}_{\mathsf{C}}\left(-,A_1\right), \operatorname{Hom}_{\mathsf{C}}\left(-,A_2\right)\right) \\
         f & \longmapsto f_\star:\left[\begin{aligned}\left(f_\star\right)_X: \mathrm{Hom}_{\mathsf{C}}(X,A_1)&\longrightarrow \mathrm{Hom}_{\mathsf{C}}(X,A_2)\\
             g&\longmapsto f_*(g)=f\circ g\end{aligned}  \right]
    \end{align*}
    and
    \begin{align*}
        q_{A_1,Y_{\mathsf{C}}(A_2)}:\operatorname{Hom}_{\mathsf{Psh}(\mathsf{C})}\left(\operatorname{Hom}_{\mathsf{C}}\left(-,A_1\right), \operatorname{Hom}_{\mathsf{C}}\left(-,A_2\right)\right) & \xlongrightarrow{\sim}\operatorname{Hom}_{\mathsf{C}}\left(A_1,A_2\right) \\
        {  \left[ \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}^{\mathrm{op}} \arrow[r, "\operatorname{Hom}_{\mathsf{C}}\left(-{,}A_1\right)"{name=A, above}, bend left] \arrow[r, "\operatorname{Hom}_{\mathsf{C}}\left(-{,}A_2\right)"'{name=B, below}, bend right] \&[+30pt] \mathsf{Set}
            \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "\phi"]
        \end{tikzcd}\right] } & \longmapsto \phi_{A_1}\left(\operatorname{id}_{A_1}\right)
    \end{align*}
    Note that $r_{A_1,Y_{\mathsf{C}}(A_2)}$ is exactly the morphism set map $\left.Y_{\mathsf{C}}\right|_{\operatorname{Hom}_{\mathsf{C}}\left(A_1,A_2\right)}$.
\end{prf}

Yoneda embedding allows us to regard any category $\mathsf{C}$ as a full subcategory of $\mathsf{Psh}(\mathsf{C})$. So in the sense of categorical isomorphism, we can identify any object $A\in \mathrm{Ob}(\mathsf{C})$ with a presheaf $\operatorname{Hom}_{\mathsf{C}}(-, A)$. 

An object in a category is equivalent to the collection of all arrows pointing to that object. In other words, the information we care about is which arrows from an object itself and other objects would point to this object, while the object's internals are completely regarded as a black box. 

The arrows between objects in a category are equivalent to the transformations between sets of arrows pointing to objects. Specifically, suppose $f$ is an arrow from object $A$ to object $B$, then any arrow pointing to $A$ can be transformed into an arrow pointing to $B$ by appending an $f$, which is exactly what $f_\star$ does. Conversely, if there is a way to naturally transform all arrows pointing to $A$ into arrows pointing to $B$, then this transformation must be realized by appending an arrow between $A$ and $B$.

\begin{definition}{Representable Functor}{}
    Let $\mathsf{C}$ be a locally small category. 
    \begin{itemize}
        \item A functor $F:\mathsf{C}\to \mathsf{Set}$ is called \textbf{representable} if it is naturally isomorphic to $\operatorname{Hom}_{\mathsf{C}}\left(A,-\right)$ for some $A\in \mathrm{Ob}(\mathsf{C})$.
        \item A functor $F:\mathsf{C}^{\mathrm{op}}\to \mathsf{Set}$ is called \textbf{representable} if it is naturally isomorphic to $\operatorname{Hom}_{\mathsf{C}}\left(-,A\right)$ for some $A\in \mathrm{Ob}(\mathsf{C})$.
    \end{itemize}
    A \textbf{representation of $F$} is a pair $(A,\phi)$, where $A\in \mathrm{Ob}(\mathsf{C})$ and $\phi:  \operatorname{Hom}_{\mathsf{C}}\left(A,-\right)\xRightarrow{\sim} F$ is a natural isomorphism. \\
    According to \hyperref[th:yoneda_lemma]{Yoneda lemma}, $\phi:\operatorname{Hom}_{\mathsf{C}}\left(A,-\right)\Rightarrow  F$ is 1-1 correspondence with an element $\phi_A(\mathrm{id}_A)\in F(A)$. We define an \textbf{universal element of $F$} is a pair $(A,u)$ where $A\in \mathrm{Ob}(\mathsf{C})$ and $u\in F(A)$ such that $u$ corresponds to a natural isomorphism $\phi: \operatorname{Hom}_{\mathsf{C}}\left(A,-\right)\xRightarrow{\sim} F$. Specifying a universal element of $F$ is equivalent to specifying a representation of $F$.
\end{definition}

\[
 \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center), line width=0.7pt]
    \definecolor{leftcolor}{RGB}{255,255,204}
    \definecolor{midcolor}{HTML}{BBE6FB}
    \definecolor{rightcolor}{HTML}{F5D4BC}
    \node at (-2.5, 6) {$\phi_{X}:$};
    \node at (0, 6) {$\mathrm{Hom}_{\mathsf{C}}\left(A,X\right)$};
    \node at (4.75, 6) {$\xlongrightarrow{\sim}$};
    \node at (4.75, -4.75) {$\longmapsfrom$};
    \node at (4.75, 1.8) {$\longmapsto$};
    \node at (9.5, 6) {$F(X)$};
    
    \begin{scope}[line width=0.7pt]
        \begin{scope}
            \clip (-3,0.4) rectangle (3,3.2);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 3.2);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 3.2);  
        \end{scope}
        \node[below] at (0, 0.4) {$X$};
        \node[left=1pt] at (0, 1.8) {$f$};
        \draw[fill=black] (0, 1.8) circle (0.1);  
        \draw (0, 3.2) -- (0, 0.4);
        \node[above] at (0, 3.2) {$A$};
    \end{scope}

    \begin{scope}[shift={(9.5,0)}]
    \fill[fill=leftcolor] (-3,-0.4) rectangle (0,4); 
     \fill[fill=rightcolor] (0, -0.4) rectangle (3,4); 
     \fill[fill=midcolor] (-1, -0.4) rectangle (1,2); 
        \begin{scope} 
            \clip (-2.5,0.4) rectangle (2.5,3.2);     
            \fill[fill=leftcolor] (-2.5,0) rectangle (0, 3.2);  
            \fill[fill=midcolor] (0,0) rectangle (2.5, 3.2);  
        \end{scope}
        \draw[line width=1.7pt, color=black!80, rounded corners=2.5pt] (-2.5, 0.4) rectangle (2.5, 3.2); % inner rectangle
        \node[above,shift={(0.35,0.1)}] at (0, 0.4) {$X$};
        \node[left=1pt] at (0, 1.8) {$f$};
        \draw[fill=black] (0, 1.8) circle (0.1);  
        \draw (0, 4) -- (0, 0.4);
        \node[below,shift={(0.35,-0.1)}] at (0, 3.2) {$A$};
        \draw (1, 0.4) -- (1, -0.4);
        \draw (-1, 0.4) -- (-1, -0.4);
        \node[above] at (0, 4) {$\{*\}$};
        \node[below] at (-1, -0.4) {$X$};
        \node[below] at (1, -0.4) {$F$};
    \end{scope}
    
    \begin{scope}[shift={(0, -6.5)}, line width=0.7pt]
    \fill[fill=leftcolor] (-3,-0.4) rectangle (0,4); 
     \fill[fill=midcolor] (0, -0.4) rectangle (3,4); 
        \begin{scope} 
            \clip (-2.5,0.4) rectangle (2.5, 3.2);     
            \fill[fill=leftcolor] (-2.5,0) rectangle (0, 3.2);  
            \fill[fill=rightcolor] (0,0) rectangle (2.5, 3.2);  
            \draw[fill=midcolor, rounded corners=0.6cm] (-1, -2) rectangle (1, 2);
        \end{scope}
        \node[shift={(-0.35,0.35)}] at (-1, 0.4) {$X$};
        \node[shift={(0.35,0.35)}] at (1, 0.4) {$F$};
        \node[below=2pt] at (0, 2) {$s$};
        \draw[fill=black] (0, 2) circle (0.1);  
        \draw (0,4) -- (0,2);
        \draw (0, -0.4) -- (0,0.4);
        \node[below,shift={(-0.5,0.1)}] at (0, 3) {\scalebox{.8}{$\{*\}$}};
        \draw[line width=1.7pt, color=black!80, rounded corners=2.5pt] (-2.5, 0.4) rectangle (2.5, 3.2); % inner rectangle
        \node[above] at (0, 4){$A$};
        \node[below] at (0, -0.6){$X$};
    \end{scope}

    \begin{scope}[shift={(9.5, -6.5)}, line width=0.7pt]
        \begin{scope} 
            \clip (-3,0.4) rectangle (3,3.2);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 3.2);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 3.2);  
            \draw[fill=midcolor, rounded corners=0.6cm] (-1, -2) rectangle (1, 2);
        \end{scope}
        \node[below] at (-1, 0.4) {$X$};
        \node[below] at (1, 0.4) {$F$};
        \node[below=2pt] at (0, 2) {$s$};
        \draw[fill=black] (0, 2) circle (0.1);  
        \draw (0,3.2) -- (0,2);
        \node[above] at (0, 3.2) {$\{*\}$};
    \end{scope}
    \end{tikzpicture}
\]

The naturality diagram of $\phi$ 
\[
    \begin{tikzcd}[ampersand replacement=\&, row sep = 3.5em]
        \mathrm{Hom}_{\mathsf{C}}(A,X) \arrow[d, "{\phi_X}"'{name=L, left}, "{\sim}"{name=R, right}]  \arrow[rr, "{h_*}"] \&[-20pt] \& {\mathrm{Hom}_{\mathsf{C}}(A,Y)} \arrow[d, "{\phi_Y}"'{name=L, right}, "{\sim}"{name=R, left}]\\
        {F(X)}\arrow[rr, "{F(h)}"'] \&  \& {F(Y)}  
    \end{tikzcd}
\]
can be translated into the following calculus rules

\[
 \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center), line width=0.7pt]
    \definecolor{leftcolor}{RGB}{255,255,204}
    \definecolor{rightcolor}{HTML}{BBE6FB}
    \definecolor{midcolor}{HTML}{F5D4BC}

    \node at (4.75, 1.1) {$=$};
  
    \begin{scope}[shift={(9.5,0)}]
     \fill[fill=leftcolor] (-3,-1.8) rectangle (0,4); 
     \fill[fill=midcolor] (0, -1.8) rectangle (3,4); 
     \fill[fill=rightcolor] (-1, -1.8) rectangle (1,2); 
        \begin{scope} 
            \clip (-2.5,0.4) rectangle (2.5,3.2);     
            \fill[fill=leftcolor] (-2.5,0) rectangle (0, 3.2);  
            \fill[fill=rightcolor] (0,0) rectangle (2.5, 3.2);  
        \end{scope}
        \draw[line width=1.7pt, color=black!80, rounded corners=2.5pt] (-2.5, 0.4) rectangle (2.5, 3.2); % inner rectangle
        \node[above,shift={(0.35,0.1)}] at (0, 0.4) {$X$};
        \node[left=1pt] at (0, 1.8) {$f$};
        \draw[fill=black] (0, 1.8) circle (0.1);  
        \draw (0, 4) -- (0, 0.4);
        \node[below,shift={(0.35,-0.1)}] at (0, 3.2) {$A$};
        \draw (1, 0.4) -- (1, -1.8);
        \draw (-1, 0.4) -- (-1, -1.8);
        \node[above] at (0, 4) {$\{*\}$};
        \node[below] at (-1, -1.8) {$Y$};
        \node[below] at (1, -1.8) {$F$};
        \node[left=-1pt] at (-1, -0.1) {$X$};
        \filldraw [black] (-1, -1) circle (0.1) node[left=1pt] {$h$};
    \end{scope}

    \begin{scope}
    \fill[fill=leftcolor] (-3,-1.8) rectangle (0,4); 
     \fill[fill=midcolor] (0, -1.8) rectangle (3,4); 
     \fill[fill=rightcolor] (-1, -1.8) rectangle (1,2); 
        \begin{scope} 
            \clip (-2.5,-0.7) rectangle (2.5,3.2);     
            \fill[fill=leftcolor] (-2.5,-2) rectangle (0, 3.2);  
            \fill[fill=rightcolor] (0,-2) rectangle (2.5, 3.2);  
        \end{scope}
        \draw[line width=1.7pt, color=black!80, rounded corners=2.5pt] (-2.5, -0.7) rectangle (2.5, 3.2); % inner rectangle
        \node[right] at (0, 1.25) {$X$};
        \node[left=1pt] at (0, 1.9) {$f$};
        \draw[fill=black] (0, 1.8) circle (0.1);  
        \draw (0, 4) -- (0, -0.7);
        \node[right] at (0, 2.55) {$A$};
        \draw (1, -0.7) -- (1, -1.8);
        \draw (-1, -0.7) -- (-1, -1.8);
        \node[above] at (0, 4) {$\{*\}$};
        \node[below] at (-1, -1.8) {$Y$};
        \node[below] at (1, -1.8) {$F$};
        \node[right] at (0, -0.05) {$Y$};
        \filldraw [black] (0, 0.6) circle (0.1) node[left=1pt] {$h$};
    \end{scope}
   
    \end{tikzpicture}
\]
\[
 \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center), line width=0.7pt]
    \definecolor{leftcolor}{RGB}{255,255,204}
    \definecolor{rightcolor}{HTML}{BBE6FB}
    \definecolor{midcolor}{HTML}{F5D4BC}

    \node at (4.75, 1.1) {$=$};
  
    \begin{scope}[shift={(9.5,0)}]
   \fill[fill=leftcolor] (-3,-1.8) rectangle (0,4); 
     \fill[fill=rightcolor] (0, -1.8) rectangle (3,4); 
        \begin{scope} 
            \clip (-2.5,0.4) rectangle (2.5, 3.2);     
            \fill[fill=leftcolor] (-2.5,0) rectangle (0, 3.2);  
            \fill[fill=midcolor] (0,0) rectangle (2.5, 3.2);  
            \draw[fill=rightcolor, rounded corners=0.6cm] (-1, -2) rectangle (1, 2);
        \end{scope}
        \node[shift={(-0.35,0.35)}] at (-1, 0.4) {$X$};
        \node[shift={(0.35,0.35)}] at (1, 0.4) {$F$};
        \node[below=2pt] at (0, 2) {$s$};
        \draw[fill=black] (0, 2) circle (0.1);  
        \draw (0,4) -- (0,2);
        \draw (0, -1.8) -- (0,0.4);
        \node[below,shift={(-0.5,0.1)}] at (0, 3) {\scalebox{.8}{$\{*\}$}};
        \draw[line width=1.7pt, color=black!80, rounded corners=2.5pt] (-2.5, 0.4) rectangle (2.5, 3.2); % inner rectangle
        \node[above] at (0, 4){$A$};
        \node[left] at (0, -0.1){$X$};
        \node[below] at (0, -1.8){$Y$};
        \filldraw [black] (0, -0.9) circle (0.1) node[left=1pt] {$h$};
    \end{scope}

    \begin{scope}
   \fill[fill=leftcolor] (-3,-1.8) rectangle (0,4); 
     \fill[fill=rightcolor] (0, -1.8) rectangle (3,4); 
        \begin{scope} 
            \clip (-2.5,-0.7) rectangle (2.5, 3.2);     
            \fill[fill=leftcolor] (-2.5,0) rectangle (0, 3.2);  
            \fill[fill=midcolor] (0,-1) rectangle (2.5, 3.2);  
            \draw[fill=rightcolor, rounded corners=0.6cm] (-1, -2) rectangle (1, 2);
        \end{scope}
        \node[shift={(-0.35,0.35)}] at (-1, -0.7) {$Y$};
        \node[shift={(0.35,0.35)}] at (1, -0.7) {$F$};
        \node[below=2pt] at (0, 2) {$s$};
        \draw[fill=black] (0, 2) circle (0.1);  
        \draw (0,4) -- (0,2);
        \draw (0, -1.8) -- (0, -0.7);
        \node[below,shift={(-0.5,0.1)}] at (0, 3) {\scalebox{.8}{$\{*\}$}};
        \draw[line width=1.7pt, color=black!80, rounded corners=2.5pt] (-2.5, -0.7) rectangle (2.5, 3.2); % inner rectangle
        \node[above] at (0, 4){$A$};
        \node[left] at (-0.8, 1.65){$X$};
        \node[below] at (0, -1.8){$Y$};
        \filldraw [black] (-1, 0.6) circle (0.1) node[left=1pt] {$h$};
    \end{scope}   
    \end{tikzpicture}
\]


\begin{proposition}{Equivalent Characterizations of Representable Functor}{representable_functor_by_universal_element}
    Suppose $F:\mathsf{C}\to \mathsf{Set}$ is a functor. Then the following statements are equivalent:
    \begin{enumerate}[(i)]
        \item $F$ is representable by universal element $(A,u)$ 
        \item $(A,u)$ is initial in the category \hyperref[th:category_of_elements]{$\int_{\mathsf{C}}F$}$=\left(\{*\} \downarrow F\right)$, which corresponds to $ \begin{tikzcd}[ampersand replacement=\&]
            \boldone \arrow[r, "\diagfunctor\{*\}"] \& \mathsf{Set} \& \mathsf{C}  \arrow[l, " F"']
        \end{tikzcd}$.
        \item $(A,\phi^u)$ is initial in the category $\left(  \text{\hyperref[th:yoneda_embedding_functor]{$Y_{\mathsf{C}^{\mathrm{op}}}$}}\downarrow F\right)$, which corresponds to $ \begin{tikzcd}[ampersand replacement=\&]
           \mathsf{C}^{\mathrm{op}}  \arrow[r, " Y_{\mathsf{C}^{\mathrm{op}}}"] \& \left[\mathsf{C},\mathsf{Set}\right] \&  \boldone \arrow[l, "\diagfunctor F"']
        \end{tikzcd}$.
        \item $\left(A,\diagfunctor u:\{*\}\to F(A)\right)$ is a \hyperref[th:universal_morphism]{universal morphism} from $\{*\}$ to $F$.
        \item For any $(X,x)\in \mathrm{Ob}(\int_{\mathsf{C}}F)$, there is a unique morphism $(A,u)\to (X,x)$ in $\int_{\mathsf{C}}F$ (which is a morphism $f:A\to X$ in $\mathsf{C}$ such that $F(f)(u)=x$).
    \end{enumerate}
    Suppose $F:\mathsf{C}^{\mathrm{op}}\to \mathsf{Set}$ is a functor. Then the following statements are equivalent:
    \begin{enumerate}[(i)]
        \item $F$ is representable by universal element $(A,u)$ 
        \item $(A,u)$ is initial in the category \hyperref[th:category_of_elements]{$\int_{\mathsf{C}^{\mathrm{op}}}F$}$=\left(\{*\} \downarrow F\right)$, which corresponds to $ \begin{tikzcd}[ampersand replacement=\&]
            \boldone \arrow[r, "\diagfunctor\{*\}"] \& \mathsf{Set} \& \mathsf{C}^{\mathrm{op}}  \arrow[l, " F"']
        \end{tikzcd}$.
        \item $(A,\phi^u)$ is terminal in the category $\left(  \text{\hyperref[th:yoneda_embedding_functor]{$Y_{\mathsf{C}}$}}\downarrow F\right)$, which corresponds to $ \begin{tikzcd}[ampersand replacement=\&]
           \mathsf{C} \arrow[r, " Y_{\mathsf{C}}"] \& \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right] \&  \boldone \arrow[l, "\diagfunctor F"']
        \end{tikzcd}$.
        \item $\left(A,\diagfunctor u:\{*\}\to F(A)\right)$ is a \hyperref[th:universal_morphism]{universal morphism} from $\{*\}$ to $F$.
        \item For any $(X,x)\in \mathrm{Ob}\left(\int_{\mathsf{C}^{\mathrm{op}} }F\right)$, there is a unique morphism $(A,u)\to (X,x)$ in $\int_{\mathsf{C}^{\mathrm{op}} }F$ (which is a morphism $f: X\to A$ in $\mathsf{C}$ such that $F(f)(x)=u$).
    \end{enumerate}
\end{proposition}

\begin{prf}
    (i)$\iff$ (ii). Suppose $(A,u)$ is an object of $\int_{\mathsf{C}}F$ and $\phi^u:\operatorname{Hom}_{\mathsf{C}}\left(A,-\right)\Rightarrow F$ be the natural transformation
    \[
        \phi^u_X(f)=F(f)(u),\quad\forall f\in \mathrm{Hom}_{\mathsf{C}}(A,X),
    \]
    which can be illustrated by the following diagram
    \[
		\begin{tikzcd}[ampersand replacement=\&, row sep = 3.5em]
			\mathrm{id}_A\arrow[d, mapsto]\&[-25pt]\in\&[-25pt]\mathrm{Hom}_{\mathsf{C}}(A,A) \arrow[d, "{\phi_A^u}"']  \arrow[rr, "{f_*}"] \&[-20pt] \& {\mathrm{Hom}_{\mathsf{C}}(A,X)} \arrow[d, "\phi_X^u"]\&[-25pt]\ni\&[-25pt]f \arrow[d, mapsto]\\
			u=\phi_A^u(\mathrm{id}_A)\&\in\&{F(A)}\arrow[rr, "{F(f)}"'] \&  \& {F(X)}  \&\ni\& \phi_X^u(f)     
		\end{tikzcd}
	\]   
    Thus we have
    \begin{align*}
        (A,u)\text{ is initial in }\int_{\mathsf{C}}F&\iff \forall(X,x)\in \mathrm{Ob}\left(\int_{\mathsf{C}}F\right),\;\exists! f\in \mathrm{Hom}_{\mathsf{C}}(A,X),\;F(f)(u)=x\\
        &\iff\forall X\in \mathrm{Ob}\left(\mathsf{C}\right),\; \forall x\in F(X),\;\exists! f\in \mathrm{Hom}_{\mathsf{C}}(A,X),\;\phi_X^u(f)=x\\
        &\iff \forall X\in \mathrm{Ob}\left(\mathsf{C}\right),\;\phi_X^u \text{ is bijective}\\
        &\iff \phi^u \text{ is a natural isomorphism}\\
        &\iff (A,u) \text{ is a universal element of }F.
    \end{align*}
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
              \& F(A) \arrow[dd, dashed, "F(f)"]\\
            \{*\}\arrow[ru, "\diagfunctor u"]\arrow[rd, "\diagfunctor x"']\& \\
             \& F\left(X\right)
            \end{tikzcd}
    \]
    (i)$\iff$ (iii). $\left(A,\phi^u\right)$ is initial in $\left(  Y_{\mathsf{C}^{\mathrm{op}}}\downarrow F\right)$ if and only if for any $ X\in \mathrm{Ob}\left(\mathsf{C}\right)$ and any natural transformation $\psi:\mathrm{Hom}_\mathsf{C}\left(X,-\right)\implies F$, there is a unique $f\in \mathrm{Hom}_{\mathsf{C}}(A,X)$ such that $\phi^u\circ f^\star=\psi$
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
               \mathrm{Hom}_{\mathsf{C}}\left(A,-\right) \arrow[rd, "\phi^u"]\&\\
            \& F\\
             \mathrm{Hom}_{\mathsf{C}}\left(X,-\right) \arrow[ru, "\psi"']\arrow[uu, dashed, "f^\star"]\& 
            \end{tikzcd}
    \]
    or equivalently
    \[
        \psi_X(\mathrm{id}_X)=\left(\phi^u\circ f^\star\right)_X(\mathrm{id}_X)=\phi^u_X(f).
    \]
    Suppose $F$ is representable by universal element $(A,u)$. Then $\phi^u:\mathrm{Hom}_\mathsf{C}\left(A,-\right)\xRightarrow{\sim} F$ is a natural isomorphism. Since
    \begin{align*}
        \left.Y_{\mathsf{C}^{\mathrm{op}}}\right|_{\operatorname{Hom}_{\mathsf{C}}\left(A,X\right)}:\operatorname{Hom}_{\mathsf{C}}\left(A,X\right) &\xlongrightarrow{\sim}\operatorname{Hom}_{[\mathsf{C},\mathsf{Set}]}\left(\operatorname{Hom}_{\mathsf{C}}\left(X,-\right), \operatorname{Hom}_{\mathsf{C}}\left(A,-\right)\right) \\
         f & \longmapsto f^\star
    \end{align*}
    is a bijection, there is a unique $f\in \mathrm{Hom}_{\mathsf{C}}(A,X)$ such that $f^\star=\left(\phi^u\right)^{-1}\circ\psi$ or equivalently $\phi^u\circ f^\star=\psi$.

    Conversely, suppose $(A,\phi^u)$ is initial in $\left(  Y_{\mathsf{C}^{\mathrm{op}}}\downarrow F\right)$. Then for any $ X\in \mathrm{Ob}\left(\mathsf{C}\right)$ and any $x\in F(X)$, there exist natural transformation $\psi^x:\mathrm{Hom}_\mathsf{C}\left(X,-\right)\implies F$ and unique $f\in \mathrm{Hom}_{\mathsf{C}}(A,X)$ such that $x=\psi_X^x(\mathrm{id}_X)=\phi^u_X(f)$,
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
               \mathrm{Hom}_{\mathsf{C}}\left(A,X\right) \arrow[rd, "\phi^u_X"]\&\\
            \& F(X)\\
             \mathrm{Hom}_{\mathsf{C}}\left(X,X\right) \arrow[ru, "\psi_X^x"']\arrow[uu, dashed, "f^*"]\& 
            \end{tikzcd}
    \]
    which implies $\phi^u_X$ is bijective. Thus $\phi^u$ is a natural isomorphism and $(A,u)$ is a universal element of $F$.
\end{prf}

\begin{corollary}{Initial Object Characterized by Representable Functor}{initial_object_representable_functor}
    Suppose $\mathsf{C}$ is a locally small category.
    \begin{itemize}
        \item $A\in\mathrm{Ob}(\mathsf{C})$ is initial in $\mathsf{C}$ if and only if the functor $\diagfunctor \{*\}:\mathsf{C}\to \mathsf{Set}$ is representable and naturally isomorphic to $\mathrm{Hom}_\mathsf{C}\left(A,-\right)$.
        \item $A\in\mathrm{Ob}(\mathsf{C})$ is terminal in $\mathsf{C}$ if and only if the functor $\diagfunctor \{*\}:\mathsf{C}^{\mathrm{op}}\to \mathsf{Set}$ is representable and naturally isomorphic to $\mathrm{Hom}_\mathsf{C}\left(-,A\right)$.
    \end{itemize}
\end{corollary}

\begin{prf}
    Let $\diagfunctor \{*\}:\mathsf{C}\to \mathsf{Set}$ be a constant functor. It is easy to see that the category $\int_\mathsf{C}\diagfunctor \{*\}$ is isomorphic to $\mathsf{C}$ through the functor
    \begin{align*}
        p:\int_\mathsf{C}\diagfunctor \{*\}&\longrightarrow \mathsf{C}\\
        (C,*) &\longmapsto C
    \end{align*}
    As established in \Cref{th:representable_functor_by_universal_element},
    $(A,*)\in\mathrm{Ob}(\mathsf{C})$ is initial in $\int_\mathsf{C}\diagfunctor \{*\}$ if and only if $\diagfunctor \{*\}$ is a representable functor with a universal element $(A,*)$, which proves the first statement. The second statement can be obtained by applying the first statement to $\mathsf{C}^{\mathrm{op}}$.\\
    In addition, an alternative ad-hoc proof is conceivable. If $\diagfunctor \{*\}$ is naturally isomorphic to $\mathrm{Hom}_\mathsf{C}\left(A,-\right)$ through $\theta:\mathrm{Hom}_\mathsf{C}\left(A,-\right)\xRightarrow{\sim} \diagfunctor \{*\}$, we have no choice but to define $\theta_X(\mathrm{id}_X)=*$. Note that $\diagfunctor \{*\}(A)=\{*\}$.  Yoneda lemma also implies that $\theta$ must correspond to $*\in \diagfunctor \{*\}(A)$ and accordingly $\theta$ is the unique natural isomorphism from $\mathrm{Hom}_\mathsf{C}\left(A,-\right)$ to $\diagfunctor\{*\}$.
\end{prf}

\begin{lemma}{}{isomorphism_between_comma_category_and_Grothendieck_construction}
    Let $F:\mathsf{C}\to \mathsf{D}$ be a functor and $X\in \mathrm{Ob}(\mathsf{D})$. Consider functors
    \[
        \begin{tikzcd}[ampersand replacement=\&,column sep=2.2cm]
            \boldone \arrow[r, "\diagfunctor X"] \& {\mathsf{D}} \& \mathsf{C}  \arrow[l, "F"']\\
            \boldone \arrow[r, "\diagfunctor \{*\}"] \& {\mathsf{Set}} \& \mathsf{C}  \arrow[l, "{\mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)}"']
        \end{tikzcd}
    \]
    
    We have the following category isomorphism 
    $$
    \left(X \downarrow F\right)
    \cong
    \left( \{*\}\downarrow \mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)\right)=\int_{\mathsf{C}}  \mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)
    $$
    through the functor $(A,u)\mapsto(A,\diagfunctor u)$, whose action on commutative diagrams is illustrated as follows
    \[
    \begin{tikzcd}[ampersand replacement=\&]
        X \arrow[r, "u"] \arrow[rdd, "g"'] \&[+20pt] F(A) \arrow[dd, "F\left(h\right)", dashed]\&[+10pt]\&[+10pt] \{*\} \arrow[r, "\diagfunctor u"] \arrow[rdd, "\diagfunctor g"'] \&[+15pt] \mathrm{Hom}_{\mathsf{D}}\left(X,F(A)\right)\arrow[dd, "F(h)_*", dashed] \\[-2pt]
        \& \&\longmapsto\&\&\\[-2pt]
        \& F(B)\&\&\&\mathrm{Hom}_{\mathsf{D}}\left(X,F(B)\right)          
    \end{tikzcd}
    \]
\end{lemma}

\begin{proposition}{Equivalent Characterizations of Universal Morphism}{universal_morphism_by_representability}
    Let $F:\mathsf{C}\to \mathsf{D}$ be a functor, $A,X\in \mathrm{Ob}(\mathsf{D})$ and $u:X\to F(A)$ be a morphism. Then the following statements are equivalent:
    \begin{enumerate}[(i)]
        \item $(A,u)$ is initial in the category $\left(X \downarrow F\right)$.
        \item $\mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)$ is representable by universal element $(A,u)$.
        \item $(A,\diagfunctor u)$ is initial in the category $\int_{\mathsf{C}}  \mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)=\left( \{*\}\downarrow \mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)\right)$.
    \end{enumerate}
 Dually, the following statements are equivalent:
    \begin{enumerate}[(i)]
        \item $(A,u)$ is terminal in the category $\left(F \downarrow X\right)$.
        \item $\mathrm{Hom}_{\mathsf{D}}\left(F(-),X\right)$ is representable by universal element $(A,u)$.
        \item $(A,\diagfunctor u)$ is initial in the category $\int_{\mathsf{C}^{\mathrm{op}}}  \mathrm{Hom}_{\mathsf{D}}\left(F(-),X\right)=\left( \{*\}\downarrow \mathrm{Hom}_{\mathsf{D}}\left(F(-),X\right)\right)$.
    \end{enumerate}
\end{proposition}

\begin{prf}     
    It suffices to show (i)$\iff$ (iii). The category $\left(X \downarrow F\right)$ is isomorphic to $\int_{\mathsf{C}}  \mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)$ through the functor 
    \[
    \begin{tikzcd}[ampersand replacement=\&]
        X \arrow[r, "u"] \arrow[rdd, "g"'] \&[+20pt] F(A) \arrow[dd, "F\left(h\right)", dashed]\&[+10pt]\&[+10pt] \{*\} \arrow[r, "\diagfunctor u"] \arrow[rdd, "\diagfunctor g"'] \&[+15pt] \mathrm{Hom}_{\mathsf{D}}\left(X,F(A)\right)\arrow[dd, "F(h)_*", dashed] \\[-2pt]
        \& \&\longmapsto\&\&\\[-2pt]
        \& F(B)\&\&\&\mathrm{Hom}_{\mathsf{D}}\left(X,F(B)\right)          
    \end{tikzcd}
    \]
    We can also verify it directly.
    \begin{align*}
        (A,u)\text{ is initial in }\left(X \downarrow F\right)&\iff \forall(B,g)\in \mathrm{Ob}\left(X \downarrow F\right),\;\exists! h\in \mathrm{Hom}_{\mathsf{C}}(A,B),\;F(h)\circ u=g\\
        &\iff \forall B\in \mathrm{Ob}\left(\mathsf{C}\right),\;\forall g\in \mathrm{Hom}_{\mathsf{C}}(X,F(B)),\;\exists! h\in \mathrm{Hom}_{\mathsf{C}}(A,B),\;F(h)\circ u=g\\
        &\iff \forall (B,\diagfunctor g)\in \mathrm{Ob}\left(\int_{\mathsf{C}}  \mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)\right),\;\exists! h\in \mathrm{Hom}_{\mathsf{C}}(A,B),\;F(h)_*\circ\diagfunctor u=\diagfunctor g\\
        &\iff (A,u)\text{ is initial in }\int_{\mathsf{C}}  \mathrm{Hom}_{\mathsf{D}}\left(X,F(-)\right)
    \end{align*}
  The dual version is similar.
\end{prf}


\begin{example}{Identity Functor $\mathrm{id}_{\mathsf{Set}}$ is Representable}{identity_functor_is_representable}
    The identity functor $\mathrm{id}_{\mathsf{Set}}:\mathsf{Set}\to \mathsf{Set}$ is representable by $\left(\{*\},\mathrm{id}_{\{*\}}\right)$. The natural isomorphism $\phi:\mathrm{Hom}_{\mathsf{Set}}\left(\{*\},-\right)\xRightarrow{\sim} \mathrm{id}_{\mathsf{Set}}$ is defined by 
    \begin{align*}
        \phi_X:\mathrm{Hom}_{\mathsf{Set}}\left(\{*\},X \right)&\xlongrightarrow{\sim} X\\
        f&\longmapsto f(*)
    \end{align*}
    Naturality of $\phi$ means that for any function $h:X\to Y$, the following diagram commutes
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathrm{Hom}_{\mathsf{Set}}\left(\{*\},X \right)\arrow[r, "h_*"] \arrow[d, "\phi_X"'] \& \mathrm{Hom}_{\mathsf{Set}}\left(\{*\},Y \right) \arrow[d, "\phi_Y"]\\[+10pt]
            X \arrow[r, "h"'] \& Y
        \end{tikzcd}
    \]
\end{example}


\begin{example}{$\mathrm{Ob}:\mathsf{Cat}\to \mathsf{Set}$ is Representable}{}
    The functor 
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{Cat}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{Set}\&[-30pt]\&[-30pt] \\ [-15pt] 
           \mathsf{C}  \arrow[dd, "F"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\mathrm{Ob}(\mathsf{C}) \arrow[dd, "F^{\mathrm{Ob}}"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\mathrm{Ob}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            \mathsf{D}  \& \& \& \mathrm{Ob}(\mathsf{D}) 
        \end{tikzcd}
    \]
    $\mathrm{Ob}:\mathsf{Cat}\to \mathsf{Set}$ is representable by $\left(\boldone,\mathrm{id}_{\{*\}}\right)$. The natural isomorphism $\phi:\mathrm{Hom}_{\mathsf{Cat}}\left(\boldone,-\right)\xRightarrow{\sim} \mathrm{Ob}$ is defined by 
    \begin{align*}
        \phi_{\mathsf{C}}:\mathrm{Hom}_{\mathsf{Cat}}\left(\boldone,\mathsf{C} \right)&\xlongrightarrow{\sim} \mathrm{Ob}(\mathsf{C})\\
        F&\longmapsto F^{\mathrm{Ob}}(\bullet)
    \end{align*}
    Naturality of $\phi$ means that for any functor $H:\mathsf{C}\to \mathsf{D}$, the following diagram commutes
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathrm{Hom}_{\mathsf{Cat}}\left(\boldone,\mathsf{C} \right)\arrow[r, "H_\star"] \arrow[d, "\phi_{\mathsf{C}}"'] \& \mathrm{Hom}_{\mathsf{Cat}}\left(\boldone,\mathsf{D} \right) \arrow[d, "\phi_{\mathsf{D}}"]\\[+10pt]
            \mathrm{Ob}(\mathsf{C}) \arrow[r, "H^{\mathrm{Ob}}"'] \& \mathrm{Ob}(\mathsf{D})
        \end{tikzcd}
    \]

\end{example}

\begin{example}{$\mathrm{Mor}:  \mathsf{C}\to \mathsf{Set}$ is Representable}{}
    The functor 
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{Cat}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{Set}\&[-30pt]\&[-30pt] \\ [-15pt] 
           \mathsf{C}  \arrow[dd, "F"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\mathrm{Mor}(\mathsf{C}) \arrow[dd, "F^{\mathrm{Mor}}"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\mathrm{Mor}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            \mathsf{D}  \& \& \& \mathrm{Mor}(\mathsf{D}) 
        \end{tikzcd}
    \]
    $\mathrm{Mor}: \mathsf{Cat}\to \mathsf{Set}$ is representable by $\left(\boldtwo,\bullet\to\bullet\right)$. The natural isomorphism $\phi:\mathrm{Hom}_{\mathsf{Cat}}\left(\boldtwo,-\right)\xRightarrow{\sim} \mathrm{Mor}$ is defined by
    \begin{align*}
        \phi_{\mathsf{C}}:\mathrm{Hom}_{\mathsf{Cat}}\left(\boldtwo,\mathsf{C} \right)&\xlongrightarrow{\sim} \mathrm{Mor}(\mathsf{C})\\
        F&\longmapsto F^{\mathrm{Mor}}\left(\bullet\to\bullet\right)
    \end{align*}
    Naturality of $\phi$ means that for any functor $H:\mathsf{C}\to \mathsf{D}$, the following diagram commutes
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathrm{Hom}_{\mathsf{Cat}}\left(\boldtwo,\mathsf{C} \right)\arrow[r, "H_\star"] \arrow[d, "\phi_{\mathsf{C}}"'] \& \mathrm{Hom}_{\mathsf{Cat}}\left(\boldtwo,\mathsf{D} \right) \arrow[d, "\phi_{\mathsf{D}}"]\\[+10pt]
            \mathrm{Mor}(\mathsf{C}) \arrow[r, "H^{\mathrm{Mor}}"'] \& \mathrm{Mor}(\mathsf{D})
        \end{tikzcd}
    \]
\end{example}



\section{Limit and Colimit}
\begin{definition}{Cone}{cone}
    Let $\mathsf{J},\mathsf{C}$ be categories and $F:\mathsf{J}\to\mathsf{C}$ be a functor. Consider functors
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C} \arrow[r, "\diagfunctor"] \& {[\mathsf{J},\mathsf{C}]} \& \boldone \arrow[l, "\diagfunctor F"']
        \end{tikzcd}
    \]
    The comma category $\left(\diagfunctor \downarrow \diagfunctor F\right)$ is called the \textbf{cone category from $\textsf{C}$ to $F$}, denoted by $\mathsf{Cone}(\textsf{C},F)$. According to \Cref{th:isomorphism_between_comma_category_and_Grothendieck_construction}, we have category isomorphism
    \[
        \mathsf{Cone}(\textsf{C},F)=\left(\diagfunctor \downarrow \diagfunctor F\right)\cong \left( \{*\}\downarrow \mathrm{Hom}_{\mathsf{[\mathsf{J},\mathsf{C}]}}\left(\diagfunctor (-),F\right)\right)=\int_{\mathsf{C}^{\mathrm{op}}}  \mathrm{Hom}_{\mathsf{[\mathsf{J},\mathsf{C}]}}\left(\diagfunctor (-),F\right).
    \]
    \begin{itemize}
        \item Objects: The objects in $\mathsf{Cone}(\textsf{C},F)$ are all natural transformations 
        \[
                \begin{tikzcd}[ampersand replacement=\&]
                    \mathsf{J} \arrow[r, "\diagfunctor C"{name=A, above}, bend left] \arrow[r, "F"'{name=B, below}, bend right] \&[+30pt] \mathsf{C}
                    \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "h"]
                \end{tikzcd}
        \]
        where $C\in \mathrm{Ob}(\mathsf{C})$. Such $h:\diagfunctor C\Rightarrow F$ is called a \textbf{cone from $C$ to $F$} because it can be viewed as a family of morphisms $\left(h_i:C\to F(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ in $\mathsf{C}$ such that the following diagram commutes for each morphism $\lambda:i\to j$ in $\mathsf{J}$
        \[
            \begin{tikzcd}[ampersand replacement=\&]
                \& C \arrow[ld, "h_i"'] \arrow[rd, "h_j"] \&      \\
    F(i) \arrow[rr, "F(\lambda)"'] \&                                         \& F(j)
    \end{tikzcd}
    \]  
    \item Morphisms: The morphisms in $\mathsf{Cone}(\textsf{C},F)$ are commutative triangles shown as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
            \diagfunctor C \arrow[rd, Rightarrow, "h"] \arrow[dd, Rightarrow, "f_\bullet"'] \& \\
            \&  F\\
            \diagfunctor C' \arrow[ru, Rightarrow, "h^{\prime}"'] \&
            \end{tikzcd}
    \] 
    Equivalently, a morphism from cone $\left(h_i:C\to F(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ to cone $\left(h_i':C'\to F(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ is a morphism $f:C\to C'$ in $\mathsf{C}$ such that the following diagram commutes for each $i\in \mathrm{Ob}(\mathsf{J})$
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
             C \arrow[rd, "h_i"] \arrow[dd, "f"'] \& \\
            \&  F(i)\\
             C' \arrow[ru, "h^{\prime}_i"'] \&
        \end{tikzcd}
    \]
    \end{itemize}
\end{definition}

\begin{definition}{Limit}{}
    Let $\mathsf{J},\mathsf{C}$ be categories and $F:\mathsf{J}\to\mathsf{C}$ be a functor. The \textbf{limit} of $F$, denoted by $\varprojlim_\mathsf{J} F$, is the terminal object of $\mathsf{Cone}(\textsf{C},F)$. For each morphism $\lambda:i\to j$ in $\mathsf{J}$, we have the following commutative diagram
    \[
        \begin{tikzcd}[ampersand replacement=\&, every arrow/.append style={-latex, line width=1.1pt}]
            \&   [-1.5em]                \&[-1em] C \arrow[rdd, draw=cyan, "h_j"] \arrow[ldd, draw=cyan, "h_i"'] \arrow[d, dash pattern=on 4pt off 2pt, draw=arrowRed] \& [-1em]                  \\[+0.2cm]
            \&                   \& \varprojlim_{\mathsf{J}} F\arrow[ld, draw=arrowBlue, shorten <=-3pt, "\ell_i" yshift=4.5pt] \arrow[rd, draw=arrowBlue, shorten <=-4.5pt, "\ell_j"' yshift=4pt]               \&                   \\[-0.1cm]
        \& F(i) \arrow[rr, "F(\lambda)"']\&   \& F(j)
        \end{tikzcd}
    \]
    For simplicity, we may write $\varprojlim F$ instead of $\varprojlim_\mathsf{J} F$.
\end{definition}

\begin{definition}{Cocone}{}
    Let $\mathsf{J},\mathsf{C}$ be categories and $F:\mathsf{J}\to\mathsf{C}$ be a functor. Consider functors
    \[
        \begin{tikzcd}[ampersand replacement=\&]
             \boldone \arrow[r, "\diagfunctor F"] \& {[\mathsf{J},\mathsf{C}]} \&\mathsf{C} \arrow[l, "\diagfunctor "']
        \end{tikzcd}
    \]
    The comma category $\left(\diagfunctor F \downarrow \diagfunctor\right)$ is called the \textbf{cocone category from $F$ to $\textsf{C}$}, denoted by $\mathsf{Cocone}(F,\textsf{C})$. 
    \begin{itemize}
        \item Objects: The objects in $\mathsf{Cocone}(F,\textsf{C})$ are all natural transformations
        \[
            \begin{tikzcd}[ampersand replacement=\&]
                \mathsf{J} \arrow[r, "F"{name=A, above}, bend left] \arrow[r, "\diagfunctor C"'{name=B, below}, bend right] \&[+30pt] \mathsf{C}
                \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "h"]
            \end{tikzcd}
    \]
    where $C\in \mathrm{Ob}(\mathsf{C})$. Such $h:F\Rightarrow \diagfunctor C$ is called a \textbf{cocone from $F$ to $C$} because it can be viewed as a family of morphisms $\left(h_i:F(i)\to C\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ in $\mathsf{C}$ such that the following diagram commutes for each morphism $\lambda:i\to j$ in $\mathsf{J}$
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \& C\&      \\
F(i)\arrow[ru, "h_i"]  \arrow[rr, "F(\lambda)"'] \&                                         \& F(j) \arrow[lu, "h_j"'] 
\end{tikzcd}
\]    
    \item Morphisms: The morphisms in $\mathsf{Cocone}(F,\textsf{C})$ are commutative triangles shown as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
            \&\diagfunctor C \arrow[dd, Rightarrow, "f_\bullet"]  \\
            F \arrow[ru, Rightarrow, "h"]\arrow[rd, Rightarrow, "h^{\prime}"']\&  \\
            \&\diagfunctor C' 
            \end{tikzcd}
    \]
    \end{itemize}
    Equivalently, a morphism from cocone $\left(h_i:F(i)\to C\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ to cocone $\left(h_i':F(i)\to C'\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ is a morphism $f:C\to C'$ in $\mathsf{C}$ such that the following diagram commutes for each $i\in \mathrm{Ob}(\mathsf{J})$
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=9pt]
            \& C \arrow[dd, "f"]  \\
            F(i) \arrow[ru, "h_i"]\arrow[rd, "h^{\prime}_i"']\&  \\
            \& C' 
            \end{tikzcd}
    \]
\end{definition}


\begin{definition}{Colimit}{}
    Let $\mathsf{J},\mathsf{C}$ be categories and $F:\mathsf{J}\to\mathsf{C}$ be a functor. 
    The \textbf{colimit} of $F$, denoted by $\varinjlim F$, is the initial object of $\mathsf{Cocone}(F,\textsf{C})$. For each morphism $\lambda:i\to j$ in $\mathsf{J}$, we have the following commutative diagram
    \[
        \begin{tikzcd}[ampersand replacement=\&, every arrow/.append style={-latex, line width=1.1pt}]
            \&   [-1.5em]                \&[-1em] C \& [-1em]                  \\[+0.2cm]
            \&                   \& \varinjlim_\mathsf{J} F \arrow[u, dash pattern=on 4pt off 2pt, draw=arrowRed]         \&                   \\[-0.1cm]
        \& F(i) \arrow[ruu, draw=cyan, "h_i"]\arrow[ru, draw=arrowBlue, shorten >=-3.5pt, "\ell_i"' yshift=4.5pt]        \arrow[rr, "F(\lambda)"']\&   \& F(j)\arrow[luu, draw=cyan, "h_j"']\arrow[lu, draw=arrowBlue, shorten >=-3.7pt, "\ell_j" yshift=4.5pt] 
        \end{tikzcd}
    \]
    For simplicity, we may write $\varinjlim F$  instead of $\varinjlim_\mathsf{J} F$.
\end{definition}


\begin{proposition}{Limit Characterized by Representability}{limit_by_representability}
    Let $\mathsf{J},\mathsf{C}$ be categories and $F:\mathsf{J}\to\mathsf{C}$ be a functor. The limit of $F$ exists if and only if the functor $\mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(\diagfunctor\left(-\right), F\right)$ 
    \begin{align*}
        \begin{minipage}{.7\textwidth}
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}^{\mathrm{op}}\&[-34pt]\&[+52pt]\&[-30pt] \mathsf{Set}\&[-30pt]\&[-30pt] \\ [-15pt] 
            C_1  \arrow[dd, "g"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(\diagfunctor C_1, F\right)\arrow[dd, "\left(\diagfunctor g\right)^*"{name=R}] \& \ni \& \left(h_i:C_1\textcolor{arrowBlue}{\boldsymbol{\longrightarrow}} F(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}\arrow[dd,mapsto,"\left(g^*\right)_{i\in \mathrm{Ob}(\mathsf{J})}"]\\ [-3pt] 
            \&  \phantom{.}\arrow[r, "{\mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(\diagfunctor\left(-\right), F\right)}", squigarrow]\&\phantom{.}  \&   \\[-3pt] 
            C_2  \& \& \& \mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(\diagfunctor C_2, F\right)\& \ni \& \left(h_i\circ g:C_2\textcolor{cyan}{\boldsymbol{\longrightarrow}} F(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}
        \end{tikzcd}
    \end{minipage}
    \begin{minipage}{.2\textwidth}
        \begin{tikzcd}[ampersand replacement=\&, every arrow/.append style={-latex, line width=1.1pt},scale=0.5]
            \\[-1pt]
            \&   [-1.5em]                \&[-1em] C_2 \arrow[rdd, draw=cyan, "h_j\circ g"] \arrow[ldd, draw=cyan, "h_i\circ g"'] \arrow[d, draw=red!50!yellow!80, "g"'] \& [-1em]                  \\[+0.1cm]
            \&                   \& C_1\arrow[ld, draw=arrowBlue, shorten <=-3pt, "h_i" yshift=3.7pt] \arrow[rd, draw=arrowBlue, shorten <=-4.5pt, "h_j"' yshift=4pt]               \&                   \\[-0.2cm]
        \& F(i) \arrow[rr, "F(\lambda)"']\&   \& F(j)
        \end{tikzcd}
    \end{minipage}
    \end{align*}
     is representable. In this case, the universal element coincides with $\left(\varprojlim F,\left(\ell_i:\varprojlim F\to F(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}\right)$ and we have
     \[
        \mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(\diagfunctor\left(-\right), F\right)\cong \mathrm{Hom}_{\mathsf{C}}\left(-,\varprojlim F\right).
    \]
    Dually, the colimit of $F$ exists if and only if the functor $\mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(F,\diagfunctor\left(-\right)\right):\mathsf{C}\to\mathsf{Set}$ is representable. In this case, the universal element coincides with $\left(\varinjlim F,\left(\ell_i:F(i)\to \varinjlim F\right)_{i\in \mathrm{Ob}(\mathsf{J})}\right)$ and we have
    \[
        \mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(F,\diagfunctor\left(-\right)\right)\cong \mathrm{Hom}_{\mathsf{C}}\left(\varinjlim F,-\right).
    \]
\end{proposition}

\begin{prf}
    According to \Cref{th:representable_functor_by_universal_element}, $\mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(\diagfunctor\left(-\right), F\right)$ is representable by the universal element $(A,u)$ if and only if $(A,u)$ is initial in $\int_{\mathsf{C}^{\mathrm{op}}}\mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(\diagfunctor\left(-\right), F\right)$, which is equivalent to saying that for any $C\in\mathrm{Ob}\left(\mathsf{C}\right)$ and $(h_i)\in \mathrm{Hom}_{[\mathsf{J},\mathsf{C}]}\left(\diagfunctor C, F\right)$, there is a unique morphism $f:C\to A$ in $\mathsf{C}$ such that $h_i=f^*(u_i)=u_i\circ f$ for each $i\in \mathrm{Ob}(\mathsf{J})$. This is exactly the universal property of limit.
\end{prf}

\begin{lemma}{}{}
    If $\mathsf{J}$ is a small category with a terminal object $t$, then for any functor $F:\mathsf{J}\to \mathsf{C}$, we have $\varinjlim F\cong F(t)$.
\end{lemma}
\begin{prf}
    Since for every $j\in \mathrm{Ob}(\mathsf{J})$, there is a unique morphism $\lambda_j:j\to t$, $\left(F(t),\left(F(\lambda_j):F(j)\to F(t)\right)_{j\in \mathrm{Ob}(\mathsf{J})}\right)$ is a cocone from $F$ to $F(t)$. We need to show that it is initial. Note that $F\left(\lambda_t \right)=F(\mathrm{id}_t)=\mathrm{id}_{F(t)}$. For any cocone $\left(C,\left(h_j:F(j)\to C\right)_{j\in \mathrm{Ob}(\mathsf{J})}\right)$, there is a morphism $h_t:F(t)\to C$ such that for any $j\in \mathrm{Ob}(\mathsf{J})$, $h_t\circ  F(\lambda_j) =h_j$, which means the following diagram commutes
    \[
    \begin{tikzcd}
            & C                                  &                                                    \\[+10pt]
            & F(t) \arrow[u, "h_t"', dashed] &                                                    \\
    F(j) \arrow[ru, "F(\lambda_j)"'] \arrow[ruu, "h_j"] \arrow[rr, "F(\lambda_j)"'] &                                    & F(t) \arrow[lu, "\mathrm{id}"] \arrow[luu, "h_t"']
    \end{tikzcd}
    \]
    If there is another morphism $g:F(t)\to C$ such that for any $j\in \mathrm{Ob}(\mathsf{J})$, $g\circ  F(\lambda_j) =h_j$. Take $j=t$, and we have $g=h_t$. Therefore, $\left(F(t),\left(F(\lambda_j):F(j)\to F(t)\right)_{j\in \mathrm{Ob}(\mathsf{J})}\right)$ is the colimit of $F$.

\end{prf}

\begin{example}{}{}
    Let $\mathsf{C}$ be a category and $X\in \mathrm{Ob}(\mathsf{C})$. Consider the hom functor $\mathrm{Hom}_{\mathsf{C}}(X,-):\mathsf{C}\to\mathsf{Set}$. We have
    \[
    \varinjlim \mathrm{Hom}_{\mathsf{C}}(X,-)\cong \{*\}.
    \]
\end{example}
\begin{prf}
    Let $h^X=\mathrm{Hom}_{\mathsf{C}}(X,-)$.
    By \Cref{th:limit_by_representability}, we have
    \[
        \mathrm{Hom}_{[\mathsf{C},\mathsf{Set}]}\left(h^X,\diagfunctor\left(-\right)\right)\cong \mathrm{Hom}_{\mathsf{Set}}\left(\varinjlim h^X,-\right).
    \]
    where $\diagfunctor:\mathsf{Set}\to[\mathsf{C},\mathsf{Set}]$ is the diagonal functor. By \hyperref[th:yoneda_lemma]{Yoneda Lemma}, we have natural isomorphism
    \[
        \mathrm{Hom}_{[\mathsf{C},\mathsf{Set}]}\left(h^X,\diagfunctor\left(-\right)\right)\cong \mathrm{Hom}_{[\mathsf{C},\mathsf{Set}]}\left(h^X,-\right)\circ \diagfunctor \cong \mathrm{ev}_X \circ \diagfunctor \cong \mathrm{id}_{\mathsf{Set}}\cong \mathrm{Hom}_{\mathsf{Set}}\left(\{*\},- \right).
    \]
    The last isomorphism has been proved in \Cref{ex:identity_functor_is_representable}. Therefore, we have
    \[
        \mathrm{Hom}_{\mathsf{Set}}\left(\varinjlim h^X,-\right) \cong \mathrm{Hom}_{\mathsf{Set}}\left(\{*\},- \right).
    \]
    Since Yoneda embedding is full and faithful, we have $\varinjlim h^X\cong \{*\}$.
\end{prf}

\begin{definition}{$\varprojlim_{\mathsf{J}}$ Functor}{}
    Let $\mathsf{J}$ be a small category and $\mathsf{C}$ be a category. If for any functor $F:\mathsf{J}\to\mathsf{C}$, $\varprojlim_{\mathsf{J}} F$ exists, then we have a functor
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            [\mathsf{J},\mathsf{C}]\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{C}\&[-30pt]\&[-30pt] \\ [-15pt] 
           F  \arrow[dd, "\theta"{name=L, left}, Rightarrow] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\varprojlim_{\mathsf{J}} F\arrow[dd, "\varprojlim_{\mathsf{J}} \theta"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\varprojlim_{\mathsf{J}}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
        G  \& \& \& \varprojlim_{\mathsf{J}} G
        \end{tikzcd}
    \]
    where $\varprojlim_{\mathsf{J}} \theta$ is induced by the universal property of $\varprojlim_{\mathsf{J}} G$
    \[
        \begin{tikzcd}[ampersand replacement=\&, background color=mydefinitbg]
            \& \varprojlim_{\mathsf{J}} F \arrow[ld] \arrow[rd] \&                             \\[+10pt]
F(i) \arrow[rr, black!35] \arrow[dd, "\theta_i"'] \&                                                                               \& F(j) \arrow[dd, "\theta_j"] \\[+10pt]
            \& \varprojlim_{\mathsf{J}} G \arrow[ld] \arrow[rd]                                           \&                             \\[+10pt]
G(i) \arrow[rr]                         \&                                                                               \& G(j)      
    % absulute arrow
    \arrow[from=1-2, to=3-2, "\varprojlim_{\mathsf{J}} \theta"', near end, crossing over]                  
    \end{tikzcd}
    \]
\end{definition}

\begin{definition}{$\varinjlim_{\mathsf{J}}$ Functor}{}
    Let $\mathsf{J}$ be a small category and $\mathsf{C}$ be a category. If for any functor $F:\mathsf{J}\to\mathsf{C}$, $\varinjlim_{\mathsf{J}} F$ exists, then we have a functor
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            [\mathsf{J},\mathsf{C}]\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{C}\&[-30pt]\&[-30pt] \\ [-15pt] 
           F  \arrow[dd, "\theta"{name=L, left}, Rightarrow] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\varinjlim_{\mathsf{J}} F\arrow[dd, "\varinjlim_{\mathsf{J}} \theta"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\varinjlim_{\mathsf{J}}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
        G  \& \& \& \varinjlim_{\mathsf{J}} G
        \end{tikzcd}
    \]
    where $\varinjlim_{\mathsf{J}} \theta$ is induced by the universal property of $\varinjlim_{\mathsf{J}} F$
    \[
        \begin{tikzcd}[ampersand replacement=\&, background color=mydefinitbg]
            \& \varinjlim_{\mathsf{J}} F   \&                             \\[+10pt]
F(i) \arrow[ru]\arrow[rr, black!35] \arrow[dd, "\theta_i"'] \&                                                                               \& F(j) \arrow[lu]\arrow[dd, "\theta_j"] \\[+10pt]
            \& \varinjlim_{\mathsf{J}} G                                       \&                             \\[+10pt]
G(i) \arrow[ru]\arrow[rr]                         \&                                                                               \& G(j)\arrow[lu]      
    % absulute arrow
    \arrow[from=1-2, to=3-2, "\varinjlim_{\mathsf{J}} \theta"', near end, crossing over]                  
    \end{tikzcd}
    \]
\end{definition}



\begin{proposition}{Diagonal is Left Adjoint to Limit: $\diagfunctor\dashv \varprojlim_{\mathsf{J}}$}{}
    Let $\mathsf{J}$ be a small category and $\mathsf{C}$ be a category. If for any functor $F\in[\mathsf{J},\mathsf{C}]$, $\varprojlim_{\mathsf{J}} F$ exists, then the functor $\varinjlim_{\mathsf{J}}:\left[\mathsf{J},\mathsf{C}\right]\to\mathsf{C}$ is right adjoint to the diagonal functor $\diagfunctor:\mathsf{C}\to\left[\mathsf{J},\mathsf{C}\right]$
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C} \arrow[r, "\diagfunctor"{name=U}, bend left, start anchor=east, yshift=1.7ex, end anchor=west] \&[+12pt] 
            \left[\mathsf{J},\mathsf{C}\right] \arrow[l, "\varprojlim_{\mathsf{J}}"{name=D, anchor=north}, bend left, start anchor=west, yshift=-1.5ex, end anchor=east]
            \arrow[phantom, from=U, to=D, "\dashv"{rotate=-90}]
        \end{tikzcd}    
    \]
    We have a natural isomorphism
    \[
        \mathrm{Hom}_{\left[\mathsf{J},\mathsf{C}\right]}\left(\diagfunctor C, F\right)\cong \mathrm{Hom}_{\mathsf{C}}\left(C,\varprojlim_{\mathsf{J}} F\right)
    \]
\end{proposition}

\begin{proposition}{Diagonal is Right Adjoint to Colimit:  $\varinjlim_{\mathsf{J}}\dashv \diagfunctor$}{}
    Let $\mathsf{J}$ be a small category and $\mathsf{C}$ be a category. If for any functor $F\in[\mathsf{J},\mathsf{C}]$, $\varprojlim_{\mathsf{J}} F$ exists, then the functor $\varinjlim_{\mathsf{J}}:\left[\mathsf{J},\mathsf{C}\right]\to\mathsf{C}$ is right adjoint to the diagonal functor $\diagfunctor:\mathsf{C}\to\left[\mathsf{J},\mathsf{C}\right]$
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \left[\mathsf{J},\mathsf{C}\right]  \arrow[r, "\varinjlim_{\mathsf{J}}"{name=U}, bend left, start anchor=east, yshift=1.7ex, end anchor=west] \&[+12pt] 
            \mathsf{C}\arrow[l, "\diagfunctor"{name=D, anchor=north}, bend left, start anchor=west, yshift=-1.5ex, end anchor=east]
            \arrow[phantom, from=U, to=D, "\dashv"{rotate=-90}]
        \end{tikzcd}    
    \]
    We have a natural isomorphism
    \[
        \mathrm{Hom}_{\left[\mathsf{J},\mathsf{C}\right]}\left(F,\diagfunctor C\right)\cong \mathrm{Hom}_{\mathsf{C}}\left(\varinjlim_{\mathsf{J}} F,C\right)
    \]
\end{proposition}



\begin{definition}{Complete Category}{}
    A category $\mathsf{C}$ is \textbf{complete} if it has all small limits. That is, for any functor $F:\mathsf{J}\to \mathsf{C}$ with $\mathsf{J}$ small, $\varprojlim F$ exists.
\end{definition}

\begin{definition}{Cocomplete Category}{}
    A category $\mathsf{C}$ is \textbf{cocomplete} if it has all small colimits. That is, for any functor $F:\mathsf{J}\to \mathsf{C}$ with $\mathsf{J}$ small, $\varinjlim F$ exists.
\end{definition}

\begin{definition}{Bicomplete Category}{}
    A category $\mathsf{C}$ is \textbf{bicomplete} if it is both complete and cocomplete.
\end{definition}

\begin{example}{Examples of Bicomplete Categories}{}
    The following categories are bicomplete: $\mathsf{Set}$, $\mathsf{Grp}$, $\mathsf{Ab}$, $\mathsf{Ring}$, 
    $R\text{-}\mathsf{Mod}$, $K\text{-}\mathsf{Vect}$, $\mathsf{Top}$.
\end{example}

\begin{definition}{Finitely Complete category}{}
    A category $\mathsf{C}$ is \textbf{finitely complete} if it has all finite limits. That is, for any functor $F:\mathsf{J}\to \mathsf{C}$ with $\mathsf{J}$ a finite category, $\varprojlim F$ exists.
\end{definition}

\begin{definition}{Finitely Cocomplete category}{}
    A category $\mathsf{C}$ is \textbf{finitely cocomplete} if it has all finite colimits. That is, for any functor $F:\mathsf{J}\to \mathsf{C}$ with $\mathsf{J}$ a finite category, $\varinjlim F$ exists.
\end{definition}



\begin{definition}{Filtered Category}{filtered_category}
    A category $\mathsf{J}$ is \textbf{filtered} if 
    \begin{itemize}
        \item $\mathsf{J}$ is nonempty.
        \item For any pair of objects $j_1,j_2\in \mathrm{Ob}(\mathsf{J})$, there exists an object $j_3\in \mathrm{Ob}(\mathsf{J})$ and morphisms $j_1\to j_3$ and $j_2\to j_3$.
        \item For any pair of morphisms $f,g:j_1\to j_2$, there exists an object $j_3\in \mathrm{Ob}(\mathsf{J})$ and a morphism $h:j_2\to j_3$ such that $h\circ f=h\circ g$.
    \end{itemize}
\end{definition}

\begin{definition}{Cofiltered Category}{}
    A category $\mathsf{J}$ is \textbf{cofiltered} if $\mathsf{J}^{\mathrm{op}}$ is filtered. Equivalently, $\mathsf{J}$ is cofiltered if
    \begin{itemize}
        \item $\mathsf{J}$ is nonempty.
        \item For any pair of objects $j_1,j_2\in \mathrm{Ob}(\mathsf{J})$, there exists an object $j_3\in \mathrm{Ob}(\mathsf{J})$ and morphisms $j_3\to j_1$ and $j_3\to j_2$.
        \item For any pair of morphisms $f,g:j_1\to j_2$, there exists an object $j_3\in \mathrm{Ob}(\mathsf{J})$ and a morphism $h:j_3\to j_2$ such that $f\circ h=g\circ h$.
    \end{itemize}
\end{definition}

\begin{lemma}{}{properties_of_filtered_category}
    Let $\mathsf{C}$ be a filtered category. Then 
    \begin{enumerate}[(i)]
        \item Given a finite family of objects $\left(c_i\right)_{i=1}^n\subseteq \mathrm{Ob}(\mathsf{C})$, there exists an object $c\in \mathrm{Ob}(\mathsf{C})$ and morphisms $c_i\to c$ for each $i=1,2,\cdots,n$.
        \item Given a finite family of morphisms $\left(f_i:c\to c'\right)_{i=1}^n\subseteq \mathrm{Hom}(c,c')$, there exists an object $c''\in \mathrm{Ob}(\mathsf{C})$ and a morphism $g:c'\to c''$ such that $g\circ f_i=g\circ f_j$ for each $i,j=1,2,\cdots,n$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    \begin{enumerate}[(i)]
        \item We prove this by induction on $n$. For $n=1$, we can take $c=c_1$ and $f_i=\mathrm{id}_{c_1}$. Suppose the result is valid in the case of $n=k-1$. Then we can find an object $c'\in \mathrm{Ob}(\mathsf{C})$ and morphisms $g_i:c_i\to c'$ for each $i=1,2,\cdots,k-1$. By the definition of filtered category, there exists an object $c\in \mathrm{Ob}(\mathsf{C})$ and morphisms $h':c'\to c$ and $h:c_k\to c$. Take $f_i=h'\circ g_i$ for each $i=1,2,\cdots,k-1$ and $f_n=h$. Then we prove the case of $n=k$.
        \item We prove this by induction on $n$. For $n=1$, this holds trivially. Suppose the result is valid in the case of $n=k-1$. Then we can find a morphism $h:c'\to c^*$ such that $h\circ f_i=h\circ f_j$ for each $i,j=1,2,\cdots,k-1$. By the definition of filtered category, there exists an object $c''\in \mathrm{Ob}(\mathsf{C})$ and a morphism $h^*:c^*\to c''$ such that $h^*\circ h\circ f_1=h^*\circ h\circ f_k$. Take $g=h^*\circ h$, then we prove the case of $n=k$.
    \end{enumerate}
\end{proof}

\begin{proposition}{Equivalent Characterizations of Filtered Category}{equivalent_characterizations_of_filtered_category}
    The following are equivalent for a category $\mathsf{C}$.
    \begin{enumerate}[(i)]
        \item $\mathsf{C}$ is filtered.
        \item For any finite category $\mathsf{J}$ and functor $F:\mathsf{J}\to \mathsf{C}$, the exists a cocone from $F$ to an object $c\in \mathrm{Ob}(\mathsf{C})$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    (i)$\implies$(ii). By \Cref{th:properties_of_filtered_category}, there exists an object $a\in \mathrm{Ob}(\mathsf{C})$ and morphisms $f_j:F(j)\to a$ for each $j\in \mathrm{Ob}(\mathsf{J})$. For each morphism $\lambda:j\to j'$ in $\mathsf{J}$, we have a pair of parallel morphisms
    \[
    \begin{tikzcd}
        F(j) \arrow[rr, "f_j"] \arrow[rd, "F(\lambda)"'] &                             & a \\
                                                         & F(j') \arrow[ru, "f_{j'}"'] &  
    \end{tikzcd}
    \]
    By \Cref{th:properties_of_filtered_category}, there exists an object $a_{\lambda}\in \mathrm{Ob}(\mathsf{C})$ and a morphism $g_\lambda:a\to a_{\lambda}$ such that 
    \[
    g_\lambda\circ f_j= g_\lambda\circ f_{j'}\circ F(\lambda).
    \]
    Again by \Cref{th:properties_of_filtered_category}, we can find an object $b\in \mathrm{Ob}(\mathsf{C})$ and morphisms $h_\lambda:a_{\lambda}\to b$. Now we have a family of parallel morphisms
    \[
    \left(h_\lambda\circ g_\lambda : a\longrightarrow b\right)_{\lambda\in\mathrm{Mor}\left(\mathsf{J}\right)}.
    \]
    Again by \Cref{th:properties_of_filtered_category}, there exists an object $c\in \mathrm{Ob}(\mathsf{C})$ and morphisms $h:b\to c$ such that
    \[
    h\circ h_\lambda\circ g_\lambda=h\circ h_{\lambda'}\circ g_{\lambda'}.
    \]
    Hence $l:=h\circ h_\lambda\circ g_\lambda$ is a well-defined morphism from $a$ to $c$. Since the following diagram commutes for any $\lambda\in\mathrm{Mor}\left(\mathsf{J}\right)$
    \[
        \begin{tikzcd}
            F(j) \arrow[rd, "f_j"] \arrow[dd, "F(\lambda)"'] \arrow[rrrrd, "l\circ f_j", bend left] &                          &                                  &                  &   \\
                                                                                                    & a \arrow[r, "g_\lambda"] & a_\lambda \arrow[r, "h_\lambda"] & b \arrow[r, "h"] & c \\
            F(j') \arrow[ru, "f_{j'}"'] \arrow[rrrru, "l\circ f_{j'}"', bend right]                 &                          &                                  &                  &  
        \end{tikzcd}
    \]
    we have constructed a cocone from $F$ to $c$
    \[
    \left( l\circ f_j:F(j)\longrightarrow c\right)_{j\in \mathrm{Ob}(\mathsf{J})}.
    \]
\end{proof}

\begin{definition}{Cofiltered limit}{}
    A \textbf{cofiltered limit} is a limit of a functor $F: \mathsf{J}^{\mathrm{op}} \rightarrow \mathsf{C}$ where $\mathsf{J}$ is a \hyperref[th:filtered_category]{filtered category}.
\end{definition}

\begin{definition}{Filtered Colimit}{}
    A \textbf{filtered colimit} is a colimit of a functor $F: \mathsf{J} \rightarrow \mathsf{C}$ where $\mathsf{J}$ is a \hyperref[th:filtered_category]{filtered category}.
\end{definition}

\begin{definition}{Thin Category}{thin_category}
    A \textbf{thin category} or \textbf{$(0,1)$-category} is a category in which any two objects have at most one morphism between them. 

    A preordered set $(X,\leq)$ can be regarded as a thin category $\mathsf{X}$ with objects being elements of $X$ and morphisms being
    \begin{align*}
        \mathrm{Hom}(x,y)=\begin{cases}
            \{*\} & \text{if }x\leq y\\
            \varnothing & \text{otherwise}
        \end{cases}
    \end{align*}
    Therefore, we obtain a category isomorphism between the category of preordered sets and the category of thin categories
    \begin{align*}
        F:\mathsf{PreOrdSet}&\longrightarrow (0,1)\text{-}\mathsf{Cat}\\
        (X,\leq)&\longmapsto \mathsf{X}
    \end{align*}
\end{definition}

\begin{example}{Directed Set}{directed_set}
    A \textbf{directed set} (or \textbf{filtered set}) is a preordered set in which every finite subset has an upper bound. 
    
    A directed set $(X,\le)$ can be regarded as a filtered (0,1)-category with objects being elements of the set $X$ and morphisms being
    \begin{align*}
        \mathrm{Hom}(x,y)=\begin{cases}
            \{*\} & \text{if }x\leq y\\
            \varnothing & \text{otherwise}
        \end{cases}
    \end{align*}
\end{example}

\begin{definition}{Inverse Limit}{inverse_limit}
    A \textbf{inverse system} is a functor $F: \mathsf{J}^{\mathrm{op}} \rightarrow \mathsf{C}$ where $\mathsf{J}$ is a filtered thin category. 

    According to \Cref{ex:directed_set}, $\mathsf{J}$ can be regarded as a directed set $(J,\le)$. Thus inverse system $F$ can be equivalently defined as a family of objects $\left(F_j\right)_{j\in J}$ in $\mathsf{C}$ together with a family of morphisms $\left(f_{j,j'}:F_{j}\leftarrow F_{j'}\right)_{j\leq j'}$ such that
    \begin{enumerate}[(i)]
        \item for any $j\in J$, $f_{j,j}=\mathrm{id}_{F_j}$,
        \item for any $j\leq j'\leq j''$, $f_{j,j''}=f_{j,j'}\circ f_{j',j''}$.     
    \end{enumerate}
    Here, $j\leq j'$ is a short notation for $(j,j')\in \{(j,j')\in J\times J\mid j\le j'\}$.
    
    A \textbf{inverse limit} is a limit of a inverse system.
\end{definition}


\begin{example}{Pushforward Cone by Functor}{}
    Let $\mathsf{J},\mathsf{C},\mathsf{D}$ be categories and $K:\mathsf{J}\to\mathsf{C}$, $F:\mathsf{C}\to\mathsf{D}$ be a functor. $F$ induces the following pushforward functor between \hyperref[th:cone]{cone} categories
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{Cone}\left(\mathsf{C},K\right) \&[-25pt]\&[+10pt]\&[-30pt]\mathsf{Cone}\left(\mathsf{C},F\circ K\right)\&[-30pt]\&[-30pt] \\ [-15pt] 
            \diagfunctor C\xRightarrow{h} K  \arrow[dd, "\diagfunctor f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\diagfunctor F(C)\xRightarrow{\mathrm{id}_F\circ h} F\circ K\arrow[dd, "\diagfunctor F(f)"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "F_*", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            \diagfunctor C'\xRightarrow{h'} K  \& \& \& \diagfunctor F\left(C'\right)\xRightarrow{\mathrm{id}_F\circ h'} F\circ K 
        \end{tikzcd}
    \]
    
\end{example}




\begin{definition}{Preserve, Reflect, Create Limits}{}
    Suppose $\mathsf{J}$, $\mathsf{C}$, $\mathsf{D}$ are categories and $\mathcal{K}\subseteq\mathrm{Ob}\left([\mathsf{J}, \mathsf{C}]\right)$ is a class of diagrams  valued in $\mathsf{C}$. A functor $F: \mathsf{C} \rightarrow \mathsf{D}$ is said to
    \begin{itemize}
        \item \textbf{preserves} limits for $\mathcal{K}$ if for any diagram $K: \mathsf{J} \rightarrow \mathsf{C}$ in $\mathcal{K}$ and any cone $\mu\in \mathsf{Cone}(\mathsf{C},K)$, 
        \[
        \text{$\mu$ is terminal in $\mathsf{Cone}(\mathsf{C},K)$ $\implies$ $F_*\mu$ is terminal in $\mathsf{Cone}(\mathsf{D},F\circ K)$}
        \]
        \item \textbf{reflects} limits for $\mathcal{K}$ if for any diagram $K: \mathsf{J} \rightarrow \mathsf{C}$ in $\mathcal{K}$ and any cone $\mu\in \mathsf{Cone}(\mathsf{C},K)$, 
        \[\text{$F_*\mu$ is terminal in $\mathsf{Cone}(\mathsf{D},F\circ K)$ $\implies$ $\mu$ is terminal in $\mathsf{Cone}(\mathsf{C},K)$}\]
        \item \textbf{creates} limits for $\mathcal{K}$ if 
        \begin{itemize}
            \item $F$ reflects the limits for $\mathcal{K}$, and
            \item for any diagram $K: \mathsf{J} \rightarrow \mathsf{C}$ in $\mathcal{K}$, if $\eta$ is terminal in $\mathsf{Cone}(\mathsf{D},F\circ K)$, then there exists a cone $\mu$ in $\mathsf{Cone}(\mathsf{C},K)$ such that $F_*\mu$ is terminal in $\mathsf{Cone}(\mathsf{D},F\circ K)$.
        \end{itemize}
        \item \textbf{strictly creates} limits for $\mathcal{K}$ if for any diagram $K: \mathsf{J} \rightarrow \mathsf{C}$ in $\mathcal{K}$ and limit cone over $F \circ K: \mathsf{J} \rightarrow \mathsf{D}$,
        \begin{itemize}
            \item there exists a unique lift of that cone to a cone over $K$, and
            \item moreover, this lift defines a limit cone in $\mathsf{C}$.
        \end{itemize}
    \end{itemize}
\end{definition}

\begin{proposition}{}{}
    Suppose $\mathsf{J}$, $\mathsf{C}$, $\mathsf{D}$ are categories and $\mathcal{K}\subseteq\mathrm{Ob}\left([\mathsf{J}, \mathsf{C}]\right)$ is a class of diagrams valued in $\mathsf{C}$. If $F: \mathsf{C} \rightarrow \mathsf{D}$ creates limits for $\mathcal{K}$ and $\varprojlim_\mathsf{J} F\circ K$ exists for each $K \in\mathcal{K}$, then $\varprojlim_\mathsf{J} K$ exists for each $K \in\mathcal{K}$ and $F$ preserves them.
\end{proposition}
\begin{proof}
    For any diagram $K: \mathsf{J} \rightarrow \mathsf{C}$ in $\mathcal{K}$, the hypothesis asserts that there is a cone $\mu: \diagfunctor d \Rightarrow F\circ K$ in $\mathsf{Cone}(\mathsf{D},F\circ K)$. As $F$ creates these limits, there must be a limit cone $\lambda: \diagfunctor c \Rightarrow K$ in $\mathsf{Cone}(\mathsf{C},K)$ such that $F_* \lambda: \diagfunctor F(c) \Rightarrow F\circ K$ is a limit cone. Since $F$ reflects limits, $\lambda$ is a limit cone, which means that $\mathsf{C}$ admits limits for $\mathcal{K}$. To see that $F$ preserves them, consider another limit cone $\lambda^{\prime}: \diagfunctor c^{\prime} \Rightarrow K$. The two limit cones in $\mathsf{Cone}(\mathsf{C},K)$ are isomorphic and by composing isomorphisms we see that the cone $F \lambda^{\prime}: \diagfunctor F c^{\prime} \Rightarrow F\circ K$ is isomorphic to the limit cone $\mu: \diagfunctor d \Rightarrow F\circ K$. This implies that $F \lambda^{\prime}: F c^{\prime} \Rightarrow F K$ is again a limit cone, proving that $F$ preserves these limits.
\end{proof}

\begin{definition}{Conservative Functor}{}
    A functor $F:\mathsf{C}\to\mathsf{D}$ is \textbf{conservative} if it reflects isomorphisms. Equivalently, $F$ is a conservative functor if for any morphism $f$ in $\mathsf{C}$, 
    \[
        \text{$f$ is an isomorphism in $\mathsf{C}$}\iff\text{$F(f)$ is an isomorphism in $\mathsf{D}$}. 
    \]
\end{definition}


\begin{proposition}{}{}
    Suppose $K:\mathsf{J}\to \mathsf{C}$ is a diagram and $F:\mathsf{C}\to\mathsf{D}$ is a conservative functor. If $\varprojlim K$ exists, and $F$ preserves $\varprojlim K$, then $F$ reflects $\varprojlim K$.
\end{proposition}


\begin{proposition}{Fully Faithful Functor Reflects Limits}{}
    Any full and faithful functor reflects all limits and
colimits.
\end{proposition}

\begin{prf}
    Let $F: \mathsf{C} \rightarrow \mathsf{D}$ be a full and faithful functor. Suppose $K: \mathsf{J} \rightarrow \mathsf{C}$ is a diagram, 
    $$
    \left(\ell_i: A \rightarrow K(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}\in \mathsf{Cone}\left(\mathsf{C},K\right)
    $$ 
    is a cone over $K$, and $\left(F(\ell_i): F(A) \rightarrow F\circ K(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ is a limit cone over $F\circ K$. We want to show that $\left(\ell_i\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ is initial in $\mathsf{Cone}\left(\mathsf{C},K\right)$.
    
    
    Suppose $\left(h_i:B \rightarrow K(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}\in \mathsf{Cone}\left(\mathsf{C},K\right)$ is another cone over $K$. Then 
    \[
    \left( F(h_i): F(B)\longrightarrow F\circ K(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}\in \mathsf{Cone}\left(\mathsf{D},F\circ K\right)
    \]
    is a cone over $F\circ K$. By the universal property of $F(A)$, there exists a unique morphism $g':F(B)\to F(A)$ such that $F(\ell_i) \circ g' = F(h_i)$ for each $i\in \mathrm{Ob}(\mathsf{J})$
    \[
        \begin{tikzcd}[ampersand replacement=\&, every arrow/.append style={-latex, line width=1.1pt}]
            \&   [-1.5em]                \&[-1em] F(B) \arrow[rdd, draw=cyan, "F(h_j)"] \arrow[ldd, draw=cyan, "F(h_i)"'] \arrow[d, dash pattern=on 4pt off 2pt, draw=arrowRed, "g'"] \& [-1em]                  \\[+0.3cm]
            \&                   \& F(A)\arrow[ld, draw=arrowBlue, shorten <=-3pt, "F(\ell_i)" yshift=4.5pt] \arrow[rd, draw=arrowBlue, shorten <=-4.5pt, "F(\ell_j)"' yshift=4pt]               \&                   \\[0.1cm]
        \& F(K(i)) \arrow[rr, "F(K(\lambda))"']\&   \& F(K(j))
        \end{tikzcd}
    \]
    
    Since $F$ is full and faithful, there exists a unique morphism $g:B\to A$ such that $F(g)=g'$. We can check that  
    \[
        F\left(\ell_i \circ g\right)=F\left(\ell_i \right)\circ F\left( g\right)=F\left(\ell_i \right)\circ g'=F\left(h_i\right)\implies \ell_i \circ g=h_i.
    \]
    If there exists another morphism $q:B\to A$ such that $\ell_i \circ q=h_i$ for all $i\in\mathrm{Ob}\left(\mathsf{J}\right)$, then we have
    \[
    \forall i \in\mathrm{Ob}\left(\mathsf{J}\right),\;F\left( \ell_i \circ q\right)=F\left(\ell_i \right)\circ F\left( q\right)=F\left(h_i\right)\implies F\left( q\right)=g'\implies q=g.
    \]
    Thus we show that $\left(\ell_i:A\to K(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}$ is initial in $\mathsf{Cone}\left(\mathsf{C},K\right)$.
\end{prf}


\begin{proposition}{}{}
    Suppose $\mathcal{K}\subseteq\mathrm{Ob}\left([\mathsf{J}, \mathsf{C}]\right)$. If $F:\mathsf{C}\to \mathsf{D}$ creates limits for $\mathcal{K}$ and $\varprojlim F\circ K$ exists for all $K\in\mathcal{K}$, then $\varprojlim K$ exists for all $K\in\mathcal{K}$ and $F$ preserves limits for $\mathcal{K}$.
\end{proposition}

\begin{prf}
    For any $K\in\mathcal{K}$, since $\varprojlim F\circ K$ exists and $F$ creates limits for $\mathcal{K}$, there exists a limit cone 
    \[
       \left(\ell_i:\varprojlim K\to K(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}\in\mathsf{Cone}\left(\mathsf{C},K\right)    
    \]
    such that
    \[
        \left(F(\ell_i):F\left(\varprojlim K\right)\to F\circ K(i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}\in \mathsf{Cone}\left(\mathsf{D},F\circ K\right)
    \]
    is terminal in $\mathsf{Cone}\left(\mathsf{D},F\circ K\right)$, i.e it is a limit cone over $F\circ K$. Given any limit cone in $\mathsf{Cone}\left(\mathsf{C},K\right) $, it is isomorphic to $\left(\ell_i\right)_{i\in \mathrm{Ob}(\mathsf{J})}$, which implies that its image under $F$ is isomorphic to $\left(F(\ell_i)\right)_{i\in \mathrm{Ob}(\mathsf{J})}$. Thus we show $F$ preserves limits for $\mathcal{K}$.
\end{prf}


\begin{theorem}{Existance Theorem for Limits}{}
    Let $\mathsf{C}$ be a category and $F:\mathsf{J}\to\mathsf{C}$ be a functor. If a category $\mathsf{C}$ has equalizers and all products indexed by the classes $\mathrm{Ob}(\mathsf{J})$ and $\mathrm{Hom}(\mathsf{J})$, then $\mathsf{C}$ has all limits of shape $\mathsf{J}$.
\end{theorem}


\begin{proposition}{}{}
    Suppose $\mathsf{A}$ is a small category. Denote $\mathsf{Ob}(A)=\mathsf{Disc}\left(\mathrm{Ob} \left(\mathsf{A}\right)\right)$. Then the forgetful functor $U:[\mathsf{A},\mathsf{C}] \rightarrow \left[\mathsf{Ob}(A), \mathsf{C}\right]\cong \prod\limits_{a\in \mathrm{Ob} \left(\mathsf{A}\right)}\mathsf{C}$
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            [\mathsf{A},\mathsf{C}] \&[-25pt]\&[+10pt]\&[-30pt]\prod\limits_{a\in \mathrm{Ob} \left(\mathsf{A}\right)}\mathsf{C}\&[-30pt]\&[-30pt] \\ [-15pt] 
            F  \arrow[dd, Rightarrow, "\theta"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]\left(F(a)\right)_{a\in \mathrm{Ob} \left(\mathsf{A}\right)}\arrow[dd, "\prod\limits_{a\in \mathrm{Ob} \left(\mathsf{A}\right)} \theta_{a}"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "U", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            G  \& \& \& \left(G(a)\right)_{a\in \mathrm{Ob} \left(\mathsf{A}\right)}
        \end{tikzcd}
    \]    
    strictly creates all limits and colimits that exist in $\mathsf{C}$. These limits are defined objectwise, meaning that for each $a \in \mathrm{A}$, the evaluation functor $\mathrm{ev}_a:[\mathsf{A},\mathsf{C}]  \rightarrow \mathsf{C}$ preserves all limits and colimits existing in $\mathsf{C}$.
\end{proposition}
\begin{proof}
    Given a diagram $F:\mathsf{J}\to [\mathsf{A},\mathsf{C}]$, suppose the limit $\varprojlim U\circ F$ exists and can be written as 
    \[
        \left((L(a))_{a \in \operatorname{Ob}(\mathsf{A})},\left(\ell_j=\left(\ell_{j, a}:L(a)\to F(j)(a)\right)_{a \in \operatorname{Ob}(\mathsf{A})}\right)_{j \in \operatorname{Ob}(\mathsf{J})}\right).
    \]
    
\end{proof}


The next result shows that functor categories inherit limits and colimits, defined ``objectwise" in the target category: that is, given a $\mathsf{J}$-indexed diagram in $[\mathsf{A},\mathsf{C}]$ whose objects are functors $F_j : \mathsf{A} \to \mathsf{C}$, the value of the limit functor $\varprojlim_{j\in J} F_j : \mathsf{A} \to \mathsf{C}$ at an object $a \in \mathsf{A}$ is the limit of the $\mathsf{J}$-indexed diagram in $\mathsf{C}$ whose objects are the objects $F_j(a) \in \mathrm{Ob}(\mathsf{C})$, which reads as follows:
\[
    \left(\varprojlim_{j\in J} F_j\right)(a) = \varprojlim_{j\in J} F_j(a).
\]

\begin{proposition}{Evaluation Functor Preserves Limits}{ev_functor_preserves_limits}
    Let $\mathsf{A}$ be a small category and $\mathsf{C}$ be a category. Given a diagram $F: \mathsf{J} \to\left[\mathsf{A},\mathsf{C}\right]$ with $\mathsf{J}$ small, if for any $a\in \mathsf{A}$, the diagram 
    \[
        \mathrm{ev}_a \circ F:\mathsf{J}\xrightarrow{\quad F\quad}\left[\mathsf{A},\mathsf{C}\right]\xrightarrow{\quad\mathrm{ev}_a\quad}\mathsf{C}
    \]
    has a limit, then
    \begin{enumerate}[(i)]
        \item $\varprojlim F$ exists.
        \item For any $a\in \mathsf{A}$, $\mathrm{ev}_a$ preserves $\varprojlim F$.
    \end{enumerate}
\end{proposition}




\begin{definition}{Exact Functor}{exact_functor}
    Let $F$ be a functor between finitely complete categories categories $\mathsf{C}$ and $\mathsf{D}$.
    \begin{itemize}
        \item $F$ is \textbf{left exact} if it preserves finite limits.
        \item $F$ is \textbf{right exact} if it preserves finite colimits.
        \item $F$ is \textbf{exact} if it is both left and right exact.
    \end{itemize}
\end{definition}


\begin{example}{Limit in $\mathsf{Set}$}{}
    Let $F:\mathsf{J}\to \mathsf{Set}$ be a functor. Then
    \begin{align*}
        \varprojlim F&\cong\left\{(x_i)_{i\in \mathrm{Ob}(\mathsf{J})}\in \prod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)\;\midv \;\forall \lambda:i\to j\text{ in }\mathrm{Hom}_\mathsf{J}(i,j),\,F(\lambda)(x_i)=x_j\right\}
    \end{align*}
    where $\alpha$ and $\beta$ are defined by 
    and the map $\ell_i:\varprojlim F\to F(i)$ is given by the composition
    \[
        \varprojlim F\xrightarrow{\quad\iota\quad}\prod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)\xrightarrow{\quad\pi_i\quad}F(i).
    \]
    $\varprojlim F$ also can be constructed from product and equalizer 
    \begin{align*}
        \varprojlim F\cong \ker\left[
            \begin{tikzcd}[ampersand replacement=\&]
                \prod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)  \arrow[r, "\alpha", shift left] \arrow[r, "\beta"', shift right] \& \prod\limits_{\lambda \in \mathrm{Mor}(\mathsf{J})}F(\mathrm{codom}\left(\lambda\right))
                \end{tikzcd}
        \right]
    \end{align*}
    where $\alpha$ and $\beta$ are induced by the following diagrams
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            F\left(\mathrm{dom}\left(\lambda\right)\right) \arrow[d, "F(\lambda)"'] \&[+25pt] \prod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)  \arrow[l, "\pi_{\mathrm{dom}\left(\lambda\right)}"'] \arrow[d, "\alpha", dashed] \&[-15pt]\ni \& [-15pt]      (x_i)_{i\in \mathrm{Ob}(\mathsf{J})}   \arrow[d, "\alpha", mapsto]                    \\ [+10pt]
            F\left(\mathrm{codom}\left(\lambda\right)\right)        \& {\prod\limits_{\lambda \in \mathrm{Mor}(\mathsf{J})}F(\mathrm{codom}\left(\lambda\right))} \arrow[l, "{\pi_{\lambda}}"]\&\ni\& (F(\lambda)(x_i))_{\lambda:i\to j\in \mathrm{Mor}(\mathsf{J})}
            \end{tikzcd}
    \]
    \[
        \begin{tikzcd}[ampersand replacement=\&]
             \&[+25pt] \prod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)  \arrow[ld, "\pi_{\mathrm{codom}\left(\lambda\right)}"'] \arrow[d, "\beta", dashed]    \&[-15pt]\ni \&[-15pt]   (x_i)_{i\in \mathrm{Ob}(\mathsf{J})}   \arrow[d, "\beta", mapsto]                                 \\ [+10pt]
            F\left(\mathrm{codom}\left(\lambda\right)\right)        \& {\prod\limits_{\lambda \in \mathrm{Mor}(\mathsf{J})}F(\mathrm{codom}\left(\lambda\right))} \arrow[l, "{\pi_{\lambda}}"]\&\ni\& (x_j)_{\lambda:i\to j\in \mathrm{Mor}(\mathsf{J})}
            \end{tikzcd}
    \]
\end{example}



\begin{example}{Colimit in $\mathsf{Set}$}{colimit_in_set_category}
    Let $F:\mathsf{J}\to \mathsf{Set}$ be a functor. Define a relation $\sim^*$ on $\coprod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)$: for any $(i,x),(j,y)\in \coprod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)$,
    \[
        (i,x)\sim^* (j,y)\iff \text{there exists }\lambda:i\to j\text{ in }\mathrm{Hom}_\mathsf{J}(i,j)\text{ such that }F(\lambda)(x)=y.
    \]
    Let $\sim$ denote the equivalence relation generated by $\sim^*$. Then 
    \[
        \varinjlim F\cong\coprod_{i\in \mathrm{Ob}(\mathsf{J})}F(i)/\sim
    \]
    and the map $\ell_i:F(i)\to \varinjlim F$ is given by the composition
    \[
        F(i)\xrightarrow{\quad\iota_i\quad}\coprod_{i\in \mathrm{Ob}(\mathsf{J})}F(i)\xrightarrow{\quad\pi\quad}\coprod_{i\in \mathrm{Ob}(\mathsf{J})}F(i)/\sim.
    \]
\end{example}

\begin{prf} 
    It is straightforward to show
    \[
        \varinjlim F\cong\coprod_{i\in \mathrm{Ob}(\mathsf{J})}F(i)/\sim
    \]
    by checking the universal property of $\varinjlim F$
    \[
        \begin{tikzcd}[ampersand replacement=\&, every arrow/.append style={-latex, line width=1.1pt}]
            \&   [-1.5em]                \&[-0em] C \& [-0em]                  \\[+1cm]
            \&                   \& \coprod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)/\sim \arrow[u, "f"', dash pattern=on 4pt off 2pt, draw=arrowRed]         \&                   \\[+0.2cm]
        \& F(i) \arrow[ruu, draw=cyan, "h_i"]\arrow[ru, draw=arrowBlue, shorten >=-3.5pt, "\pi\circ \iota_i"' yshift=2.5pt]        \arrow[rr, "F(\lambda)"']\&   \& F(j)\arrow[luu, draw=cyan, "h_j"']\arrow[lu, draw=arrowBlue, shorten >=-3.7pt, "\pi\circ \iota_j" yshift=2.5pt] 
        \end{tikzcd}
    \]
   First, we check that for any morphism $\lambda:i\to j$ in $\mathsf{J}$ and any $x\in F(i)$, we have
   \[
   \ell_i(x)= \pi\circ \iota_i(x)=[(i,x)]_\sim=[(j,F(\lambda)(x))]_\sim=\pi\circ \iota_j(F(\lambda)(x))=\ell_j\circ F(\lambda)(x).
   \]
   Suppose $(C,(h_i)_{i\in \mathrm{Ob}(\mathsf{J})})$ is a cone over $F$, then by the universal property of coproduct, there a unique map $g:\coprod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)\to C$ defined by $g(i,x)=h_i(x)$ such that $g\circ \iota_i =h_i$. Note that if $(i,x)\sim (j,y)$, then we can suppose there exists $\lambda:i\to j$ such that $F(\lambda)(x)=y$. Hence $h(i,x) = h_i(x)=h_j(F(\lambda)(x))=h_j(y)=
   h(j,y)$. Then by the universal property of quotient set, there exists a unique map $f:\coprod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)/\sim\;\to C$ such that $f\circ \pi=g$. Thus we have
   \[
   f\circ \ell_i=f\circ \pi\circ \iota_i=g\circ \iota_i=h_i.
   \]
   What is left is to show that $f$ is unique. Suppose there exists another map $f':\coprod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)/\sim\;\to C$ such that 
   \[
   f'\circ \ell_i=f'\circ \pi\circ \iota_i=g\circ \iota_i=h_i.
   \]
   By the universal property of coproduct, we have $f'\circ \pi=g=f\circ \pi$. Since $\pi$ is surjective, there must be $f'=f$.
\end{prf}

\begin{example}{Filtered Colimit in $\mathsf{Set}$}{}
    Let $F:\mathsf{J}\to \mathsf{Set}$ be a functor and $\mathsf{J}$ is a filtered category, then 
    the colimit $\varinjlim_\mathsf{J} F$ has an explicit description
    \begin{align*}
        \varinjlim_\mathsf{J} F\cong\left(\coprod_{j\in \mathrm{Ob}(\mathsf{J})}F(j)\right)/\sim  
    \end{align*}
    where the equivalence relation $\sim$ is defined as follows: for any $(i,x),(j,y)\in \coprod\limits_{i\in \mathrm{Ob}(\mathsf{J})}F(i)$,
    \[
        (i,x)\sim (j,y)\iff \text{there exists }\lambda_1:i\to k\text{ and }\lambda_2:j\to k\text{ such that }F(\lambda_1)(x)=F(\lambda_2)(y).
    \]
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \& \{*\} \arrow[ld, "c_x"'] \arrow[rd, "c_y"] \&                                                               \\[+1.5em]
F(i) \arrow[rd, "\iota_i"'] \arrow[r, "F(\lambda_1)", dashed] \& F(k) \arrow[d, "\iota_k"]                  \& F(j) \arrow[ld, "\iota_j"] \arrow[l, "F(\lambda_2)"', dashed] \\[+1em]
            \& \varinjlim_{\mathsf{J}}F                   \&                                                              
\end{tikzcd}
\]
\end{example}
\begin{prf} 
    If $\mathsf{J}$ is a filtered category, first we can check 
    \[
        (i,x)\approx (j,y)\iff \text{there exists }\lambda_1:i\to k\text{ and }\lambda_2:j\to k\text{ such that }F(\lambda_1)(x)=F(\lambda_2)(y).
    \]
    is an equivalence relation that $\approx$ contains $\sim^*$. It is clear an equivalence relation. If $(i,x)\sim^* (j,y)$, then there exists $\lambda:i\to j$ such that $F(\lambda)(x)=y$. Hence there exists $\lambda_1=\lambda$ and $\lambda_2=\mathrm{id}_j$ such that $F(\lambda_1)(x)=F(\lambda_2)(y)$. Thus we have $\sim^*\subseteq\, \approx$.
    
    To show $\approx\;=\;\sim$, let's assume $\backsimeq$ is any equivalence relation containing $\sim^*$. If $(i,x)\approx(j,y)$, then there exists $\lambda_1:i\to k$ and $\lambda_2:j\to k$ such that $F(\lambda_1)(x)=F(\lambda_2)(y)=z$. Hence 
    \[
        (i,x)\sim^* (k,z)\text{ and }(j,y)\sim^* (k,z)\implies(i,x)\backsimeq (k,z)\text{ and }(j,y)\backsimeq (k,z)\implies (i,x)\backsimeq (j,y).
    \]
    This implies $\backsimeq$ contains $\approx$. Therefore, $\approx$ is the smallest equivalence relation containing $\sim^*$, which means $\approx$ coincides with $\sim$.
\end{prf}
\begin{definition}{Connected Category}{}
    A category $\mathsf{C}$ is \textbf{connected} if it is nonempty and for any pair of objects $X,Y\in \mathrm{Ob}(\mathsf{C})$, there exists a zigzag of morphisms $(f_1,f_2,\cdots,f_{2n})$ connecting $X$ and $Y$ as follows
\[
    \begin{tikzcd}[ampersand replacement=\&]
            \&  [-3em]   \& Z_1 \arrow[ld, "f_1"', dashed] \arrow[rd, "f_2", dashed] \&     \& Z_3 \arrow[ld, "f_3"', dashed] \arrow[rd, "f_4", dashed] \&        \& Z_{2n-1} \arrow[ld, "f_{2n-1}"', dashed] \arrow[rd, "f_{2n}", dashed] \&        \&  [-3em]   \\
         X= \& Z_0 \&                                          \& Z_2 \&                                          \& \cdots \&                                                       \& Z_{2n} \& =Y
         \end{tikzcd}
         \]

\end{definition}

\begin{definition}{Final Functor}{}
    A functor $F:\mathsf{C}\to\mathsf{D}$ is \textbf{final} if for every object $d\in \mathsf{D}$, the comma category $(d\downarrow F)$ obtained from
    \[
        \begin{tikzcd}[ampersand replacement=\&]
             \boldone \arrow[r, "\text{const}_d"] \&[+20pt]\mathsf{D}  \&[+20pt]\mathsf{C} \arrow[l, "F"']
        \end{tikzcd}
    \]
    is connected. That is, given any $d\in \mathrm{Ob}\left(\mathsf{D}\right)$, $(d\downarrow F)$ is nonempty, and for any morphisms $d\to F(c)$ and $d\to F(c')$ there exists a zigzag of morphisms $(f_1,f_2,\cdots,f_{2n})$ such that the following diagram commutes
    \[
        \begin{tikzcd}
            &   [-3em]      &                                                             & d \arrow[lldd, bend right=40] \arrow[rrdd, bend left=36] \arrow[ld] \arrow[rd] \arrow[dd] &                                                                          &           & [-3em]\\
            &        & F(c_1) \arrow[ld, "f_1", dashed] \arrow[rd, "f_2"', dashed] &                                                                                     & F(d_{2n-1}) \arrow[ld, "f_{2n-1}", dashed] \arrow[rd, "f_{2n}"', dashed] &   &\\
      F(c)= & F(c_0) &                                                             & \cdots                                                                              &                                                                          & F(c_{2n}) & =F(c')
      \end{tikzcd}
    \]
\end{definition}

\begin{lemma}{}{}
    Let $F:\mathsf{C}\to\mathsf{D}$ and $G:\mathsf{D}\to\mathsf{E}$ be functors. If both $\varinjlim G \circ F$ and $\varinjlim G$ exist, then there exists a natural morphism between colimits
        \[
            \varinjlim G \circ F \longrightarrow \varinjlim G
        \]
\end{lemma}
\begin{proof}
    Suppose $\mu: G\circ F \Rightarrow \diagfunctor \varinjlim_{\mathsf{C}} G\circ F $ is a colimit cone in $\mathsf{Cocone}(G\circ F,\textsf{E})$ and $\nu: G\Rightarrow \diagfunctor \varinjlim_{\mathsf{D}} G$ is a colimit cone in $\mathsf{Cocone}(G,\textsf{E})$. Then by universal property of $\varinjlim G\circ F$, we can get the following commutative diagram
    \[
        \begin{tikzcd}
            & \varinjlim_{\mathsf{D}} G                          \\
    G(F(c)) \arrow[r, "\mu_c"'] \arrow[ru, "\nu_{F(c)}"] & \varinjlim_{\mathsf{C}} G\circ F \arrow[u, dashed]
    \end{tikzcd}
    \]
\end{proof}

\begin{proposition}{Equivalent Characterization of Final Functor}{}
    Let $F:\mathsf{C}\to\mathsf{D}$ be a functor. The following are equivalent:
    \begin{enumerate}[(i)]
        \item $F$ is final.
        \item For any functor $G:\mathsf{D}\to\mathsf{E}$, the natural morphism between colimits
        \[
            \varinjlim G \circ F \longrightarrow \varinjlim G
        \]
        is an isomorphism.
    \end{enumerate}
\end{proposition}

Note that $d\in \mathrm{Ob}\left(\mathsf{D}\right)$ is a final object in $\mathsf{D}$ if and only if the functor $\text{const}_d:\boldone \to \mathsf{D}$ is final.

\begin{definition}{Initial Functor}{}
    A functor $F:\mathsf{C}\to\mathsf{D}$ is \textbf{initial} if the opposite functor $F^{\text{op}}:\mathsf{C}^{\text{op}}\to\mathsf{D}^{\text{op}}$ is final.
\end{definition}


\begin{proposition}{Limits Commute with Limits}{}
    Let $F: \mathsf{I}\times \mathsf{J}\to \mathsf{C}$ be a functor. Suppose for each $i\in \mathrm{Ob}\left(\mathsf{I}\right)$, the limit of the diagram $F(i,-):\mathsf{J}\to \mathsf{C}$ exists and is denoted by $F_{i,\infty}:=\varprojlim_{\mathsf{J}} F(i,-)$. Define a diagram $F_{-,\infty}:\mathsf{I}\to \mathsf{C}$ as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{I}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{C}\&[-30pt]\&[-30pt] \\ [-15pt] 
            i  \arrow[dd, "\lambda"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]  \varprojlim_{\mathsf{J}} F(i,-)   \arrow[dd, "F_{-,\infty}(\lambda)"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "F_{-,\infty}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            i'  \& \& \& \varprojlim_{\mathsf{J}} F(i',-)
        \end{tikzcd}
    \]    
    where $F_{-,\infty}(\lambda)$ is induced by the universal property of $\varprojlim_{\mathsf{J}} F(i', -)$
    \[
        \begin{tikzcd}[ampersand replacement=\&, background color=mypropbg!10]
            \& \varprojlim_{\mathsf{J}} F(i,-) \arrow[ld] \arrow[rd] \&                             \\[+10pt]
F(i,j) \arrow[rr, black!35] \arrow[dd, "{F(\lambda, \mathrm{id}_j)}"'] \&                                                                               \& F(i,j') \arrow[dd, "{F(\lambda, \mathrm{id}_{j'})}"] \\[+10pt]
            \& \varprojlim_{\mathsf{J}} F(i', -)\arrow[ld]  \arrow[rd]                                      \&                             \\[+10pt]
F(i',j) \arrow[rr]                         \&                                                                               \& F(i', j')   
    % absulute arrow
    \arrow[from=1-2, to=3-2, "F_{-,\infty}(\lambda)"', near end, crossing over]                  
    \end{tikzcd}
    \]
    Then $\varprojlim_{\mathsf{I}} F_{-,\infty}$ exists $\iff$ $\varprojlim_{\mathsf{I}\times\mathsf{J}} F$ exists. Moreover, if either $\varprojlim_{\mathsf{I}} F_{-,\infty}$ or $\varprojlim_{\mathsf{I}\times\mathsf{J}} F$ exists, we have natural isomorphism
    \[
     \varprojlim_{\mathsf{I}\times\mathsf{J}} F\cong \varprojlim_{\mathsf{I}} F_{-,\infty}.
    \]
    Similarly, Suppose for each $j\in \mathrm{Ob}\left(\mathsf{J}\right)$, the limit of the diagram $F(-,j):\mathsf{I}\to \mathsf{C}$ exists and is denoted by $F_{\infty,j}:=\varprojlim_{\mathsf{I}} F(-,j)$. Then $\varprojlim_{\mathsf{J}} F_{\infty,-}$ exists if and only if $\varprojlim_{\mathsf{I}\times\mathsf{J}} F$ exists. Moreover, if either $\varprojlim_{\mathsf{J}} F_{\infty,-}$ or $\varprojlim_{\mathsf{I}\times\mathsf{J}} F$ exists, we have natural isomorphism
    \[
     \varprojlim_{\mathsf{I}\times\mathsf{J}} F\cong \varprojlim_{\mathsf{J}} F_{\infty,-}.
    \]
\end{proposition}
\begin{prf}
    For any cone  
    $$
    h=\left(c\xlongrightarrow{h_i} F_{i,\infty}\right)_{i \in\mathrm{Ob}\left(\mathsf{I}\right)}\in \mathrm{Ob}\left(\mathsf{Cone}\left(\mathsf{C}, \varprojlim F_{-,\infty}\right)\right),
    $$
    we can construct a cone
    $$
    \phi(h):=\left( c\xlongrightarrow{h_i} F_{i,\infty}\xlongrightarrow{\pi_{i,j}} F(i,j)\right)_{(i,j) \in\mathrm{Ob}\left(\mathsf{I}\times \mathsf{J}\right)}\in \mathrm{Ob}\left(\mathsf{Cone}\left(\mathsf{C}, \varprojlim F\right)\right).
    $$
    To verify it is a cone, we need to check for any morphism $(\lambda, \mu):(i,j)\to (i',j)$ in $\mathsf{I}\times \mathsf{J}$, the following diagram commutes
    \[
        \begin{tikzcd}
            & c \arrow[ld, "h_i"'] \arrow[rd, "h_{i'}"] &                                            \\[+10pt]
{F_{i,\infty}} \arrow[d, "{\pi_{i,j}}"'] &                                           & {F_{i',\infty}} \arrow[d, "{\pi_{i',j'}}"] \\[+10pt]
{F(i,j)} \arrow[rr, "{F(\lambda,\mu)}"'] &                                           & {F(i',j')}                                
\end{tikzcd}
\]
Note that $F(\lambda,\mu)= F(\mathrm{id}_{i'},\mu)\circ F(\lambda,\mathrm{id}_{j'})$. It is sufficient to show the following diagram commutes
    \[
        \begin{tikzcd}
            {F(i,j)} \arrow[rrrr, "{F(\lambda,\mathrm{id}_{j'})}"] \arrow[dddd, "{F(\mathrm{id}_i,\mu)}"'] &                                                                                                               &                                           &                                                                           & {F(i',j)} \arrow[dddd, "{F(\mathrm{id}_{i'},\mu)}"] \\
                                                                                                           &                                                                                                               & c \arrow[ld, "h_i"'] \arrow[rd, "h_{i'}"] &                                                                           &                                                     \\
                                                                                                           & {F_{i,\infty}} \arrow[rr, "{F_{-,\infty}(\lambda)}"'] \arrow[luu, "{\pi_{i,j}}"'] \arrow[ldd, "{\pi_{i,j'}}"] &                                           & {F_{i',\infty}} \arrow[ruu, "{\pi_{i',j}}"] \arrow[rdd, "{\pi_{i',j'}}"'] &                                                     \\
                                                                                                           &                                                                                                               &                                           &                                                                           &                                                     \\
            {F(i,j')} \arrow[rrrr, "{F(\lambda,\mathrm{id}_{j'})}"']                                       &                                                                                                               &                                           &                                                                           & {F(i',j')}                                         
            \end{tikzcd}
    \]

    \noindent Conversely, for any cone
    $$
    g=\left( c \xlongrightarrow{g_{i,j}} F(i,j)\right)_{(i,j) \in\mathrm{Ob}\left(\mathsf{I}\times \mathsf{J}\right)}\in \mathrm{Ob}\left(\mathsf{Cone}\left(\mathsf{C}, \varprojlim F\right)\right),
    $$
     we can construct a cone
    $$
    \psi(g):=\left( c\xlongrightarrow{q_i} F_{i,\infty}\right)_{i \in\mathrm{Ob}\left(\mathsf{I}\right)}\in \mathrm{Ob}\left(\mathsf{Cone}\left(\mathsf{C}, \varprojlim F_{-,\infty}\right)\right).
    $$
    through the universal property of $\varprojlim F(i,-)$
    \[
        \begin{tikzcd}
            & c \arrow[d, "q_i"', dashed] \arrow[ldd, "{g_{i,j}}"'] \arrow[rdd, "{g_{i,j'}}"] &           \\[+20pt]
            & {\varprojlim F(i,-)} \arrow[ld, "{\pi_{i,j}}"] \arrow[rd, "{\pi_{i,j'}}"']            &           \\ [+5pt]
{F(i,j)} \arrow[rr, "{F(\mathrm{id}_i,\mu)}"'] &                                                                                 & {F(i,j')}
\end{tikzcd}
\]



\end{prf}

\begin{proposition}{Colimits Commute with Colimits}{}
    Let $F: \mathsf{I}\times \mathsf{J}\to \mathsf{C}$ be a functor. Suppose for each $i\in \mathrm{Ob}\left(\mathsf{I}\right)$, the colimit of the diagram $F(i,-):\mathsf{J}\to \mathsf{C}$ exists and is denoted by $F_{i,\infty}:=\varinjlim F(i,-)$. Define a diagram $F_{-,\infty}:\mathsf{I}\to \mathsf{C}$ as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{I}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{C}\&[-30pt]\&[-30pt] \\ [-15pt] 
            i  \arrow[dd, "\lambda"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]  \varinjlim F(i,-)   \arrow[dd, "F_{-,\infty}(\lambda)"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "F_{-,\infty}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            i'  \& \& \& \varinjlim F(i',-)
        \end{tikzcd}
    \]    
    where $F_{-,\infty}(\lambda)$ is induced by the universal property of $\varinjlim F(i,-)$
    \[
        \begin{tikzcd}[ampersand replacement=\&, background color=mypropbg!10]
            \& \varinjlim F(i,-)   \&                             \\[+10pt]
F(i,j) \arrow[ru]\arrow[rr, black!35] \arrow[dd, "{F(\lambda, \mathrm{id}_j)}"'] \&                                                                               \& F(i,j') \arrow[lu]\arrow[dd, "{F(\lambda, \mathrm{id}_{j'})}"] \\[+10pt]
            \& \varinjlim F(i', -)                                     \&                             \\[+10pt]
F(i',j) \arrow[ru]\arrow[rr]                         \&                                                                               \& F(i', j')\arrow[lu]      
    % absulute arrow
    \arrow[from=1-2, to=3-2, "F_{-,\infty}(\lambda)"', near end, crossing over]                  
    \end{tikzcd}
    \]
    Then $\varinjlim F_{-,\infty}$ exists if and only if $\varinjlim F$ exists. Moreover, if $\varinjlim F$ exists, we have natural isomorphism
    \[
     \varinjlim F\cong \varinjlim F_{-,\infty}.
    \]
\end{proposition}
\begin{prf}
This can be proved by duality. Here we give another proof. 
\[
\begin{tikzcd}
    \left[\mathsf{I},\mathsf{C}\right]  \arrow[d, "\diagfunctor_\mathsf{J}"'] & \mathsf{C}\arrow[d, "\diagfunctor_{\mathsf{I}\times\mathsf{J}}"'] \arrow[r, "\diagfunctor_\mathsf{J}"] \arrow[l, "\diagfunctor_\mathsf{I}"'] & \left[\mathsf{J},\mathsf{C}\right] \arrow[d, "\diagfunctor_\mathsf{I}"] \\
    \left[\mathsf{J},\left[\mathsf{I},\mathsf{C}\right]\right] \arrow[r, "\cong"] & \left[\mathsf{I}\times \mathsf{J},\mathsf{C}\right] & \left[\mathsf{I},\left[\mathsf{J},\mathsf{C}\right]\right]\arrow[l, "\cong"']
    \end{tikzcd}
    \]

\noindent Using the adjunction between $\varprojlim$ and $\diagfunctor$
\[
        \begin{tikzcd}[ampersand replacement=\&]
            \left[\mathsf{J},\mathsf{C}\right]  \arrow[r, "\varinjlim_\mathsf{J}"{name=U}, bend left, start anchor=east, yshift=1.7ex, end anchor=west] \&[+12pt] 
            \mathsf{C}\arrow[l, "\diagfunctor_\mathsf{J}"{name=D, anchor=north}, bend left, start anchor=west, yshift=-1.5ex, end anchor=east]
            \arrow[phantom, from=U, to=D, "\dashv"{rotate=-90}]
        \end{tikzcd}    
    \]
    we have
    \[
        \begin{tikzcd}
            {\left[\mathsf{I},\mathsf{C}\right]} \arrow[r, "\varinjlim_\mathsf{I}"]                         & \mathsf{C}                                                                                                                                        & {\left[\mathsf{J},\mathsf{C}\right]} \arrow[l, "\varinjlim_\mathsf{J}"']                         \\[1em]
            {\left[\mathsf{J},\left[\mathsf{I},\mathsf{C}\right]\right]} \arrow[u, "\varinjlim_\mathsf{J}"] & {\left[\mathsf{I}\times \mathsf{J},\mathsf{C}\right]} \arrow[u, "\varinjlim_{\mathsf{I}\times\mathsf{J}}"] \arrow[l, "\cong"'] \arrow[r, "\cong"] & {\left[\mathsf{I},\left[\mathsf{J},\mathsf{C}\right]\right]} \arrow[u, "\varinjlim_\mathsf{I}"']
            \end{tikzcd}
    \]
   


\end{prf}

\begin{definition}{$\mathsf{I}$-colimits commute with $\mathsf{J}$-limits in $\mathsf{C}$}{}
    Let $\mathsf{I}$, $\mathsf{J}$, $\mathsf{C}$ be categories. Suppose $\mathsf{C}$ has all $\mathsf{I}$-shaped colimits and all $\mathsf{J}$-shaped limits. Then for any functor $F:\mathsf{I}\times \mathsf{J}\to \mathsf{C}$, there is canonical morphism
    \[
        h:\varinjlim_{i\in\mathsf{I}}\varprojlim_{j\in\mathsf{J}} F(i,j)\longrightarrow \varprojlim_{j\in\mathsf{J}}\varinjlim_{i\in\mathsf{I}} F(i,j)
    \]
    If this morphism is an isomorphism, we say \textbf{$\mathsf{I}$-colimits commute with $\mathsf{J}$-limits in $\mathsf{C}$}.
\end{definition}
\begin{prf}
First for any $i\in\mathrm{Ob}(\mathsf{I})$, we can construct a cone
    $$
    \left( \varprojlim\limits_{j\in\mathsf{I}} F(i,j)\xlongrightarrow{\pi_{i,j}}F(i,j)\xlongrightarrow{\iota_{i,j}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)\right)_{j \in\mathrm{Ob}\left(\mathsf{J}\right)}\in \mathrm{Ob}\left(\mathsf{Cone}\left(\mathsf{C}, \varprojlim\limits_{j\in\mathsf{I}} F(i,j)\right)\right).
    $$
    And by the universal property of $\varprojlim\limits_{j\in\mathsf{I}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)$, we can induce a morphism $h_i:\varprojlim\limits_{j\in\mathsf{I}} F(i,j)\to \varprojlim\limits_{j\in\mathsf{I}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)$ such that the following diagram commutes
    \[
        \begin{tikzcd}
            {F(i,j)} \arrow[rrrrr, "{F(\lambda,\mathrm{id}_{j'})}"] \arrow[dddd, "{F(\mathrm{id}_i,\mu)}"'] \arrow[rrrrd, "{\iota_{i,j}}"] &                                                                                                                                                                                                                                                       &  &                                                                                                                            &                                                        & {F(i',j)} \arrow[dddd, "{F(\mathrm{id}_{i'},\mu)}"] \arrow[ld, "{\iota_{i',j}}"'] \\
                                                                                                                                           &                                                                                                                                                                                                                                                       &  &                                                                                                                            & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[dd] &                                                                                   \\
                                                                                                                                           & {\varprojlim\limits_{j\in\mathsf{I}} F(i,j)} \arrow[rrru, "{\iota_{i,j}\circ\pi_{i,j}}"] \arrow[luu, "{\pi_{i,j}}"'] \arrow[ldd, "{\pi_{i,j'}}"] \arrow[rrrd, "{\iota_{i,j'}\circ\pi_{i,j'}}"'] \arrow[rr, no head, dashed] \arrow[rr, "h_i", dashed] &  & {\varprojlim\limits_{j\in\mathsf{I}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[ru, "\pi_j"] \arrow[rd, "\pi_{j'}"] &                                                        &                                                                                   \\
                                                                                                                                           &                                                                                                                                                                                                                                                       &  &                                                                                                                            & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j')}           &                                                                                   \\
            {F(i,j')} \arrow[rrrrr, "{F(\lambda,\mathrm{id}_{j'})}"'] \arrow[rrrru, "{\iota_{i,j'}}"]                                      &                                                                                                                                                                                                                                                       &  &                                                                                                                            &                                                        & {F(i',j')} \arrow[lu, "{\iota_{i',j'}}"]                                         
            \end{tikzcd}
        \]
        Doing this for each $i\in\mathrm{Ob}(\mathsf{I})$, we can get a cocone
        $$
    \left( \varprojlim\limits_{j\in\mathsf{I}} F(i,j)\xlongrightarrow{h_i}\varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)\right)_{i\in\mathrm{Ob}\left(\mathsf{I}\right)}\in \mathrm{Ob}\left(\mathsf{Cocone}\left(\mathsf{C}, \varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)\right)\right),
    $$
    which is shown in the following commutative diagram
    \[
    \begin{tikzcd}
        {\varprojlim\limits_{j\in\mathsf{J}} F(i,j)} \arrow[dd, "{\pi_{i,j}}"'] \arrow[r] \arrow[rrrd, "h_i", dashed, bend right=10] & {\varprojlim\limits_{j\in\mathsf{J}} F(i',j)} \arrow[dd, "{\pi_{i',j}}"'] \arrow[rrd, "h_{i'}", dashed, bend left=20] &  &                                                                                           \\
                                                                                                                      &                                                                                                                    &  & {\varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[d] \\
        {F(i,j)} \arrow[d] \arrow[r]                                                                                  & {F(i',j)} \arrow[d] \arrow[rr, "{\iota_{i',j}}"]                                                                   &  & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[d]                                     \\
        {F(i,j')} \arrow[r]                                                                                           & {F(i',j')} \arrow[rr, "{\iota_{i;,j'}}"']                                                                          &  & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j')}                                             
        \end{tikzcd}
    \]
    Finally, by the universal property of $ \varinjlim\limits_{i\in\mathsf{I}}\varprojlim\limits_{j\in\mathsf{J}} F(i,j)$, we can induce a morphism
    \[
        \begin{tikzcd}
            {\varprojlim\limits_{j\in\mathsf{J}} F(i,j)} \arrow[dd, "{\pi_{i,j}}"'] \arrow[r] \arrow[rrrd, "h_i", bend right=15] & {\varprojlim\limits_{j\in\mathsf{J}} F(i',j)} \arrow[dd, "{\pi_{i',j}}"'] \arrow[r] \arrow[rrd, "h_{i'}", bend right=10] & { \varinjlim\limits_{i\in\mathsf{I}}\varprojlim\limits_{j\in\mathsf{J}} F(i,j)} \arrow[rd,"h", dashed] &                                                                                           \\
                                                                                                                              &                                                                                                                       &                                                                                                    & {\varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[d] \\
            {F(i,j)} \arrow[d] \arrow[r]                                                                                      & {F(i',j)} \arrow[d] \arrow[rr, "{\iota_{i',j}}"]                                                                      &                                                                                                    & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[d]                                     \\
            {F(i,j')} \arrow[r]                                                                                               & {F(i',j')} \arrow[rr, "{\iota_{i;,j'}}"']                                                                             &                                                                                                    & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j')}                                             
            \end{tikzcd}
            \]
\end{prf}

\begin{proposition}{}{}
    Let $\mathsf{I}$, $\mathsf{J}$, $\mathsf{C}$ be categories. Suppose $\mathsf{C}$ has all $\mathsf{I}$-shaped colimits and all $\mathsf{J}$-shaped limits. Then the following are equivalent:
    \begin{enumerate}[(i)]
        \item $\mathsf{I}$-colimits commute with $\mathsf{J}$-limits in $\mathsf{C}$.
        \item The functor $\varinjlim_{\mathsf{I}}:[\mathsf{I},\mathsf{C}]\to \mathsf{C}$ preserves all $\mathsf{J}$-shaped limits.
        \item The functor $\varprojlim_{\mathsf{J}}:[\mathsf{J},\mathsf{C}]\to \mathsf{C}$ preserves all $\mathsf{I}$-shaped colimits.
    \end{enumerate}
\end{proposition}

\begin{proposition}{}{}
    In $\mathsf{Set}$, we have
    \begin{enumerate}[(i)]
        \item Filtered colimits commute with finite limits.
        \item Coproducts commute with connected limits.
    \end{enumerate}
\end{proposition}
\begin{prf}
    \begin{enumerate}[(i)]
        \item Let $\mathsf{I}$ be a filtered category and $\mathsf{J}$ be a finite category. Let $F:\mathsf{I}\times \mathsf{J}\to \mathsf{Set}$ be a functor. 

        First we prove the canonical map
        \begin{align*}
            h:\varinjlim_{i\in\mathsf{I}}\varprojlim_{j\in\mathsf{J}} F(i,j)&\longrightarrow \varprojlim_{j\in\mathsf{J}}\varinjlim_{i\in\mathsf{I}} F(i,j)\\
            \left[\left(a_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right]&\longmapsto \left(\left[a_j\right]\right)_{j\in\mathrm{Ob}(\mathsf{J})}
        \end{align*}
        is injective. Let $a=\left[\left(a_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right]$ with $a_j\in F(i,j)$ and $b=\left[\left(b_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right]$ with $b_j\in F(i',j)$. If $h(a)=h(b)$, then for each $j\in \mathrm{Ob}(\mathsf{J})$, we have $[a_j]=[b_j]$ in $\varinjlim\limits_{i\in\mathsf{I}} F(i,j)$, which implies there exists morphisms $\varphi_j:i\to i_j$ and $\psi_j:i'\to i_j$ in $\mathsf{I}$ such that 
        \[
        F(\varphi_j,\mathrm{id}_j)(a_j)=F(\psi_j,\mathrm{id}_j)(b_j)
        \]
        holds in $F(i_j,j)$. Consider the subcategory $\mathsf{W}$ of $\mathsf{I}$ consisting of $\varphi_j$ and $\psi_j$ for all $j\in \mathrm{Ob}(\mathsf{J})$. By \Cref{th:equivalent_characterizations_of_filtered_category}, there exists a cocone from $H:\mathsf{W}\hookrightarrow \mathsf{I}$ to $m\in \mathrm{Ob}(\mathsf{J})$.
        \[
            \left( \begin{tikzcd}
                & m                       &                                            \\
i \arrow[r, "\varphi_j"'] \arrow[ru, "\varphi"] & i_j \arrow[u, "\eta_j"'] & i' \arrow[l, "\psi_j"] \arrow[lu, "\psi"']
\end{tikzcd}\right)_{j\in \mathrm{Ob}(\mathsf{J})}\in \mathrm{Ob}\left(\mathsf{Cocone}\left(H,\mathsf{I} \right)\right).
            \]
            This implies for any $j\in \mathrm{Ob}(\mathsf{J})$, 
            \begin{align*}
                F(\varphi,\mathrm{id}_j)(a_j)&=F(\eta_i\circ \varphi_j,\mathrm{id}_j)(a_j)\\
                &=F(\eta_i,\mathrm{id}_j)\circ F(\varphi_j,\mathrm{id}_j)(a_j)\\
                &=F(\eta_i,\mathrm{id}_j)\circ F(\psi_j,\mathrm{id}_j)(b_j)\\
                &=F(\eta_i\circ \psi_j,\mathrm{id}_j)(b_j)\\
                &=F(\psi,\mathrm{id}_j)(b_j)
            \end{align*}
            holds in $F(m,j)$. Consider the functor 
            \[
                \begin{tikzcd}[ampersand replacement=\&]
                    \mathsf{I}\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{Set}\&[-30pt]\&[-30pt] \\ [-15pt] 
                    i_1  \arrow[dd, "\lambda"{name=L, left}] 
                    \&[-25pt] \& [+10pt] 
                    \& [-30pt]  \varinjlim\limits_{j\in\mathsf{J}} F(i_1,j)   \arrow[dd, "F_{-,\infty}(\lambda)"{name=R}] \\ [-10pt] 
                    \&  \phantom{.}\arrow[r, "F_{-,\infty}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
                    i_2  \& \& \& \varinjlim\limits_{j\in\mathsf{J}} F(i_2,j)
                \end{tikzcd}
            \]    
            Then there exist morphisms $\varphi:i\to m$ and $\psi:i'\to m$ in $\mathsf{I}$ such that 
            \[
                F_{-,\infty}(\varphi)\left(\left(a_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right)=\varinjlim\limits_{j\in\mathsf{J} }F(\varphi,\mathrm{id}_j)(a_j)=\varinjlim\limits_{j\in\mathsf{J} }F(\psi,\mathrm{id}_j)(b_j)=F_{-,\infty}(\psi)\left(\left(b_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right),
            \]
            which implies $a=b$. So the map $h$ is injective.
        
        To Specify an element $a$ in the filtered colimit $\varinjlim\limits_{i\in\mathsf{I}}\varprojlim\limits_{j\in\mathsf{J}} F(i,j)$, it is sufficient to specify a map $\{*\}\to \varprojlim\limits_{j\in\mathsf{J}} F(i,j)$ or alternatively a cone
        \[
        v:=\left( \{*\}\xlongrightarrow{v_j}   F(i,j)\right)_{j\in \mathrm{Ob}(\mathsf{J})}\in \mathrm{Ob}\left(\mathsf{Cone}\left(\mathsf{Set}, \varprojlim\limits_{j\in\mathsf{J}} F(i,-)\right)\right).
        \]
        Let $w$ be another cone over $\varprojlim\limits_{j\in\mathsf{J}} F(i',-)$ correponding to $b\in \varinjlim\limits_{i\in\mathsf{I}}\varprojlim\limits_{j\in\mathsf{J}} F(i,j)$. Suppose $h(a)=h(b)$. Then there exists a morphism $\lambda:i\to i'$ in $\mathsf{I}$ such that the following diagram commutes

        Giving an element $x\in \varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)$ is equivalent to giving a map $c_x: \{*\}\to \varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)$. By \Cref{th:limit_by_representability}, this is equivalent to specifying a cone over $\varinjlim\limits_{i\in\mathsf{I}} F(i,-)$
        \[
        \left( \{*\}\xlongrightarrow{f_j}  \varinjlim\limits_{i\in\mathsf{I}} F(i,j)\right)_{j\in \mathrm{Ob}(\mathsf{J})}\in \mathrm{Ob}\left(\mathsf{Cone}\left(\mathsf{Set}, \varinjlim\limits_{i\in\mathsf{I}} F(i,-)\right)\right).
        \]
        By the construction filtered colimits in $\mathsf{Set}$, for each $j\in \mathrm{Ob}(\mathsf{J})$, there exists a $i_j\in \mathrm{Ob}(\mathsf{I})$ and a morphism $g_j:\{*\}\to F(i_j,j)$ such that $f_j=\iota_{i_j,j}\circ g_j$, where $\iota_{i_j,j}: F(i_j,j)\to \varinjlim\limits_{i\in\mathsf{I}}F(i,j)$ are the morphisms in the cocone of colimit. Since $\mathsf{I}$ is filtered and $\mathsf{J}$ is finite, there exists $k\in \mathrm{Ob}(\mathsf{I})$ with morphisms $\lambda_j: i_j\to k$ for each $j\in \mathrm{Ob}(\mathsf{J})$. 


        Given any morphism $\mu:j\to j'$ in $\mathsf{J}$, the following two diagrams commutes
        \[
            \begin{tikzcd}
                {F(i_j,j)} \arrow[rr, "\iota_j"]                                                        &  & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[dd] \\
                \{*\} \arrow[u, "g_{j}"] \arrow[d, "g_{j'}"'] \arrow[rru, "f_j"] \arrow[rrd, "f_{j'}"'] &  &                                                 \\
                {F(i_{j'},j')} \arrow[rr, "\iota_{j'}"']                                                &  & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j')}          
                \end{tikzcd}
        \]
        \[
            \begin{tikzcd}
                & {F(i_j,j)} \arrow[ld, "{F(\mathrm{id},\mu)}"'] \arrow[rr, "{F(\lambda_j,\mathrm{id})}"] \arrow[rrdd, bend right] &                                        & {F(k,j)} \arrow[ld, "{F(\mathrm{id},\mu)}"'] \arrow[dd] &                                                                                                            & {F(i_{j'},j)} \arrow[ld, "{F(\mathrm{id},\mu)}"'] \arrow[ll, "{F(\lambda_{j'},\mathrm{id})}"'] \arrow[lldd, bend left] \\[4em]
{F(i_{j},j')} \arrow[rr, "{F(\lambda_{j},\mathrm{id})}"] \arrow[rrdd, "{\iota_{i_j,j'}}", bend right] &                                                                                                                  & {F(k,j')} \arrow[dd, "{\iota_{k,j'}}"] &                                                         & {F(i_{j'},j')} \arrow[ll, "{F(\lambda_{j'},\mathrm{id})}"'] \arrow[lldd, "{\iota_{i_{j'},j'}}", bend left] &                                                                                                                        \\[4em]
                &                                                                                                                  &                                        & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[ld]         &                                                                                                            &                                                                                                                        \\[4em]
                &                                                                                                                  & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j')}  &                                                         &                                                                                                            &                                                                                                                       
\end{tikzcd}
\]
Combining these two commutative diagrams, we obtain
\[
    \iota_{k,j'}\circ F(\lambda_j,\mathrm{id}_{j'})\circ F(\mathrm{id}_{i_j},\mu)\circ g_j=\iota_{k,j'}\circ F(\lambda_{j'},\mathrm{id}_{j'})\circ g_{j'},
\]
or equivalently
\[
    \iota_{k,j'}\circ F(\lambda_j,\mu)\circ g_j=\iota_{k,j'}\circ F(\lambda_{j'},\mathrm{id}_{j'})\circ g_{j'},
\]
which is illustrated in the following diagram
\[
\begin{tikzcd}
    & {F(i_j,j)} \arrow[rd, "{F(\lambda_j,\mu)}"]                      &                                       &                                       \\
\{*\} \arrow[ru, "g_j"] \arrow[rd, "g_{j'}"'] &                                                                  & {F(k,j')} \arrow[r, "{\iota_{k,j'}}"] & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j')} \\
    & {F(i_{j'},j')} \arrow[ru, "{F(\lambda_{j'},\mathrm{id}_{j'})}"'] &                                       &                                      
\end{tikzcd}
\]
By the property of filtered colimits in $\mathsf{Set}$, there exists an object $k_\mu\in \mathrm{Ob}(\mathsf{I})$ and morphisms $\alpha_\mu: k\to k_\mu$ and $\beta_\mu: k\to k_\mu$ such that 
\[
    F(\alpha_\mu,\mathrm{id}_{j'})\circ F(\lambda_j,\mu)\circ g_j=F(\beta_\mu,\mathrm{id}_{j'})\circ  F(\lambda_{j'},\mathrm{id}_{j'})\circ g_{j'},
\]
namely
\[
    F(\alpha_\mu\circ \lambda_j,\mu)\circ g_j=F(\beta_\mu\circ \lambda_{j'},\mathrm{id}_{j'})\circ g_{j'}.
\]

Consider the subcategory $\mathsf{K}$ of $\mathsf{I}$ consisting of $k$, $(k_\mu)_{\mu\in \mathrm{Mor}(\mathsf{I})}$ and morphisms $\alpha_\mu$, $\beta_\mu$ for each $\mu\in \mathrm{Mor}(\mathsf{I})$. By \Cref{th:limit_by_representability}, since the inclusion functor $G:\mathsf{K}\hookrightarrow\mathsf{I}$ is a finite diagram, there exists a cocone from $G$ to $\widehat{k}\in \mathrm{Ob}(\mathsf{I})$
        \[
        \left( \begin{tikzcd}
            & \widehat{k} &                              \\
k \arrow[rr, "\alpha_\mu", shift left] \arrow[ru, "\gamma"] \arrow[rr, "\beta_\mu"', shift right] &    & k_\mu \arrow[lu, "\xi_\mu"']
\end{tikzcd}\right)_{\mu\in \mathrm{Mor}(\mathsf{I})}\in \mathrm{Ob}\left(\mathsf{Cocone}\left(G,\mathsf{I} \right)\right).
        \]
        Then we can define a cone over $F\left(\widehat{k} ,-\right)$ as follows
        \[
        \left( r_j:\{*\}\xlongrightarrow{g_j}  F(i_j,j)\xlongrightarrow{F(\gamma\circ \lambda_j,j)} F\left(\widehat{k} ,j\right)\right)_{j\in \mathrm{Ob}(\mathsf{J})}\in \mathrm{Ob}\left(\mathsf{Cone}\left(\mathsf{Set},  F\left(\widehat{k} ,-\right)\right)\right).
        \]
        To verify it is a cone, we need to check for any morphism $\mu:j\to j'$ in $\mathsf{J}$, the following diagram commutes
        \[
            \begin{tikzcd}
                & \{*\} \arrow[ld, "g_j"'] \arrow[rd, "g_{j'}"] &                                                                         \\[1em]
{F(i_j,j)} \arrow[d, "{F\left(\gamma\circ\lambda_j,\mathrm{id}_j\right)}"'] &                                               & {F(i_{j'},j')} \arrow[d, "{F\left(\gamma\circ\lambda_{j'},\mathrm{id}_{j'}\right)}"] \\[1em]
{F\left(\widehat{k} ,j\right)} \arrow[rr, "{F(\mathrm{id}_k, \mu)}"']                   &                                               & {F\left(\widehat{k} ,j'\right)}                                                              
\end{tikzcd}
        \]
        This can be derived from the following diagram
        \[
            \begin{tikzcd}
                & \{*\} \arrow[ld, "g_j"'] \arrow[rd, "g_{j'}"] &                                                                                                                                                                                        &  &                                                                       \\[2em]
{F(i_j,j)} \arrow[d, "{F\left(\lambda_j,\mathrm{id}_j\right)}"']                                     &                                               & {F(i_{j'},j')} \arrow[d, "{F\left(\lambda_{j'},\mathrm{id}_{j'}\right)}"']                                                                                                             &  &                                                                       \\[2em]
{F(k,j)} \arrow[d, "{F\left(\gamma,\mathrm{id}_j\right)}"'] \arrow[rr, "{F(\mathrm{id}_{{k}},\mu)}"] &                                               & {F(k,j')} \arrow[d, "{F\left(\gamma,\mathrm{id}_{j'}\right)}"'] \arrow[rr, "{F(\alpha_\mu,\mathrm{id}_{j'})}", shift left] \arrow[rr, "{F(\beta_\mu,\mathrm{id}_{j'})}"', shift right] &  & {F(k_\mu,j')} \arrow[lld, "{F(\xi_\mu,\mathrm{id}_{j'})}", bend left] \\[2em]
{ F\left(\widehat{k} ,j\right)} \arrow[rr, "{F(\mathrm{id}_{\widehat{k}},\mu)}"']                    &                                               & { F\left(\widehat{k} ,j'\right)}                                                                                                                                                       &  &                                                                      
\end{tikzcd}
        \]
        By the universal property of $\varprojlim\limits_{j\in\mathsf{J}} F\left(\widehat{k} ,j\right)$, there exists a unique morphism $r^*:\{*\}\to \varprojlim\limits_{j\in\mathsf{J}} F\left(\widehat{k} ,j\right)$. Compose $r^*$ with the canonical morphism $\varprojlim\limits_{j\in\mathsf{J}} F\left(\widehat{k} ,j\right)\to \varinjlim\limits_{i\in\mathsf{I}}\varprojlim\limits_{j\in\mathsf{J}} F(i,j)$, we obtain a morphism $v:\{*\}\to \varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)$. To prove $h$ is surjective, it is sufficient to verify that the following diagram commutes
        \[
            \begin{tikzcd}
                & \{*\} \arrow[ld, "u"'] \arrow[rd, "c_x"] &                                                                                 \\
{\varinjlim\limits_{i\in\mathsf{I}}\varprojlim\limits_{j\in\mathsf{J}} F(i,j)} \arrow[rr, "h"'] &                                          & {\varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)}
\end{tikzcd}
\]
We need to check that for any $j \in \mathrm{Ob}\left(\mathsf{J}\right)$, the following diagram commutes
        \[
            \begin{tikzcd}
                & \{*\} \arrow[ldd, "f_j"', bend right] \arrow[d, "u"]                                               \\
                & {\varinjlim\limits_{i\in\mathsf{I}}\varprojlim\limits_{j\in\mathsf{J}} F(i,j)} \arrow[d, "h"]      \\
{ \varinjlim\limits_{i\in\mathsf{I}} F(i,j)} & {\varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[l, "\pi_j"]
\end{tikzcd}
        \]
This follows from the commutativity of the outer square and all inter loops but the right one in the following diagram
\[
    \begin{tikzcd}
        {\varprojlim\limits_{j\in\mathsf{J}} F\left(\widehat{k},j\right)} \arrow[ddd, "{\pi_{\widehat{k},j}}"'] \arrow[rd, "h_{\widehat{k}}"] \arrow[rr] &                                                                                                 & {\varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)} \arrow[ddd, "\pi_j"] \\
                                                                                                                                                         & { \varinjlim\limits_{i\in\mathsf{I}}\varprojlim\limits_{j\in\mathsf{J}} F(i,j)} \arrow[ru, "h"] &                                                                                                      \\
                                                                                                                                                         & \{*\} \arrow[rd, "f_j"] \arrow[ld, "r_j"'] \arrow[luu, "r^*"', bend left] \arrow[u, "u"']     &                                                                                                      \\
        {F\left(\widehat{k},j\right)} \arrow[rr, "{\iota_{\widehat{k},j}}"]                                                                              &                                                                                                 & {\varinjlim\limits_{i\in\mathsf{I}} F(i,j)}                                                         
        \end{tikzcd}
        \]
        By the universal property of $\varprojlim\limits_{j\in\mathsf{J}} \varinjlim\limits_{i\in\mathsf{I}} F(i,j)$, $c_x$ is the uniqueness morphism such that $\pi_j\circ c_x=f_j$ for any $j \in \mathrm{Ob}\left(\mathsf{J}\right)$. So we have $c_x = h\circ u$. 
    \item Let $\mathsf{I}$ be a discrete category and $\mathsf{J}$ be a connected category. Let $F:\mathsf{I}\times \mathsf{J}\to \mathsf{Set}$ be a functor. 

    First we prove the canonical map
        \begin{align*}
            h:\coprod_{i\in\mathsf{I}}\varprojlim_{j\in\mathsf{J}} F(i,j)&\longrightarrow \varprojlim_{j\in\mathsf{J}}\coprod_{i\in\mathsf{I}} F(i,j)\\
            \left(i,\left(a_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right)&\longmapsto \left(\left(i,a_j\right)\right)_{j\in\mathrm{Ob}(\mathsf{J})}
        \end{align*}
        is injective. Let $a=\left(i,\left(a_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right)$ with $a_j\in F(i,j)$ and $b=\left(i',\left(b_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right)$ with $b_j\in F(i',j)$. If $h(a)=h(b)$, then for each $j\in \mathrm{Ob}(\mathsf{J})$, we have $\left(i,a_j\right)=\left(i',b_j\right)$ in $\coprod\limits_{i\in\mathsf{I}} F(i,j)$, which implies $i=i'$ and $a_j=b_j$. So the map $h$ is injective. 

        Next we prove $h$ is surjective. Let $x=\left(\left(i_j,a_j\right)\right)_{j\in\mathrm{Ob}(\mathsf{J})}$ be an element in $\varprojlim\limits_{j\in\mathsf{J}}\coprod\limits_{i\in\mathsf{I}} F(i,j)$, where $a_j\in F(i_j,j)$. Define the map
        \begin{align*}
            \coprod_{i\in\mathsf{I}} F(i,\mu):\coprod_{i\in\mathsf{I}} F(i,j)&\longrightarrow \coprod_{i\in\mathsf{I}} F(i,j')\\
            \left(i,a\right)&\longmapsto \left(i,F(i,\mu)(a)\right).
        \end{align*}
        For any morphism $\mu:j\to j'$ in $\mathsf{J}$, compatibility requires 
        \[
            \left(i_{j'},a_{j'}\right)=\coprod_{i\in\mathsf{I}} F(i,\mu) \left(i_j,a_j\right)=\left(i_j,F(i_j,\mu)(a_j)\right)
        \]
        which forces
        \[
            i_{j'}=i_j\text{ and }a_{j'}=F(i_j,\mu)(a_j).
        \] 
        Since $\mathsf{J}$ is connected, we can assume $i_j=i^*$ for all $j\in \mathrm{Ob}(\mathsf{J})$. And we get $\left(a_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\in \varprojlim\limits_{j\in\mathsf{J}} F(i^*,j)$ by checking the compatibility condition
        \[
            a_{j'}=F(i^*,\mu)(a_j),  \text{ for any morphism }\mu:j\to j'.
        \]
        Thus we have 
        \[
            h\left(i^*, \left(a_j\right)_{j\in\mathrm{Ob}(\mathsf{J})}\right)=\left(\left(i_j,a_j\right)\right)_{j\in\mathrm{Ob}(\mathsf{J})}=x.
        \]
        This proves the surjectivity of $h$ and hence $h$ is a bijection.
    \end{enumerate}
\end{prf}



\subsection{Product and Coproduct}
\begin{definition}{Binary Product}{}
    \begin{center}
        \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
            & X \arrow[d, dash pattern=on 4pt off 2pt, draw=arrowRed] \arrow[ld, "f_1"', draw=cyan] \arrow[rd, "f_2", draw=cyan] &         \\[+10pt]
    Y_1 & Y_1\times Y_2 \arrow[l, "\pi_1", draw=arrowBlue] \arrow[r, "\pi_2"', draw=arrowBlue]               & Y_2
    \end{tikzcd}
    \end{center}
\end{definition}

In the diagram $Y_1\xleftarrow{f_1} X \xrightarrow{f_2} Y_2$, the information in $X$ is coarsened through $f_1$ and reinterpreted in $Y_1$, while the same information in $X$ is processed in another coarsening manner through $f_2$ and reinterpreted differently in $Y_2$.

$Y_1\xleftarrow{\pi_1}Y_1\times Y_2 \xrightarrow{\pi_2} Y_2$ is the most refined way to combine the information in $Y_1$ and $Y_2$ such that $Y_1\times Y_2$ exactly captures the mixture of information in $Y_1$ and $Y_2$ and the projections $\pi_1$ and $\pi_2$ can coarsen the information in $Y_1\times Y_2$ exactly to recover the information in $Y_1$ and $Y_2$ respectively.

\begin{example}{Binary Product in $\mathsf{Set}$}{}
    Let $Y_1$ and $Y_2$ be sets. The binary product $Y_1\times Y_2$ can be constructed as follows
    \begin{align*}
        Y_1\times Y_2&=\left\{(y_1,y_2) \midv y_1\in Y_1\text{ and }y_2\in Y_2\right\}.\\
        \pi_1&:(y_1,y_2)\longmapsto y_1,\\
        \pi_2&:(y_1,y_2)\longmapsto y_2.
    \end{align*}
    Given any $Y_1\xleftarrow{f_1} X \xrightarrow{f_2} Y_2$, there exists a unique map 
    \begin{align*}
        f_1\times f_2 :X&\longrightarrow Y_1\times Y_2\\
        x&\longmapsto (f_1(x),f_2(x))
    \end{align*}
    such that $\pi_1\circ (f_1\times f_2)=f_1$ and $\pi_2\circ (f_1\times f_2)=f_2$.
\end{example}

\begin{definition}{Binary Coproduct}{}
    \begin{center}
        \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                & Y   &         \\[+10pt]
        X_1 \arrow[r, "\iota_1"', draw=arrowBlue]  \arrow[ru, "f_1", draw=cyan] & X_1 \sqcup X_2  \arrow[u, dash pattern=on 4pt off 2pt, draw=arrowRed]             & X_2 \arrow[l, "\iota_2", draw=arrowBlue]\arrow[lu, "f_2"', draw=cyan]
        \end{tikzcd}
    \end{center}
\end{definition}

\subsection{Fibered Product and Fibered Coproduct}
\begin{definition}{Fibered Product / Pullback}{}
    \begin{center}
        \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
        X \arrow[rd, dash pattern=on 4pt off 2pt, draw=arrowRed] \arrow[rrd, draw=cyan, bend left] \arrow[rdd, draw=cyan, bend right] &[-2em]                                 &                    \\[5pt]
                                                                                & Y_1\times_{A} Y_2 \arrow[d, "\pi_1"', draw=arrowBlue] \arrow[r, "\pi_2", draw=arrowBlue] & Y_2 \arrow[d,"f_2"] \\[10pt]
                                                                                & Y_1 \arrow[r, "f_1"']               & A        
        \end{tikzcd} 
    \end{center}
\end{definition}

\begin{example}{Pullback in $\mathsf{Set}$}{}
    Let $Y_1$, $Y_2$, and $A$ be sets and $f_1:Y_1\to A$, $f_2:Y_2\to A$ be maps. The fibered product $Y_1\times_{A} Y_2$ can be constructed as follows
    \begin{align*}
        Y_1\times_{A} Y_2&=\left\{(y_1,y_2) \midv y_1\in Y_1\text{ and }y_2\in Y_2\text{ such that }f_1(y_1)=f_2(y_2)\right\}.\\
    \end{align*}
    Given any $X\xrightarrow{f} Y_1 \xleftarrow{g} Y_2$, there exists a unique map 
    \begin{align*}
        X&\longrightarrow Y_1\times_{A} Y_2\\
        x&\longmapsto (f(x),g(x))
    \end{align*}
    such that the following diagram commutes
    \begin{center}
        \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
            X \arrow[rd, dash pattern=on 4pt off 2pt, draw=arrowRed] \arrow[rrd, draw=cyan, bend left] \arrow[rdd, draw=cyan, bend right] &[-2em]                                 &  [-0.4em]                  \\[5pt]
                                                                                & Y_1\times_{A} Y_2 \arrow[d, draw=arrowBlue] \arrow[r, draw=arrowBlue] & Y_2 \arrow[d] \\[10pt]
                                                                                & Y_1 \arrow[r]               & A        
        \end{tikzcd} 
    \end{center}
    
\end{example}

\begin{definition}{Fibered Coproduct / Pushout}{}
    \begin{center}
        \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                                          &  [-0.4em]                  \\[10pt]
                                                                                A  \arrow[d] \arrow[r] & X_2 \arrow[d, draw=arrowBlue]\arrow[rdd, draw=cyan, bend left] \\[10pt]
                                                                                 X_1 \arrow[rrd, draw=cyan, bend right]\arrow[r, draw=arrowBlue]               &   X_1 \sqcup_A X_2  \arrow[rd, dash pattern=on 4pt off 2pt, draw=arrowRed]      \\
                                                                                 & & Y
        \end{tikzcd} 
    \end{center}
\end{definition}

\section{Adjoint Functor}
\begin{definition}{Adjoint Pair of Functors}{}
    An \textbf{adjoint pair of functors} is a tuple $\left(L,R,\Phi\right)$ consisting of a pair of functors $\begin{tikzcd}[ampersand replacement=\&]
        \mathsf{C} \arrow[r, "L", bend left] \& \mathsf{D} \arrow[l, "R", bend left]
        \end{tikzcd}$
    and a natural isomorphism 
    \[
            \begin{tikzcd}[ampersand replacement=\&]
                \mathsf{C}^{\mathrm{op}}\times\mathsf{D} \arrow[r, "\scalebox{1.2}{$\mathrm{Hom}_{\mathsf{D}}\left(L(-){,}-\right)$}"{name=A, above}, bend left] \arrow[r, "\scalebox{1.2}{$\mathrm{Hom}_{\mathsf{C}}\left(-{,}R(-)\right)$}"'{name=B, below}, bend right] \&[+60pt] \mathsf{Set}
                \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "\Phi", "\sim\hspace{1.5pt}"']
            \end{tikzcd}
    \]
    which means for any $X\in \mathrm{Ob}(\mathsf{C})$ and $Y\in \mathrm{Ob}(\mathsf{D})$, there is a bijection
    \begin{align*}
        \Phi_{X,Y}:\mathrm{Hom}_{\mathsf{D}}\left(L(X),Y\right)&\xlongrightarrow{\sim} \mathrm{Hom}_{\mathsf{C}}\left(X,R(Y)\right)\\
        \Big(L(X)\xlongrightarrow{f}Y\Big)&\longmapsto \Big(X\xlongrightarrow{f^{\triangleright}}R(Y)\Big)
    \end{align*}
    natural in $X$ and $Y$. $L$ is called the \textbf{left adjoint} of $R$, and $R$ is called the \textbf{right adjoint} of $L$. We write $L\dashv R$ to denote that $L$ is left adjoint to $R$.
\end{definition}

The naturality square of $\Phi$ means that for any morphism $g:X_2\to X_1$ in $\mathsf{C}$ and $h:Y_1\to Y_2$ in $\mathsf{D}$, the following diagram commutes
\[
    \begin{tikzcd}[ampersand replacement=\&]
        \mathrm{Hom}_{\mathsf{D}}\left(L(X_1),Y_1\right) \arrow[r, "{\mathrm{Hom}_{\mathsf{D}}\left(L(g){,}h\right)}"] \arrow[d, "\Phi_{X_1,Y_1}"', "\sim"] \&[+50pt] \mathrm{Hom}_{\mathsf{D}}\left(L(X_2),Y_2\right) \arrow[d, "\Phi_{X_2,Y_2}", "\sim"'] \\[+20pt]
        \mathrm{Hom}_{\mathsf{C}}\left(X_1,R(Y_1)\right) \arrow[r, "{\mathrm{Hom}_{\mathsf{C}}\left(g{,}R(h)\right)}"'] \& \mathrm{Hom}_{\mathsf{C}}\left(X_2,R(Y_2)\right)
    \end{tikzcd}
\]
which in turn can be explicitly written as for any $f:L(X_1)\to Y_1$ in $\mathsf{D}$,
\[
    \Phi_{X_2,Y_2}\left(h\circ f\circ L(g)\right)=R(h)\circ\Phi_{X_1,Y_1}(f)\circ g.
\]

\begin{definition}{Adjunction Unit and Counit}{}
Let $\left(L,R,\Phi\right)$ be an adjoint pair of functors. The \textbf{adjunction unit} $\eta$ of this adjunction is a natural transformation
\begin{center}
    \begin{tikzcd}[ampersand replacement=\&]
        \mathsf{C} \arrow[r, "\scalebox{1.2}{$\mathrm{id}_{\mathsf{C}}$}"{name=A, above}, bend left=40] \arrow[r, "\scalebox{1.2}{$R\circ L$}"'{name=B, below}, bend right=40] 
        \&[+25pt] \mathsf{C}
        \arrow[Rightarrow, shorten <=3.5pt, shorten >=3.5pt, from=A.south-|B, to=B, "\eta"]
    \end{tikzcd}
    \hspace{3cm}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center)]
        \begin{scope}       
            \clip (-2.5,0.2) rectangle (2.5,3);     
            \fill[fill=green!20] (-2.5,0.2) rectangle (2.5,3);  
            \draw[fill=blue!20, rounded corners=0.6cm, line width=0.7pt] (-1,-1) rectangle (1, 2); 
        \end{scope}
        \node[below=2pt] at (-1,0.2) {$L$};
        \node[below=2pt] at (1,0.2) {$R$};
        \node[above=1pt] at (0,2) {$\eta$};
        \draw[fill=black] (0, 2) circle (0.07);
    \end{tikzpicture}
\end{center}
defined by $\eta_X:=\Phi_{X,L(X)}\left(\mathrm{id}_{L(X)}\right)$ for any $X\in \mathrm{Ob}(\mathsf{C})$, where $\Phi_{X,L(X)}$ is the natural bijection
$$
\begin{aligned}
    \Phi_{X,L(X)}:\operatorname{Hom}_{\mathsf{D}}\left(L(X), L(X)\right) & \xlongrightarrow{\sim}\operatorname{Hom}_{\mathsf{C}}(X, RL(X)) \\
\operatorname{id}_{F(X)} & \longmapsto \eta_X 
\end{aligned}
$$
The \textbf{adjunction counit} $\varepsilon$ of this adjunction is a natural transformation
\begin{center}
    \begin{tikzcd}[ampersand replacement=\&]
        \mathsf{D} \arrow[r, "\scalebox{1.2}{$L\circ R$}"{name=A, above}, bend left=40] \arrow[r, "\scalebox{1.2}{$\mathrm{id}_{\mathsf{D}}$}"'{name=B, below}, bend right=40] 
        \&[+25pt] \mathsf{D}
        \arrow[Rightarrow, shorten <=3.5pt, shorten >=3.5pt, from=A.south-|B, to=B, "\varepsilon"]
    \end{tikzcd}
    \hspace{3cm}
    \begin{tikzpicture}[x=0.6cm,y=0.6cm, baseline=(current bounding box.center)]
        \begin{scope} 
            \clip (-2.5,0) rectangle (2.5,2.8);     
            \fill[fill=blue!20] (-2.5,0) rectangle (2.5,2.8);  
            \draw[fill=green!20, rounded corners=0.6cm, line width=0.7pt] (-1,1) rectangle (1, 4);
        \end{scope}
        \node[above=2pt] at (-1,2.8) {$R$};
        \node[above=2pt] at (1,2.8) {$L$};
        \node[above=2pt] at (0,1) {$\varepsilon$};
        \draw[fill=black] (0, 1) circle (0.07);  
    \end{tikzpicture}
\end{center}
defined by $\varepsilon_Y:=\Phi_{R(Y),Y}^{-1}\left(\mathrm{id}_{R(Y)}\right)$ for any $Y\in \mathrm{Ob}(\mathsf{D})$, where $\Phi_{R(Y),Y}^{-1}$ is the natural bijection
$$
\begin{aligned}
    \Phi_{R(Y),Y}^{-1}:\operatorname{Hom}_{\mathsf{D}}\left(R(Y), R(Y)\right) & \xlongrightarrow{\sim}\operatorname{Hom}_{\mathsf{C}}(LR(Y), R(Y)) \\
\mathrm{id}_{R(Y)} & \longmapsto \varepsilon_Y
\end{aligned}
$$
\end{definition}

\begin{prf}
    By naturality of $\Phi$, for any morphism $g:X_2\to X_1$ in $\mathsf{C}$, we have the following commutative diagram
    \[
    \begin{tikzcd}[ampersand replacement=\&]
        \mathrm{id}_{L(X_1)}\arrow[d,mapsto]\&[-30pt]\ni\&[-29pt]{\operatorname{Hom}_{\mathsf{D}}\left(L(X_1), L(X_1)\right) } \arrow[d, "{\Phi_{X_1,L(X_1)}}"'] \arrow[r,"{\left(L(g)\right)^*}"] \& [+12pt]{\operatorname{Hom}_{\mathsf{D}}\left(L(X_2), L(X_1)\right) } \arrow[d, "{\Phi_{X_2,L(X_1)}}"] \&[+12pt] {\operatorname{Hom}_{\mathsf{D}}\left(L(X_2), L(X_2)\right) } \arrow[d, "{\Phi_{X_2,L(X_2)}}"] \arrow[l,"{\left(L(g)\right)_*}"'] \&[-28pt]\in\&[-28pt]\mathrm{id}_{L(X_2)}\arrow[d,mapsto]\\[+20pt]
        \eta_{X_1}\&\ni\&{\operatorname{Hom}_{\mathsf{C}}(X_1, RL(X_1))} \arrow[r,"g^*"]                                                    \& {\operatorname{Hom}_{\mathsf{C}}(X_2, RL(X_1))}                                                   \& {\operatorname{Hom}_{\mathsf{C}}(X_2, RL(X_2))} \arrow[l, "\left(RL(g)\right)_*"']            \&[-30pt]\in\&[-30pt]\eta_{X_2}       
        \end{tikzcd}
        \]
        Since
        \[
        (L(g))^*\left(\mathrm{id}_{L(X_1)}\right)=L(g)=(L(g))_*\left(\mathrm{id}_{L(X_2)}\right),
        \]
        we have
        \[
        g^*(\eta_{X_1})=\Phi_{X_2,L(X_1)}(L(g))=\left(RL(g)\right)_*(\eta_{X_2}),
        \]   
    which implies the naturality square of $\eta$ commutes
\[
    \begin{tikzcd}[ampersand replacement=\&]
        X_2 \arrow[d, "{\eta_{X_2}}"'] \arrow[r, "g"] \&[+18pt]X_1\arrow[d, "{\eta_{X_1}}"]    \\[+15pt]
         RL(X_2)\arrow[r, "RL(g)"']\& RL(X_1)
    \end{tikzcd}
\] 
Similarly, we can show that for any morphism $h:Y_1\to Y_2$ in $\mathsf{D}$, the naturality square of $\varepsilon$ commutes
\[
    \begin{tikzcd}[ampersand replacement=\&]
        LR(Y_1) \arrow[d, "{\varepsilon_{Y_1}}"'] \arrow[r, "LR(h)"] \&[+18pt]LR(Y_2)\arrow[d, "{\varepsilon_{Y_2}}"]    \\[+15pt]
         Y_1\arrow[r, "h"']\& Y_2
    \end{tikzcd}
\]
\end{prf}

\begin{proposition}{Adjunction Isomorphism Determined by Unit or Counit}{}
    Let $\left(L,R,\Phi\right)$ be an adjoint pair of functors and $\eta$ and $\varepsilon$ be the adjunction unit and counit respectively. Then 
   \begin{align*}
\Phi_{X,Y}(f) & =R(f) \circ \eta_X: X \rightarrow R(Y), \quad \forall f: L(X) \rightarrow Y , \\
\Phi_{X,Y}^{-1}(g) & =\varepsilon_Y \circ L(g): L(X) \rightarrow Y, \quad \forall g: X \rightarrow R(Y) .
   \end{align*}
\end{proposition}

\begin{prf}
    For any object $X\in \mathrm{Ob}(\mathsf{C})$ and any morphism $f:L(X)\to Y$ in $\mathsf{D}$, we have the following commutative diagram
    \[
		\begin{tikzcd}[ampersand replacement=\&, row sep = 3.5em]
			\mathrm{id}_{L(X)}\arrow[d, mapsto]\&[-25pt]\in\&[-25pt]\mathrm{Hom}_{\mathsf{C}}(L(X),L(X)) \arrow[d, "{\Phi_{X,L(X)}}"']  \arrow[rr, "{f_*}"] \&[-15pt] \& {\mathrm{Hom}_{\mathsf{C}}(L(X),Y)}\arrow[d, "\Phi_{X,Y}"]\&[-25pt]\ni\&[-25pt]f \arrow[d, mapsto]\\
			\eta_X\&\in\&{\mathrm{Hom}_{\mathsf{C}}(X,RL(X))} \arrow[rr, "{\left(R(f)\right)_*}"'] \&  \& {\mathrm{Hom}_{\mathsf{C}}(X,R(Y))}  \&\ni\& \Phi_{X,Y}(f)     
		\end{tikzcd}
	\]
    For any object $Y\in \mathrm{Ob}(\mathsf{D})$ and any morphism $g:X\to R(Y)$ in $\mathsf{C}$, we have the following commutative diagram
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep = 3.5em]
            \mathrm{id}_{R(Y)}\arrow[d, mapsto]\&[-25pt]\in\&[-25pt]\mathrm{Hom}_{\mathsf{D}}(R(Y),R(Y)) \arrow[d, "{\Phi_{R(Y),Y}^{-1}}"']  \arrow[rr, "{g^*}"] \&[-15pt] \& {\mathrm{Hom}_{\mathsf{D}}(X,R(Y))}\arrow[d, "\Phi_{R(Y),Y}^{-1}"]\&[-25pt]\ni\&[-25pt]g \arrow[d, mapsto]\\
            \varepsilon_Y\&\in\&{\mathrm{Hom}_{\mathsf{C}}(LR(Y),Y)} \arrow[rr, "{\left(L(g)\right)^*}"'] \&  \& {\mathrm{Hom}_{\mathsf{C}}(L(X),Y)}  \&\ni\& \Phi_{X,Y}^{-1}(g)
        \end{tikzcd}
    \]
\end{prf}

\begin{lemma}{Snake Equations}{}
    Let $\left(L,R,\Phi\right)$ be an adjoint pair of functors and $\eta$ and $\varepsilon$ be the adjunction unit and counit respectively. Then we have the following equalities of natural transformations
    \begin{center}
        \begin{tikzpicture}[x=0.8cm,y=0.8cm]
            \node at (-7.4,1.5) {${\left[L \xRightarrow{L \eta}LR L\xRightarrow{\varepsilon L} L\right]=\mathrm{id}_L}$};
            \begin{scope} 
                \clip (-2.4,0) rectangle (2.4,3);     
                \fill[fill=green!20] (-2.5,0) rectangle (2.5,3);  
                \filldraw[fill=blue!20, rounded corners=0.48cm, line width=0.7pt] (-1.2,-1) -- (-1.2, 2.1)-- (0,2.1)-- (0,0.9)-- (1.2,0.9)
                   -- (1.2,4)-- (4,4)-- (4,-1)--cycle;
            \end{scope}
        
            \node[above] at (1.2,3) {$L$};
            \node[below] at (-1.2,0) {$L$};
        
            \draw[fill=black] (0.6, 0.9) circle (0.07);  
            \node[above=2pt] at (0.6, 0.9) {$\varepsilon$};
            
            \draw[fill=black] (-0.6, 2.1) circle (0.07); 
            \node[above=2pt] at (-0.6, 2.1) {$\eta$};
        
            \node at (3.2, 1.5) {$=$};
        
            \begin{scope} 
                \clip (4,0) rectangle (6.4,3); 
                \fill[fill=green!20] (4,0) rectangle (6.4,3); 
                \filldraw[fill=blue!20, line width=0.7pt] (5.2,-1) rectangle (7,4);  
            \end{scope} 
            
            \node[below] at (5.2,0) {$L$};
            \node[above] at (5.2,3) {$L$};
        \end{tikzpicture}
    \end{center}
    \begin{center}
        \begin{tikzpicture}[x=0.8cm,y=0.8cm]
            \node at (-7.3,1.5) {${\left[R \xRightarrow{\eta R}RLR \xRightarrow{R \varepsilon}R\right]=\mathrm{id}_R}$};
            \begin{scope} 
                \clip (-2.4, 0) rectangle (2.4, 3);     
                \fill[fill=blue!20] (-2.5, 0) rectangle (2.5,3);  
                \filldraw[fill=green!20, rounded corners=0.48cm] (-1.2, 4) -- (-1.2, 0.9)-- (0, 0.9)-- (0, 2.1)-- (1.2, 2.1)
                -- (1.2, -1)-- (4, -1)-- (4, 4)--cycle;
            \end{scope}
        
            \node[below] at (1.2,0) {$R$};
            \node[above] at (-1.2,3) {$R$};
        
            \draw[fill=black] (0.6, 2.1) circle (0.07);  
            \node[above=2pt] at (0.6, 2.1) {$\eta$};
            
            \draw[fill=black] (-0.6, 0.9) circle (0.07); 
            \node[above=2pt] at (-0.6, 0.9) {$\varepsilon$};
        
            \node at (3.2, 1.5) {$=$};
        
            \begin{scope} 
                \clip (4,0) rectangle (6.4,3); 
                \fill[fill=blue!20] (4,0) rectangle (6.4,3); 
                \filldraw[fill=green!20] (5.2,-1) rectangle (7,4);  
            \end{scope} 
            
            \node[below] at (5.2,0) {$R$};
            \node[above] at (5.2,3) {$R$};
        \end{tikzpicture}
    \end{center}
\end{lemma}

\begin{proposition}{}{}
    If $F:\mathsf{C}\to\mathsf{D}$ and $G:\mathsf{D}\to\mathsf{C}$ are inverse functors, which means $F\circ G=\mathrm{id}_{\mathsf{D}}$ and $G\circ F=\mathrm{id}_{\mathsf{C}}$, then we have $F\dashv G$ and $G\dashv F$.
\end{proposition}
\begin{prf}
    The snake equations of the adjunction unit and counit holds trivially because the unit $\eta:\mathrm{id}_{\mathsf{C}}\Rightarrow G\circ F$ and counit $\varepsilon:F\circ G\Rightarrow \mathrm{id}_{\mathsf{D}}$ are identity natural transformations.
\end{prf}

\begin{definition}{Wire Bending}{}
Let $\mathsf{C}$, $\mathsf{D}$, $\mathsf{C'}$, $\mathsf{D'}$ be categories and $L,R,L',R',H,K$ be functors shown in the following diagram
\[
    \begin{tikzcd}[ampersand replacement=\&]
        \mathsf{C} \arrow[dd, "L"', bend right=38] \arrow[r, "H"]  \&[+36pt] \mathsf{C'} \arrow[dd, "L'"', bend right=38] \\[-5pt]
        \dashv                                                  \& \dashv                                    \\[-5pt]
        \mathsf{D} \arrow[uu, "R"', bend right=38] \arrow[r, "K"'] \& \mathsf{D'} \arrow[uu, "R'"', bend right=38]
        \end{tikzcd}    
\]
There are bijections between the following sets of natural transformations
\[
    \begin{tikzcd}[ampersand replacement=\&]
        {\mathrm{Hom}_{[\mathsf{C}, \mathsf{D'}]}\left(L'H, KL\right) } \arrow[r, shift left=1pt, rightharpoonup, "\triangleright"]\arrow[r, shift right=1pt,leftharpoondown, "\triangleleft"']  \& {\mathrm{Hom}_{[\mathsf{C}, \mathsf{C'}]}(H, R'KL) } \arrow[d, shift left=1pt, rightharpoonup, "\triangleright"]\arrow[d, shift right=1pt,leftharpoondown, "\triangleleft"']   \\[+15pt]
        { \mathrm{Hom}_{[\mathsf{D}, \mathsf{D'}]}\left(L'HR, K\right)} \arrow[u, shift left=1pt, rightharpoonup, "\triangleright"]\arrow[u, shift right=1pt,leftharpoondown, "\triangleleft"'] \& {\mathrm{Hom}_{[\mathsf{D}, \mathsf{C'}]}(HR, R'K) } \arrow[l, shift left=1pt, rightharpoonup, "\triangleright"]\arrow[l, shift right=1pt,leftharpoondown, "\triangleleft"'] 
        \end{tikzcd}    
\]
natural in both $H$ and $K$ such that $\triangleleft=\triangleright^{-1}$ and $\triangleright\triangleright\triangleright\hspace{2.15pt}\triangleright=\triangleright^4=\mathrm{id}$. $\triangleright$ is called \textbf{wire bending} because its action can be visualized as bending the wires of adjoint pairs in the following string diagrams

\begin{center}
\begin{tikzpicture}[x=0.8cm,y=0.8cm, baseline=(current bounding box.center)]
    \draw [|-To] (3,1) -- (4,1) node[midway,above] {$\triangleright$};
    \draw [|-To] (7,-1) -- (7,-2) node[midway,right] {$\triangleright$};
    \draw [|-To] (4,-4) -- (3,-4) node[midway,above] {$\triangleright$};
    \draw [|-To] (0,-2) -- (0,-1) node[midway,right] {$\triangleright$};
    \begin{scope}      
        \fill[fill=green!20] (-2,0) rectangle (0,2);  
        \fill[fill=blue!45] (0,0) rectangle (2,2); 
        \fill[fill=blue!20] (-1,0) .. controls (-1,0.4) and (-0.8, 1) .. (0,1)--(0,0)--cycle;
        \fill[fill=green!45] (1,2) .. controls (1,1.6) and (0.8, 1) .. (0,1)--(0,2)--cycle;
    \end{scope}
    \draw[line width=0.7pt] (0,0) -- (0,2);
    \draw[line width=0.7pt] (-1,0) .. controls (-1, 0.4) and (-0.8, 1) .. (0, 1) .. controls (0.8, 1) and (1, 1.6) .. (1, 2);
    
    \node[above=2pt] at (0, 2) {$H$};
    \node[below=2pt] at (0, 0) {$K$};
    \node[below=2pt] at (-1, 0) {$L$};
    \node[above=2pt] at (1, 2) {$L'$};

    \draw[fill=black] (0, 1) circle (0.07);  
    \node[left=7pt, above=1pt] at (0, 1)  {$\alpha$};

\begin{scope}[shift={(7,0)}]
     \begin{scope}     
        \fill[fill=green!20] (-2,0) rectangle (0,2);  
        \fill[fill=green!45] (0,0) rectangle (2,2); 
        \fill[fill=blue!20] (-1,0) .. controls (-1, 0.4) and (-0.8, 1) .. (0,1)--(0,0)--cycle;
        \fill[fill=blue!40] (1,0) .. controls (1, 0.4) and (0.8, 1) .. (0,1)--(0,0)--cycle;
    \end{scope}
    \draw[line width=0.7pt] (0,0) -- (0,2);
    \draw[line width=0.7pt] (-1,0) .. controls (-1, 0.4) and (-0.8, 1) .. (0, 1) .. controls (0.8, 1) and (1, 0.4) .. (1, 0);
    
    \node[above=2pt] at (0, 2) {$H$};
    \node[below=2pt] at (0, 0) {$K$};
    \node[below=2pt] at (-1, 0) {$L$};
    \node[below=2pt] at (1, 0) {$R'$};

    \draw[fill=black] (0, 1) circle (0.07);  
    \node[left=7pt, above=1pt] at (0, 1)  {$\beta$};
\end{scope}
\begin{scope}[shift={(0,-5)}]
     \begin{scope}     
        \fill[fill=blue!20] (-2,0) rectangle (0,2);  
        \fill[fill=blue!45] (0,0) rectangle (2,2); 
        \fill[fill=green!20] (-1,2) .. controls (-1, 1.6) and (-0.8, 1) .. (0,1)--(0,2)--cycle;
        \fill[fill=green!45] (1,2) .. controls (1, 1.6) and (0.8, 1) .. (0,1)--(0,2)--cycle;
    \end{scope}
    \draw[line width=0.7pt] (0,0) -- (0,2);
    \draw[line width=0.7pt] (-1,2) .. controls (-1, 1.6) and (-0.8, 1) .. (0, 1) .. controls (0.8, 1) and (1, 1.6) .. (1, 2);
    
    \node[above=2pt] at (0, 2) {$H$};
    \node[below=2pt] at (0, 0) {$K$};
    \node[above=2pt] at (-1, 2) {$R$};
    \node[above=2pt] at (1, 2) {$L'$};

    \draw[fill=black] (0, 1) circle (0.07);  
    \node[left=7pt, below=1pt] at (0, 1)  {$\delta$};
\end{scope}
\begin{scope}[shift={(7,-5)}]
     \begin{scope}     
        \fill[fill=blue!20] (-2,0) rectangle (0,2);  
        \fill[fill=green!45] (0,0) rectangle (2,2); 
        \fill[fill=green!20] (-1,2) .. controls (-1, 1.6) and (-0.8, 1) .. (0,1)--(0,2)--cycle;
        \fill[fill=blue!40] (1,0) .. controls (1, 0.4) and (0.8, 1) .. (0,1)--(0,0)--cycle;
    \end{scope}
    \draw[line width=0.7pt] (0,0) -- (0,2);
    \draw[line width=0.7pt] (-1,2) .. controls (-1, 1.6) and (-0.8, 1) .. (0, 1) .. controls (0.8, 1) and (1, 0.4) .. (1, 0);
    
    \node[above=2pt] at (0, 2) {$H$};
    \node[below=2pt] at (0, 0) {$K$};
    \node[above=2pt] at (-1, 2) {$R$};
    \node[below=2pt] at (1, 0) {$R'$};

    \draw[fill=black] (0, 1) circle (0.07);  
    \node[left=7pt, below=1pt] at (0, 1)  {$\gamma$};
\end{scope}
\end{tikzpicture}
\end{center}
\end{definition}

We only explicit define $\alpha^\triangleright$ here. The other wire bendings are defined similarly using the unit or counit of the adjunctions.
\begin{center} \begin{tikzpicture}[x=0.8cm,y=0.8cm, baseline=(current bounding box.center)]
    \begin{scope}     
        \fill[fill=green!20] (-2,0) rectangle (0,2);  
        \fill[fill=green!45] (0,0) rectangle (2,2); 
        \fill[fill=blue!20] (-1,0) .. controls (-1, 0.4) and (-0.8, 1) .. (0,1)--(0,0)--cycle;
        \fill[fill=blue!40] (1,0) .. controls (1, 0.4) and (0.8, 1) .. (0,1)--(0,0)--cycle;
    
    \draw[line width=0.7pt] (0,0) -- (0,2);
    \draw[line width=0.7pt] (-1,0) .. controls (-1, 0.4) and (-0.8, 1) .. (0, 1) .. controls (0.8, 1) and (1, 0.4) .. (1, 0);
    
    \node[above=2pt] at (0, 2) {$H$};
    \node[below=2pt] at (0, 0) {$K$};
    \node[below=2pt] at (-1, 0) {$L$};
    \node[below=2pt] at (1, 0) {$R'$};

    \draw[fill=black] (0, 1) circle (0.07);  
    \node[left=8pt, above=1pt] at (0, 1)  {$\alpha^{\triangleright}$};
    \end{scope}
    
    \node at (4, 1) {$:=$};
    
    \begin{scope} [shift={(8,0)}]
    \begin{scope} 
            \clip (-2,0) rectangle (4,4);     
            \fill[fill=green!20] (-2,0) rectangle (0,4);  
            \fill[fill=green!45] (0,0) rectangle (4,4);  
            \filldraw[fill=blue!20] (-1,-1) -- (-1,0) .. controls (-1,0.4) and (-0.8, 1) .. (0,1)--(0,-1)--cycle;
            \filldraw[fill=blue!45, line width=0.7pt] (0, -1) -- 
            (0, 1) .. controls (0.8, 1) and (1, 1.6) ..  
            (1, 2) .. controls (1, 2.4) and (1.2, 3) .. 
            (2, 3) .. controls (2.8, 3) and (3, 2.4) .. 
            (3, 2)--(3, -1)--cycle;
    \end{scope}
        \draw[line width=0.7pt] (0,0) -- (0,4);

        \node[above=2pt] at (0, 4) {$H$};
        \node[below=2pt] at (0, 0) {$K$};
        \node[below=2pt] at (-1, 0) {$L$};
        \node[left=5pt,above=2pt] at (1, 2) {$L'$};
        \node[below=2pt] at (3, 0) {$R'$};
    
        \draw[fill=black] (0, 1) circle (0.07);  
        \node[left=7pt, above=1pt] at (0, 1)  {$\alpha$};

        \draw[fill=black] (2, 3) circle (0.07);  
        \node[above=1pt] at (2, 3)  {$\eta'$};

        \draw[dashed, color=black!70, line width=0.7pt] (-2,0) rectangle (2,2);
    \end{scope}
    \end{tikzpicture}    
\end{center}
The fact that $\triangleleft$ is the inverse of $\triangleright$ follows from the snake equations.


\begin{proposition}{Equivalent Definition of Adjoint Functor Using Unit and Counit}{}
    Given pair of functors $\begin{tikzcd}[ampersand replacement=\&]
        \mathsf{C} \arrow[r, "L", bend left] \& \mathsf{D} \arrow[l, "R", bend left]
        \end{tikzcd}$
    there is a bijection between the following sets 
    \begin{align*}
        T:\left\{\text{adjoint pair }\left(L,R,\Phi\right)\right\}&\xrightleftharpoons{\;\sim\;}\left\{\left(L,R,\eta,\varepsilon\right)\text{ that satisfies snake equations}\right\}\\
        \Phi&\longmapsto\left(\eta_X:=\Phi\left(\mathrm{id}_{L(X)}\right), \varepsilon_Y:=\Phi^{-1}\left(\mathrm{id}_{R(Y)}\right)\right)\\
        \Phi_{X,Y}(f):=R(f) \circ \eta_X&\longmapsfrom(\eta, \varepsilon)
    \end{align*}
\end{proposition}

\begin{prf}
    Suppose $\left(L,R,\eta,\varepsilon\right)$ satisfies snake equations. Consider the diagram
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \boldone \arrow[dd, "\mathrm{id}"', bend right=38] \arrow[r, "\diagfunctor X"]  \&[+36pt] \mathsf{C} \arrow[dd, "L"', bend right=38] \\[-5pt]
            \dashv                                                  \& \dashv                                    \\[-5pt]
            \boldone \arrow[uu, "\mathrm{id}"', bend right=38] \arrow[r, "\diagfunctor Y"'] \& \mathsf{D} \arrow[uu, "R"', bend right=38]
            \end{tikzcd}    
    \]

    \begin{center}
        \begin{tikzpicture}[x=0.8cm,y=0.8cm, baseline=(current bounding box.center)]
        \definecolor{leftcolor}{RGB}{255,255,204}
            \draw [|-To] (2.5,1) -- (3.5,1) node[midway,above] {$\triangleright$};
            \node at (9, 1) {$:=$};
            \node at (14, 1) {$=$};
          
            \begin{scope}     
                \fill[fill=leftcolor] (-2,0) rectangle (0,2);  
                \fill[fill=blue!20] (0,0) rectangle (2,2); 
                \fill[fill=green!20] (1,2) .. controls (1,1.6) and (0.8, 1) .. (0,1)--(0,2)--cycle;
            \end{scope}
            \draw[line width=0.7pt] (0,0) -- (0,2);
            \draw[dashed, color=black!50, line width=0.7pt] (-1,0) .. controls (-1, 0.4) and (-0.8, 1) .. (0, 1) ;
            \draw[line width=0.7pt]  (0, 1) .. controls (0.8, 1) and (1, 1.6) .. (1, 2);
            
            \node[above=2pt] at (0, 2) {$X$};
            \node[below=2pt] at (0, 0) {$Y$};
            \node[above=2pt] at (1, 2) {$L$};
        
            \draw[fill=black] (0, 1) circle (0.07);  
            \node[left=7pt, above=-2pt] at (0, 1)  {$f$};
        
        \begin{scope}[shift={(6,0)}]
             \begin{scope} 
                    
                \fill[fill=leftcolor] (-2,0) rectangle (0,2);  
                \fill[fill=green!20] (0,0) rectangle (2,2); 
              
                \fill[fill=blue!20] (1,0) .. controls (1, 0.4) and (0.8, 1) .. (0,1)--(0,0)--cycle;
            \end{scope}
            \draw[line width=0.7pt] (0,0) -- (0,2);
            \draw[dashed, color=black!40, line width=0.7pt] (-1,0) .. controls (-1, 0.4) and (-0.8, 1) .. (0, 1);
            \draw[line width=0.7pt] (0, 1) .. controls (0.8, 1) and (1, 0.4) .. (1, 0);
            \node[above=2pt] at (0, 2) {$X$};
            \node[below=2pt] at (0, 0) {$Y$};
            \node[below=2pt] at (1, 0) {$R$};
        
            \draw[fill=black] (0, 1) circle (0.07);  
            \node[left=7pt, above=-2pt] at (0, 1)  {$f^{\hspace{0.2pt}\triangleright}$};
        \end{scope}
      \begin{scope}[shift={(11,0)}]
             \begin{scope} 
                \clip (-1,0) rectangle (2,2);     
                \fill[fill=leftcolor] (-2,0) rectangle (0,2);  
                \fill[fill=green!20] (0,0) rectangle (2,2); 
                \filldraw[fill=blue!20] (1.5,-1)--(1.5,0) .. controls (1.5, 0.5) and (0.7, 2.3) .. (0,1)--(0,-1)--cycle;
            \end{scope}
            \draw[line width=0.7pt] (0,0) -- (0,2);
            \draw[dashed, color=black!40, line width=0.7pt] (-0.5,0) .. controls (-0.5, 0.2) and (-0.3, 0.6) .. (0, 1);
            \node[above=2pt] at (0, 2) {$X$};
            \node[below=2pt] at (0, 0) {$Y$};
            \node[below=2pt] at (1.5, 0) {$R$};
        
            \draw[fill=black] (0, 1) circle (0.07);  
            \draw[fill=black] (0.54, 1.46) circle (0.07) node[above=0pt] {$\eta$}; 
            \node[left=7pt, above=-2pt] at (0, 1)  {$f$};
        \end{scope}

        \begin{scope}[shift={(16,0)}]
             \begin{scope}     
                \fill[fill=leftcolor] (-1,0) rectangle (0,2);  
                \fill[fill=green!20] (0,0) rectangle (2,2); 
         
                \fill[fill=blue!20] (1.4,0) .. controls (1.4,1) and (1, 1.4) .. (0,1.4)--(0,0)--cycle;
            \end{scope}
            \draw[line width=0.7pt] (0,0) -- (0,2);
         
            \draw[line width=0.7pt] (0, 1.4) .. controls (1, 1.4) and (1.4, 1) .. (1.4, 0);
            \node[above=2pt] at (0, 2) {$X$};
            \node[below=2pt] at (0, 0) {$Y$};
            \node[below=2pt] at (1.4, 0) {$R$};
        
            \draw[fill=black] (0, 0.7) circle (0.07) node[left=0pt] {$f$};  
            \draw[fill=black] (0, 1.4) circle (0.07) node[left=0pt] {$\eta_X$};  
        \end{scope}
        
        \end{tikzpicture}
    \end{center}
    As the string diagram shows, we find $\Phi_{X,Y}$ conincides with the wire bending map
    \[
        \triangleright: \mathrm{Hom}_{\mathsf{D}}\left(L(X), Y\right)\xlongrightarrow{\sim} \mathrm{Hom}_{\mathsf{C}}(X, R(Y)) 
    \]
    which is natural in both $X$ and $Y$. Hence $\Phi$ is a natural isomorphism. It is straightforward to check that $T$ is a bijection.
\end{prf}


\begin{proposition}{Uniqueness of Adjunction}{}
    If $\left(L,R,\eta,\varepsilon\right)$ and $\left(L,R',\eta', \varepsilon\right)$ are two adjoint pairs of functors, then there is a unique natural isomorphism $\psi:R\xRightarrow{\sim} R'$ such that 
    \[
        \begin{tikzpicture}[x=0.5cm,y=0.5cm,line width=0.7pt,hollow/.style={
                   circle,
                   fill=white,
                   draw,
                   outer sep=0pt,
                   inner sep=1.7pt,
                   line width=0.7pt
                 }]
           \definecolor{leftcolor}{RGB}{204, 255, 204}
           \definecolor{midcolor}{RGB}{204, 204, 255}
           
       
           \node at (4, 2) {$=$};
          \node at (20, 2) {$=$};
           
           
            \begin{scope}
               \begin{scope} 
                   \clip (-2.5,0) rectangle (2.5, 4);     
                   \fill[fill=leftcolor] (-3,0) rectangle (3, 4);  
                    
                   \draw[fill=midcolor, rounded corners=0.5cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
               \end{scope}
             
               \filldraw [black] (1,0.8) circle (0.1) node[right=1pt] {$\psi$};
               \node[below] at (-1, 0) {$L$};
               \node[right=-1pt] at (1, 1.8) {$R$};
               \node[below] at (1, 0) {$R'$};
               \draw[fill=black] (0, 2.8) circle (0.1);
               \node[above=1pt] at (0, 2.8) {$\eta$}; 
             
           \end{scope}
           
           \begin{scope}[shift={(8,0)}]
               \begin{scope} 
                   \clip (-2.5,0) rectangle (2.5, 4); 
                   \fill[fill=leftcolor] (-3,0) rectangle (3, 4);  
                   \draw[fill=midcolor, rounded corners=0.5cm, line width=0.7pt] (-1, -2) rectangle (1, 2);
               \end{scope}
               \node[below] at (-1, 0) {$L$};
               \node[below] at (1, 0) {$R$};
               \draw[fill=black] (0, 2) circle (0.1);
               \node[above=1pt] at (0, 2) {$\eta'$}; 
           
           \end{scope}
           
           \begin{scope}[shift={(16,0)}]
               \begin{scope} 
                   \clip (-2.5,0) rectangle (2.5, 4);     
                   \fill[fill=midcolor] (-3,0) rectangle (3, 4);  
                    
                   \draw[fill=leftcolor, rounded corners=0.5cm, line width=0.7pt] (-1, 6) rectangle (1, 1.2);
               \end{scope}
             
               \filldraw [black] (-1,3.2) circle (0.1) node[right=1pt] {$\psi$};
               \node[above] at (-1, 4) {$R$};
               \node[left=-1pt] at (-1, 2.2) {$R'$};
               \node[above] at (1, 4) {$L$};
               \draw[fill=black] (0, 1.2) circle (0.1);
               \node[below=1pt] at (0, 1.2) {$\varepsilon'$}; 
             
           \end{scope}
           
           \begin{scope}[shift={(24,0)}]
               \begin{scope} 
                   \clip (-2.5,0) rectangle (2.5, 4); 
                   \fill[fill=midcolor] (-3,0) rectangle (3, 4);  
                   \draw[fill=leftcolor, rounded corners=0.5cm, line width=0.7pt] (-1, 6) rectangle (1, 2);
               \end{scope}
               \node[above] at (1, 4) {$L$};
               \node[above] at (-1, 4) {$R$};
               \draw[fill=black] (0, 2) circle (0.1);
               \node[below=1pt] at (0, 2) {$\varepsilon$}; 
           
           \end{scope}
           
        \end{tikzpicture}
    \]
\end{proposition}

\begin{prf}
    Consider the diagram
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C} \arrow[dd, "L"', bend right=38] \arrow[r, "\mathrm{id}_{\mathsf{C}}"]  \&[+36pt] \mathsf{C} \arrow[dd, "L"', bend right=38] \\[-5pt]
            \dashv                                                  \& \dashv                                    \\[-5pt]
            \mathsf{D} \arrow[uu, "R"', bend right=38] \arrow[r, "\mathrm{id}_{\mathsf{D}}"'] \& \mathsf{D} \arrow[uu, "R'"', bend right=38]
            \end{tikzcd}    
    \]
    Define $\psi:=\mathrm{id}_L^{\:\triangleright\triangleright}$, which is illustrated by the following string diagram
    \begin{center}
        \begin{tikzpicture}[x=0.8cm,y=0.8cm]
            \node at (8, 1.5) {$:=$};
            \begin{scope}
                \begin{scope} 
                    \clip (4,0) rectangle (6.4,3); 
                    \fill[fill=blue!20] (4,0) rectangle (6.4,3); 
                    \filldraw[fill=green!20] (5.2,-1) rectangle (7,4);  
                \end{scope} 
                \draw[fill=black] (5.2, 1.5) circle (0.07) node[right=1pt] {$\psi$};
                \node[below] at (5.2,0) {$R'$};
                \node[above] at (5.2,3) {$R$};
            \end{scope}
            \begin{scope}[shift={(12,0)}] 
                \begin{scope}
                    \clip (-2.4, 0) rectangle (2.4, 3);     
                    \fill[fill=blue!20] (-2.5, 0) rectangle (2.5,3);  
                    \filldraw[fill=green!20, rounded corners=0.48cm] (-1.2, 4) -- (-1.2, 0.9)-- (0, 0.9)-- (0, 2.1)-- (1.2, 2.1)
                    -- (1.2, -1)-- (4, -1)-- (4, 4)--cycle;
                \end{scope}
        
                \node[below] at (1.2,0) {$R'$};
                \node[above] at (-1.2,3) {$R$};
            
                \draw[fill=black] (0.6, 2.1) circle (0.07);  
                \node[above=2pt] at (0.6, 2.1) {$\eta'$};
                
                \draw[fill=black] (-0.6, 0.9) circle (0.07); 
                \node[above=2pt] at (-0.6, 0.9) {$\varepsilon$};
              
            \end{scope}   
        \end{tikzpicture}
    \end{center}
    $\psi$ is a natural isomorphism since it has inverse $\mathrm{id}_L^{\:\triangleleft\triangleleft}$. The first equality in the statement of the proposition follows from $\psi^{\triangleleft}=\psi^{\triangleright\triangleright\triangleright}=\mathrm{id}_L^{\:\triangleright}=\eta'$. The uniqueness of $\psi$ follows from the injectivity of 
    $$
    \triangleleft:\mathrm{Hom}_{\left[\mathsf{D},\mathsf{C}\right]}\left(R,R'\right)\xlongrightarrow{\sim} \mathrm{Hom}_{\left[\mathsf{C},\mathsf{C}\right]}\left(\mathrm{id}_{\mathsf{C}},R'L\right).
    $$
    Similarly, the second equality follows from $\psi^{\triangleright}=\psi^{\triangleleft\triangleleft\triangleleft}=\mathrm{id}_L^{\:\triangleleft}=\varepsilon$. And the uniqueness of $\psi$ follows from the injectivity of
    $$
    \triangleright:\mathrm{Hom}_{\left[\mathsf{C},\mathsf{D}\right]}\left(L',L\right)\xlongrightarrow{\sim} \mathrm{Hom}_{\left[\mathsf{D},\mathsf{D}\right]}\left(LR,\mathrm{id}_{\mathsf{D}}\right).
    $$
\end{prf}



\begin{proposition}{Equivalent Definition of Adjoint Functor Using Representable Functor}{adjunction_by_representability}
    \begin{enumerate}[(i)]
        \item A functor $L:\mathsf{C}\to\mathsf{D}$ has right adjoint if and only for each $Y\in \mathrm{Ob}(\mathsf{D})$, $\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)$ is representable. If so, the universal element of $\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)$ is $\left(R(Y), \varepsilon_Y\right)$.
        \item A functor $R:\mathsf{D}\to\mathsf{C}$ has left adjoint if and only for each $X\in \mathrm{Ob}(\mathsf{C})$, $\mathrm{Hom}_{\mathsf{C}}\left(X,R(-)\right)$ is representable. If so, the universal element of $\mathrm{Hom}_{\mathsf{C}}\left(X,R(-)\right)$ is $\left(L(X), \eta_X\right)$.
    \end{enumerate}
\end{proposition}

\begin{prf}
    We only prove (i) here. The proof of (ii) is similar. 
    If $(L, R, \Phi)$ is an adjoint pair of functors, then for each $Y\in \mathrm{Ob}(\mathsf{D})$, we have an isomorphism 
    $$
    \Phi_{\text{-},Y}:\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)\xRightarrow{\sim} \mathrm{Hom}_{\mathsf{D}}\left(-,R(Y)\right).
    $$
    where $\Phi_{\text{-},Y}$ is the horizontal composition
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{C}^{\mathrm{op}}\times\boldone\arrow[r,"{\mathrm{id}\times\diagfunctor Y}"]\&[+15pt]\mathsf{C}^{\mathrm{op}}\times\mathsf{D} \arrow[r, "\scalebox{1.2}{$\mathrm{Hom}_{\mathsf{D}}\left(L(-){,}-\right)$}"{name=A, above}, bend left] \arrow[r, "\scalebox{1.2}{$\mathrm{Hom}_{\mathsf{C}}\left(-{,}R(-)\right)$}"'{name=B, below}, bend right] \&[+60pt] \mathsf{Set}
            \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "\Phi", "\sim\hspace{1.5pt}"']
        \end{tikzcd}
\]
    Since 
    \[
        \left(\Phi_{-,Y}^{-1}\right)_{R(Y)}\left(\mathrm{id}_{R(Y)}\right)=\Phi_{R(Y),Y}^{-1}\left(\mathrm{id}_{R(Y)}\right)=\varepsilon_Y,
    \]
    we see $\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)$ is representable by $\left(R(Y), \varepsilon_Y\right)$.

    Conversely, suppose for each $Y\in \mathrm{Ob}(\mathsf{D})$, $\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)$ is representable. Then for each $Y\in \mathrm{Ob}(\mathsf{D})$, there exist a natural isomorphism 
    $$
    \phi(Y):\mathrm{Hom}_{\mathsf{D}}\left(-,R_Y\right)\xRightarrow{\sim} \mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)
    $$
    for some $R_Y\in \mathrm{Ob}(\mathsf{D})$. \Cref{th:representable_functor_by_universal_element} implies that $(R_Y,\phi(Y))$ is terminal in the category $\left(Y_{\mathsf{C}}\downarrow \mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)\right)$, which corresponds to 
    $$ 
    \begin{tikzcd}[ampersand replacement=\&]
        \mathsf{C} \arrow[r, " Y_{\mathsf{C}}"] \& \left[\mathsf{C}^{\mathrm{op}},\mathsf{Set}\right] \&[+45pt]  \boldone \arrow[l, "{\diagfunctor \mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)}"']
    \end{tikzcd}
    $$ 
    Given any morphism $h:Y_1\to Y_2$ in $\mathsf{D}$, since $(R_{Y_2},\phi(Y_2))$ is terminal in $\left(Y_{\mathsf{C}}\downarrow \mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)\right)$, there exists a unique morphism $R_h:R_{Y_1}\to R_{Y_2}$  in $\mathsf{C}$ such that the following diagram commutes
     \[
     \begin{tikzcd}[ampersand replacement=\&]
        Y_{\mathsf{C}}\left(R_{Y_1}\right) \arrow[d, "Y_{\mathsf{C}}(R_h)"', dashed] \arrow[r, "\phi\left(Y_1\right)"] \&[+10pt] {\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y_1\right)} \arrow[d, "h_\star"] \\[+15pt]
        Y_{\mathsf{C}}\left(R_{Y_2}\right) \arrow[r, "\phi\left({Y_2}\right)"']                                                   \& {\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y_2\right)}                 
    \end{tikzcd}\hspace{3em}=\hspace{3em}
    \begin{tikzcd}[ampersand replacement=\&]
        \mathrm{Hom}_{\mathsf{C}}\left(-,R_{Y_1}\right)\arrow[d, "\left(R_h\right)_\star"', dashed] \arrow[r, "\phi\left(Y_1\right)"] \&[+10pt] {\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y_1\right)} \arrow[d, "h_\star"] \\[+15pt]
        \mathrm{Hom}_{\mathsf{C}}\left(-,R_{Y_2}\right) \arrow[r, "\phi\left({Y_2}\right)"']                                                   \& {\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y_2\right)}                 
    \end{tikzcd}
    \]
    Thus we can define a functor $R:\mathsf{D}\to\mathsf{C}$ by $R(Y):=R_Y$ and $R(h):= R_h$. We can also define a natural isomorphism $\Phi: \mathrm{Hom}_{\mathsf{D}}\left(L(-),-\right)\xRightarrow{\sim} \mathrm{Hom}_{\mathsf{D}}\left(-,R(-)\right)$ by
    \begin{align*}
        \Phi_{X,Y}:\mathrm{Hom}_{\mathsf{D}}\left(L(X),Y\right)&\xlongrightarrow{\sim} \mathrm{Hom}_{\mathsf{C}}\left(X,R(Y)\right)\\
        \Big(L(X)\xlongrightarrow{f}Y\Big)&\longmapsto \Big(X\xlongrightarrow{\left(\phi(Y)_X\right)^{-1}(f)}R(Y)\Big)
    \end{align*}
    The naturality of $\Phi$ can be check as follows: for any morphism $g:X_2\to X_1$ in $\mathsf{C}$ and $h:Y_1\to Y_2$ in $\mathsf{D}$, the following diagram commutes
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathrm{Hom}_{\mathsf{D}}\left(L(X_1),Y_1\right) \arrow[r, "L(g)^*"] \arrow[d, "\Phi_{X_1,Y_1}"', "\left(\phi(Y_1)_{X_1}\right)^{-1}"] \&[+40pt]\mathrm{Hom}_{\mathsf{D}}\left(L(X_2),Y_1\right) \arrow[r, "{h_*}"]\arrow[d, "\Phi_{X_2,Y_1}"', "\left(\phi(Y_1)_{X_2}\right)^{-1}"] \&[+40pt] \mathrm{Hom}_{\mathsf{D}}\left(L(X_2),Y_2\right) \arrow[d, "\Phi_{X_2,Y_2}"', "\left(\phi(Y_2)_{X_2}\right)^{-1}"] \\[+20pt]
            \mathrm{Hom}_{\mathsf{C}}\left(X_1,R(Y_1)\right) \arrow[r, "{g^*}"'] \&\mathrm{Hom}_{\mathsf{C}}\left(X_2,R(Y_1)\right) \arrow[r, "{R(h)_*}"']\& \mathrm{Hom}_{\mathsf{C}}\left(X_2,R(Y_2)\right)
        \end{tikzcd}
    \]
    Therefore, $(L,R,\Phi)$ is an adjoint pair of functors.
\end{prf}


\begin{corollary}{Equivalent Definition of Adjoint Functor Using Universal Morphism}{}
    Given pair of functors $\begin{tikzcd}[ampersand replacement=\&]
        \mathsf{C} \arrow[r, "L", bend left] \& \mathsf{D} \arrow[l, "R", bend left]
        \end{tikzcd}$, then the following are equivalent
    \begin{enumerate}[(i)]
        \item $L \dashv R$.
        \item For every object $X\in\mathrm{Ob}(\mathsf{C})$, there exists $\left(L(X), X\xrightarrow{\eta_X} R(L(X))\right)$ initial in $\left(X\downarrow R\right)$, i.e. there exists a \hyperref[th:universal_morphism]{universal morphism} from $X$ to $R$.
        \item For every object $Y\in\mathrm{Ob}(\mathsf{D})$, there exists $\left(R(Y), L(R(Y))\xrightarrow{\varepsilon_Y} Y\right)$ terminal in $\left(L\downarrow Y\right)$, i.e. there exists a \hyperref[th:universal_morphism]{universal morphism} from $L$ to $Y$.
    \end{enumerate} 
\end{corollary}

\begin{prf}
    This is a direct consequence of \Cref{th:adjunction_by_representability}. According to \Cref{th:universal_morphism_by_representability}, for each $X\in\mathrm{Ob}(\mathsf{C})$, $\mathrm{Hom}_{\mathsf{C}}\left(X,R(-)\right)$ is representable by $\left(L(X),\eta_X\right)$ is equivalent to that $\left(L(X), X\xrightarrow{\eta_X} R(L(X))\right)$ is initial in $\left(X\downarrow R\right)$.

    \[
        \begin{tikzcd}[ampersand replacement=\&]
            X \arrow[r, "\eta_X"] \arrow[rd, "g"'] \&[+20pt] R(L(X)) \arrow[d, "R\left(g^{\triangleleft}\right)", dashed] \&[+50pt]    \{*\} \arrow[r, "\diagfunctor \eta_X"] \arrow[rd, "\diagfunctor g"'] \&[+15pt] \mathrm{Hom}_{\mathsf{C}}\left(X,R(L(X))\right) \arrow[d, "R\left(g^{\triangleleft}\right)_*", dashed] \\[+20pt]
            \& R(Y) \&\& \mathrm{Hom}_{\mathsf{C}}\left(X,R(Y)\right)     
        \end{tikzcd}
    \]

    Similarly, for each $Y\in\mathrm{Ob}(\mathsf{D})$, $\mathrm{Hom}_{\mathsf{D}}\left(L(-),Y\right)$ is representable by $\left(R(Y), \varepsilon_Y\right)$ is equivalent to that $\left(R(Y), \varepsilon_Y\right)$ is terminal in $\left(L\downarrow Y\right)$.
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            L(X) \arrow[d, "L\left(f^{\triangleright}\right)"', dashed] \arrow[rd, "f"] \&[+20pt]   \&[+50pt]   {\mathrm{Hom}_{\mathsf{D}}\left(L(X),Y\right)}     \&[+15pt]  \\[+20pt]
            L(R(Y)) \arrow[r, "\eta_Y"']   \& Y \&  {\mathrm{Hom}_{\mathsf{D}}\left(L(R(Y)),Y\right)} \arrow[u, "L\left(f^{\triangleright}\right)^*", dashed] \& \{*\} \arrow[lu, "\diagfunctor f"'] \arrow[l, "\diagfunctor\eta_Y"]
        \end{tikzcd}
    \]
\end{prf}



\section{Kan Extension}

\begin{definition}{Kan Extension}{}
    Let $\mathsf{C}$, $\mathsf{D}$, $\mathsf{E}$ be categories and $K:\mathsf{C}\to\mathsf{D}$, $F:\mathsf{C}\to\mathsf{E}$ be functors. A \textbf{left Kan extension} of $F$ along $K$ is a pair $\left(\mathrm{Lan}_KF,\eta\right)$ consisting of
    \begin{itemize}
        \item a functor $\mathrm{Lan}_KF:\mathsf{D}\to\mathsf{E}$,
        \item a natural transformation $\eta:F\Rightarrow \left(\mathrm{Lan}_KF\right)\circ K$
    \end{itemize}
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&, column sep=3em] 
            % drawing 0- and 1-celss 
            \mathsf{C} \arrow[dr, "K"'{name=F}] 
            \arrow[rr, "F", ""{name=H, below}] \&\& \mathsf{E} \\ 
            \& |[alias=D]| \mathsf{D} \arrow[ur, swap,
            "\mathrm{Lan}_{K}F"] 
            % % drawing 2-cells
            \arrow[Rightarrow, from=H, to=D, "\eta"] 
        \end{tikzcd} 
    \end{center}
    such that for any pair $\left(R,\xi\right)$ consisting of
    \begin{itemize}
        \item a functor $R:\mathsf{D}\to\mathsf{E}$,
        \item a natural transformation $\xi:F\Rightarrow R\circ K$,
    \end{itemize}
    there exists a unique natural transformation $\alpha: \mathrm{Lan}_KF\Rightarrow R$ such that
    \[
        \begin{tikzpicture}[x=0.8cm,y=0.8cm, line width=0.7pt, hollow/.style={
                circle,
                fill=white,
                draw,
                outer sep=0pt,
                inner sep=1.5pt,
                line width=0.7pt
              }]
            % Define colors
            \definecolor{leftcolor}{RGB}{224, 255, 139}
            \definecolor{midcolor}{RGB}{255, 222, 142}
            \definecolor{rightcolor}{RGB}{204, 229, 255}
    
        \node at (3.75, 1.8) {$=$};
    
        \begin{scope}
            \begin{scope} 
                \clip (-2.7,0) rectangle (2.7, 3.6);     
                \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
                \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
                \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -3) rectangle (1, 1.8);
            \end{scope}
            \draw (0, 3.6) -- (0, 1.8);
            \filldraw [black] (0,1.8) circle (2pt) node[below=1pt] {$\xi$};
            \node[below] at (-1, 0) {$K$};
            \node[below] at (1, 0) {$R$};
            \node[above] at (0, 3.6) {$F$};
        \end{scope}
    
        \begin{scope}[shift={(7.5,0)}]
            \begin{scope} 
                \clip (-2.7,0) rectangle (2.7, 3.6);     
                \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
                \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
                \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, -2) rectangle (1, 2.8);
            \end{scope}
            \draw (0, 3.6) -- (0,2.8);
            \filldraw [black] (1,0.8) circle (2pt) node[right=1pt] {$\alpha$} node[left=1pt] {$\exists!$};
       
            \node[below] at (-1, 0) {$K$};
            \node[right=-1pt] at (1, 1.8) {$\mathrm{Lan}_KF$};
    
            \node[below] at (1, 0) {$R$};
            \filldraw [black] (0, 2.8) circle (2pt) node[below=1pt] {$\eta$};
        
           
            \node[above] at (0, 3.6) {$F$};
        \end{scope}
    
        
        \end{tikzpicture}
    \]
    A \textbf{right Kan extension} of $K$ along $F$ is a pair $\left(\mathrm{Ran}_KF,\varepsilon\right)$ consisting of 
    \begin{itemize}
        \item a functor $\mathrm{Ran}_KF:\mathsf{D}\to\mathsf{E}$,
        \item a natural transformation $\varepsilon: \left(\mathrm{Ran}_KF\right)\circ K\Rightarrow F$
    \end{itemize}
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&, column sep=3em] 
            % drawing 0- and 1-celss 
            \mathsf{C} \arrow[dr, "K"'{name=F}] 
            \arrow[rr, "F", ""{name=H, below}] \&\& \mathsf{E} \\ 
            \& |[alias=D]| \mathsf{D} \arrow[ur, swap,
            "\mathrm{Ran}_{K}F"] 
            % % drawing 2-cells
            \arrow[Rightarrow, from=D, to=H, "\varepsilon"'] 
        \end{tikzcd}
    \end{center}
    such that for any pair $\left(L,\theta\right)$ consisting of
    \begin{itemize}
        \item a functor $L:\mathsf{D}\to\mathsf{E}$,
        \item a natural transformation $\theta:L\circ K\Rightarrow F$,
    \end{itemize}
    there exists a unique natural transformation $\beta: L\Rightarrow \mathrm{Ran}_KF$ such that
    \[
    \begin{tikzpicture}[x=0.8cm,y=0.8cm, line width=0.7pt, hollow/.style={
            circle,
            fill=white,
            draw,
            outer sep=0pt,
            inner sep=1.5pt,
            line width=0.7pt
          }]
        % Define colors
        \definecolor{leftcolor}{RGB}{224, 255, 139}
        \definecolor{midcolor}{RGB}{255, 222, 142}
        \definecolor{rightcolor}{RGB}{204, 229, 255}

    \node at (3.75, 1.8) {$=$};

    \begin{scope}
        \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, 6.6) rectangle (1, 1.8);
        \end{scope}
        \draw (0, 0) -- (0, 1.8);
        \filldraw [black] (0,1.8) circle (2pt) node[above=1pt] {$\theta$};
        \node[above] at (-1, 3.6) {$K$};
        \node[above] at (1, 3.6) {$L$};
        \node[below] at (0, 0) {$F$};
    \end{scope}

    \begin{scope}[shift={(7.5,0)}]
        \begin{scope} 
            \clip (-2.7,0) rectangle (2.7, 3.6);     
            \fill[fill=leftcolor] (-3,0) rectangle (0, 4);  
            \fill[fill=rightcolor] (0,0) rectangle (3, 4);  
            \draw[fill=midcolor, rounded corners=0.8cm, line width=0.7pt] (-1, 5.6) rectangle (1, 0.8);
        \end{scope}
        \draw (0, 0) -- (0,0.8);
        \filldraw [black] (1,2.8) circle (2pt) node[right=1pt] {$\beta$};
   
        \node[above] at (-1, 3.6) {$K$};
        \node[right=-1pt] at (1, 1.8) {$\mathrm{Ran}_KF$};

        \node[above] at (1, 3.6) {$L$};
        \filldraw [black] (0, 0.8) circle (2pt) node[above=1pt] {$\varepsilon$};
    
       
        \node[below] at (0, 0) {$F$};
    \end{scope}

    
    \end{tikzpicture}
\]


\end{definition}


\section{Monoidal Category}
\begin{definition}{Monoidal Category}{monoidal_category}
    A monoidal category is a category $\mathsf{V}$ equipped with
    \begin{enumerate}[(i)]
        \item Tensor product: a functor $\otimes:\mathsf{V}\times\mathsf{V}\to\mathsf{V}$.
        \[
            \begin{tikzcd}[ampersand replacement=\&]
                \mathsf{V}\times \mathsf{V}\&[-25pt]\&[+10pt]\&[-30pt] \mathsf{V}\&[-30pt]\&[-30pt] \\ [-15pt] 
                (X_1,Y_1)  \arrow[dd, "f\times g"{name=L, left}] 
                \&[-25pt] \& [+10pt] 
                \& [-30pt]X_1\otimes Y_1\arrow[dd, "f\otimes g"{name=R}] \\ [-10pt] 
                \&  \phantom{.}\arrow[r, "\otimes", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
                (X_2,Y_2)  \& \& \& X_2\otimes Y_2
            \end{tikzcd}
            \]
        \item Associator: a natural isomorphism $a$
        \[
            \begin{tikzcd}[ampersand replacement=\&]
                \mathsf{V}\times\mathsf{V}\times\mathsf{V} \arrow[r, "(-\otimes-)\otimes-"{name=A, above}, bend left] \arrow[r, "-\otimes(-\otimes-)"'{name=B, below}, bend right] \&[+30pt] \mathsf{V}
                \arrow[Rightarrow, shorten <=5.5pt, shorten >=5.5pt, from=A.south-|B, to=B, "a", "\sim\hspace{1pt}"']
            \end{tikzcd}
        \]
        \item Unit object: an object $1\in \mathrm{Ob}(\mathsf{V})$ 
        \item An isomorphism in $\mathsf{V}$: $\iota:1\otimes 1\to 1$
    \end{enumerate}
    such that the following two conditions holds
    \begin{enumerate}[(i)]
        \item The pentagon axiom: the following diagram commutes
    \[
        \begin{tikzcd}[ampersand replacement=\&, column sep=small]
            \& [-50pt]                  \&[-25pt]    ((A\otimes B)\otimes C)\otimes D \arrow[lld, "{a_{(A,B,C)}\otimes \mathrm{id}_D}"'] \arrow[rrd, "{a_{(A\otimes B,C,D)}}"] \& [-25pt]                  \&   [-50pt]                                                                      \\[+20pt]
(A\otimes( B\otimes C))\otimes D \arrow[rd, "{a_{(A,B\otimes C,D)}}"'] \&                                                                                    \&    \&       \& (A\otimes B)\otimes (C\otimes D) \arrow[ld, "{a_{(A, B, C\otimes D)}}"] \\[+35pt]
            \& A\otimes( (B\otimes C)\otimes D) \arrow[rr, "{\mathrm{id}_A\otimes a_{(B,C,D)}}"'] \&    \& A\otimes( B\otimes (C\otimes D)) \&                                                                        
\end{tikzcd}
    \]
    \item Unit axiom: the functors $1\otimes -:\mathsf{V}\to\mathsf{V}$ and $-\otimes 1:\mathsf{V}\to\mathsf{V}$ are category equivalences.
    \end{enumerate}
\end{definition}


A strict monoidal category is one for which the natural isomorphisms $a$, $\lambda$ and $\rho$ are identities. Every monoidal category is monoidally equivalent to a strict monoidal category.

\begin{definition}{Cartesian/Cocartesian Monoidal Category}{}
    \begin{itemize}[leftmargin=8pt]
        \item A \textbf{cartesian monoidal category} is a monoidal category with finite products endowed with a where the tensor product is the categorical product and the unit object is the terminal object. If a category has all finite products, then we say it is \textbf{cartesian monoidal}. 
        \item A \textbf{cocartesian monoidal category} is a monoidal category where the tensor product is the categorical coproduct and the unit object is the initial object. If a category has all finite coproducts, then we say it is \textbf{cocartesian monoidal}.
    \end{itemize}
\end{definition}


\begin{example}{Category of Endofunctors is a Monoidal Category}{}
    Let $\mathsf{C}$ be a category. The \textbf{category of endofunctors} $\left[\mathsf{C},\mathsf{C}\right]$ is a monoidal category with the following structure
    \begin{enumerate}[(i)]
        \item Tensor product: composition of functors.
        \item Associator: the natural isomorphism $a$ is the identity.
        \item Unit object: the identity functor $\mathrm{id}_{\mathsf{C}}$.
        \item Unit isomorphism: the natural isomorphism $\iota$ is the identity.
    \end{enumerate}
\end{example}


\begin{definition}{Braided Monoidal Category}{}
    A \textbf{braided monoidal category} is a monoidal category $\mathsf{V}$ equipped with an isomorphism natural in $X,Y\in \mathrm{Ob}(\mathsf{V})$
    \[
        B_{X,Y} : X \otimes Y \to Y \otimes X
    \]
    called the \textbf{braiding} such that the following two conditions hold:
    \begin{enumerate}[(i)]
        \item The hexagon axiom: the following diagram commutes
        \[
            \begin{tikzcd}[ampersand replacement=\&, column sep=small]
                \&[-50pt] (X\otimes Y)\otimes Z\arrow[rr, "{B_{X\otimes Y,Z}}"]\&[+45pt]  \&[-25pt] Z\otimes (X\otimes Y) \arrow[rd, "{a_{Z,X,Y}^{-1}}"] \&[-50pt] \\[+20pt]
                X\otimes (Y\otimes Z)\arrow[ru, "{a_{X,Y,Z}^{-1}}"] \arrow[rd, "{\mathrm{id}_X\otimes B_{Y,Z}}"'] \& \& \& \& (Z\otimes X)\otimes Y \\[+35pt]
                \& X\otimes (Z\otimes Y) \arrow[rr, "{a_{X,Z,Y}^{-1}}"'] \& \& (X\otimes Z)\otimes Y\arrow[ru, "{B_{X,Z}\otimes\mathrm{id}_Y}"']  \& 
            \end{tikzcd}
        \]
    \end{enumerate}
\end{definition}


\begin{definition}{Symmetric Monoidal Category}{symmetric_monoidal_category}
    A \textbf{symmetric monoidal category} is a braided monoidal category $\mathsf{V}$ satisfying the following condition:
    \[
        B_{Y,X}\circ B_{X,Y}=\mathrm{id}_{X\otimes Y}.
    \]
\end{definition}

\section{Enriched Category}
\begin{definition}{Enriched Category}{enriched_category}
    Let $\mathsf{V}$ be a monoidal category. An \textbf{$\mathsf{V}$-enriched category} $\mathsf{C}$ consists of
    \begin{enumerate}[(i)]
        \item Object set: a set of objects $\mathrm{Ob}(\mathsf{C})$.
        \item $\mathrm{Hom}$-object: for each pair of objects $A,B\in \mathrm{Ob}(\mathsf{C})$, an object $\mathrm{Hom}_{\mathsf{C}}(A,B)\in \mathrm{Ob}(\mathsf{V})$.
        \item Composition: for each triple of objects $A,B,C\in \mathrm{Ob}(\mathsf{C})$, a morphism in $\mathsf{V}$
        \[
            \circ:\mathrm{Hom}_{\mathsf{C}}(B,C)\otimes \mathrm{Hom}_{\mathsf{C}}(A,B)\longrightarrow \mathrm{Hom}_{\mathsf{C}}(A,C)
        \]
        \item Identity: for each object $A\in \mathrm{Ob}(\mathsf{C})$, a morphism ${\mathcal{I}d}_A:1 \to \mathrm{Hom}_{\mathsf{C}}(A,A)$ in $\mathsf{V}$.
    \end{enumerate}
    such that the following conditions hold
    \begin{enumerate}[(i)]
        \item For each quadruple of objects $A,B,C,D\in \mathrm{Ob}(\mathsf{C})$, the following diagram in $\mathsf{V}$ commutes
        \[
            \begin{tikzcd}[ampersand replacement=\&, column sep=small]
                    \&[-130pt] {\left(\mathrm{Hom}(C,D)\otimes \mathrm{Hom}(B,C)\right)\otimes \mathrm{Hom}(A,B) } \arrow[ld, "\circ\;\otimes \,\mathrm{id}_{\mathrm{Hom}(A,B)}"'] \arrow[rr, "\cong"] \&  [-30pt]   \&  [-30pt]{\mathrm{Hom}(C,D)\otimes \left(\mathrm{Hom}(B,C)\otimes \mathrm{Hom}(A,B)\right) } \arrow[rd, "\mathrm{id}_{\mathrm{Hom}(C,D)}\,\otimes\;\circ "] \&  [-130pt]  \\[+35pt]
{\mathrm{Hom}(B,D)\otimes \mathrm{Hom}(A,B) } \arrow[rrd, "\circ"'] \&                                                                                                                                    \&                                               \&                                                                                                               \& {\mathrm{Hom}(C,D)\otimes \mathrm{Hom}(A,C) } \arrow[lld, "\circ"] \\[+20pt]
                    \&                                                                                                                                    \& {\mathrm{Hom}(A,D)} \&                                                                                                               \&                                                                   
\end{tikzcd}
    \]
    \item For each pair of objects $A,B\in \mathrm{Ob}(\mathsf{C})$, the following diagrams in $\mathsf{V}$ commute
    \[
    \begin{tikzcd}[ampersand replacement=\&, column sep=small]
        {1\otimes \mathrm{Hom}_{\mathsf{C}}(A,B)} \arrow[rr, "{{\mathcal{I}d}_B\otimes\,\mathrm{id}_{\mathrm{Hom}_{\mathsf{C}}(A,B)}}"] \arrow[rd, "\cong"'] \&                     \& {\mathrm{Hom}_{\mathsf{C}}(B,B)\otimes \mathrm{Hom}_{\mathsf{C}}(A,B)} \arrow[ld, "\circ"] \\[+10pt]
        \& {\mathrm{Hom}_{\mathsf{C}}(A,B)} \&   
\end{tikzcd}
    \]
    \[
        \begin{tikzcd}[ampersand replacement=\&, column sep=small]
            {\mathrm{Hom}_{\mathsf{C}}(A,B)\otimes 1} \arrow[rr, "\mathrm{id}_{\mathrm{Hom}_{\mathsf{C}}(A,B)}\otimes\,{\mathcal{I}d}_A "] \arrow[rd, "\cong"'] \&                     \& {\mathrm{Hom}_{\mathsf{C}}(A,B)\otimes \mathrm{Hom}_{\mathsf{C}}(A,A)} \arrow[ld, "\circ"] \\[+10pt]
            \& {\mathrm{Hom}_{\mathsf{C}}(A,B)} \&
    \end{tikzcd}
        \]
    \end{enumerate}
\end{definition}


\begin{definition}{Enriched Functor}{enriched_functor}
    Let $\mathsf{V}$ be a monoidal category and $\mathsf{C}$ and $\mathsf{D}$ be $\mathsf{V}$-enriched categories. An \textbf{$\mathsf{V}$-enriched functor} $F:\mathsf{C}\to\mathsf{D}$ consists of
    \begin{enumerate}[(i)]
        \item Object map: a map $F^{\mathrm{Ob}}:\mathrm{Ob}(\mathsf{C})\to \mathrm{Ob}(\mathsf{D})$,
        \item $\mathrm{Hom}$-object morphisms: for each pair of objects $A,B\in \mathrm{Ob}(\mathsf{C})$, a morphism $F^{\mathrm{Mor}}_{A,B}:\mathrm{Hom}_{\mathsf{C}}(A,B)\to \mathrm{Hom}_{\mathsf{D}}(F(A),F(B))$ in $\mathsf{V}$, such that for any triple of objects $A,B,C\in \mathrm{Ob}(\mathsf{C})$, the following diagram in $\mathsf{V}$ commutes
        \[
            \begin{tikzcd}[ampersand replacement=\&, column sep=small]
                {\mathrm{Hom}\left(Y,Z\right)\otimes \mathrm{Hom}\left(X,Y\right)} \arrow[rr, "\circ"] \arrow[d, "{F^{\mathrm{Mor}}_{Y,Z}\otimes F^{\mathrm{Mor}}_{X,Y}}"'] \& \& {\mathrm{Hom}\left(X,Z\right)} \arrow[d, "{F^{\mathrm{Mor}}_{X,Z}}"] \\[+15pt]
                {\mathrm{Hom}\left(FY,FZ\right)\otimes \mathrm{Hom}\left(FX,FY\right)} \arrow[rr, "\circ"'] \& \& {\mathrm{Hom}\left(FX,FZ\right)} \\
                {\mathrm{Hom}(X,X)} \arrow[rr, "{F^{\mathrm{Mor}}_{X, X}}"] \& \& {\mathrm{Hom}(FX,FX)} \\[+15pt]
                \& |[xshift=-2em,overlay]| 1 \arrow[ur] \arrow[ul] \&
            \end{tikzcd}
        \]
    \end{enumerate}
\end{definition}


\section{2-Category}

\begin{definition}{Strict 2-Category}{}
    Let $\mathsf{Cat}$ be the Cartesian monoidal category consisting of all small categories. A \textbf{strict 2-category} is a $\mathsf{Cat}$-enriched category. We define the following sets
    \begin{itemize}
        \item 0-morphism set: $\mathrm{Ob}(\mathsf{C})$
        \item 1-morphism set: $\mathrm{Hom}_{\mathsf{C}}(X,Y)$ for any $X,Y\in \mathrm{Ob}(\mathsf{C})$
        \item 2-morphism set: $\mathrm{Hom}_{\mathsf{C}}(f,g)$ for any $X,Y\in \mathrm{Ob}(\mathsf{C})$ and $f,g\in \mathrm{Hom}_{\mathsf{C}}(X,Y)$
    \end{itemize}

    For any $X,Y,Z\in\mathrm{Ob}(\mathsf{C})$, we have the following composition bifunctor
    \begin{align*}
        \begin{tikzcd}[ampersand replacement=\&]
            \mathrm{Hom}_{\mathsf{C}}(Y,Z)\times \mathrm{Hom}_{\mathsf{C}}(X,Y)\&[-25pt]\&[+10pt]\&[-30pt] \mathrm{Hom}_{\mathsf{C}}(X,Z)\&[-30pt]\&[-30pt] \\ [-15pt] 
            (f',f)  \arrow[dd, "{(\theta', \theta)}"{name=L, left},Rightarrow] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]f'\circ f\arrow[dd, "\theta'\circ \theta"{name=R},Rightarrow] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "\Theta", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            (g',g)  \& \& \& g'\circ g
        \end{tikzcd}
    \end{align*}
    which are called the horizontal composition of 2-morphisms. The functoriality of $\Theta$ means that given any vertical composition of 2-morphisms
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            { (f',f)} \arrow[d, "{(\theta', \theta)}"', Rightarrow] \\
            { (g',g)} \arrow[d, "{(\psi', \psi)}"', Rightarrow]     \\
            { (h',h)}                                              
        \end{tikzcd}
    \]
    we have the following equality
    \begin{align*}
        \Theta\left(\left(\psi'\circ\theta'\right),\left(\psi\circ\theta\right)\right)=\left(\psi'\circ\theta'\right)\circ\left(\psi\circ\theta\right)=\Theta\left(\psi',\psi\right)\circ\Theta\left(\theta',\theta\right)=\left(\psi'\circ\psi\right)\circ\left(\theta'\circ\theta\right)
    \end{align*}
    which is called the \textbf{interchange law}.
\end{definition}


\begin{example}{$\mathsf{Cat}$ as 2-category}{}
    The category $\mathsf{Cat}$ is a strict 2-category with the following structure
    \begin{itemize}
        \item 0-morphism set: $\mathrm{Ob}(\mathsf{Cat})$
        \item 1-morphism set: $\mathrm{Hom}_{\mathsf{Cat}}(\mathsf{C},\mathsf{D}):=[\mathsf{C},\mathsf{D}]$ for any $\mathsf{C},\mathsf{D}\in \mathrm{Ob}(\mathsf{Cat})$
        \item 2-morphism set: $\mathrm{Hom}_{\mathsf{Cat}}(F,G):=\mathrm{Hom}_{[\mathsf{C},\mathsf{D}]}\left(F,G\right)$ for any $\mathsf{C},\mathsf{D}\in \mathrm{Ob}(\mathsf{Cat})$ and $F,G\in [\mathsf{C},\mathsf{D}]$
    \end{itemize}
\end{example}

\section{Internalization}
Traditional Bourbaki-style mathematical structures are formulated within set theory, or put differently, within the ambient category $\mathsf{Set}$. The concept of \textbf{Internalization} entails reformulating these mathematical structures in a broader ambient category $\mathsf{C}$, which typically need some extra structures to express the correponding mathematics. The extra structure required on an ambient category $\mathsf{C}$ is referred to as a \textbf{doctrine} for internalization.

\subsection{Monoid Object}
Monoids can be internalized in the doctrine of monoidal categories.

\begin{example}{Monoid Objects in Monoidal Categories}{}
    Monoid objects internal to Cartesian monoidal categories
    \begin{itemize}
        \item $\mathsf{Set}$: traditional monoid.
        \item $\mathsf{Cat}$: (small) strict monoidal category.
        \item $\mathsf{Top}$: topological monoid.
        \item $\mathsf{Mon}$: commutative monoid.
    \end{itemize}
    Monoid objects internal to general monoidal categories
    \begin{itemize}
        \item $(R\text{-}\mathsf{Mod},\otimes_{R}, R)$ for $R\in \mathrm{Ob}(\mathsf{CRing})$: associative $R$-algebra.
        \item $(\mathsf{Ab},\otimes_{\mathbb{Z}}, \mathbb{Z})$: ring.
        \item $\left(\mathsf{Ch}\left(R\text{-}\mathsf{Mod}\right),\otimes_{R}, (R)_{n\in\mathbb{Z}}\right)$ for $R\in \mathrm{Ob}(\mathsf{CRing})$:  differential graded $R$-algebra.
        \item $\left([\mathsf{C},\mathsf{C}], \circ, \mathrm{id}_{\mathsf{C}}\right)$ for $\mathsf{C}\in \mathrm{Ob}(\mathsf{Cat})$: monad on $\mathsf{C}$.
    \end{itemize}
\end{example}

Commutative monoids can be internalized in the doctrine of symmetric monoidal categories.


\subsection{Internal Category}

\begin{definition}{Internal Category}{}
    Let $\mathsf{C}$ be a category with pullbacks. A \textbf{category internal to $\mathsf{C}$} consists of
    \begin{enumerate}[(i)]
        \item Object of 0-morphisms: an object $C_0\in \mathrm{Ob}(\mathsf{C})$.
        \item Object of 1-morphisms: an object $C_1\in \mathrm{Ob}(\mathsf{C})$.
        \item Source and target morphisms: two morphisms $s,t:C_1\to C_0$.
        \item Identity assignment: a morphism $e:C_0\to C_1$.
        \item Composition: a morphism $c:C_1\times_{C_0}C_1\to C_1$.
    \end{enumerate}
    such that the following diagrams commute
    \begin{enumerate}[(i)]
        \item Source and target of identity morphisms
        \[
            \begin{tikzcd}[ampersand replacement=\&]
                \& C_0\arrow[rd, "\mathrm{id}_{C_0}"]  \arrow[ld, "\mathrm{id}_{C_0}"']\arrow[d, "e"] \&   \\
                C_0  \& C_1  \arrow[l, "s"] \arrow[r, "t"']    \&   C_0
            \end{tikzcd}
        \]
        \item Source and target of composition
        \[
            \begin{tikzcd}[ampersand replacement=\&]
                C_1\arrow[d, "s"'] \&C_1\times_{C_0}C_1 \arrow[d, "c"]\arrow[l, "\pi_1"']\arrow[r, "\pi_2"] \& C_1 \arrow[d, "t"] \\
                C_0\&C_1 \arrow[l, "s"]\arrow[r, "t"'] \& C_0                  
            \end{tikzcd}
        \]
        \item Associativity of composition 
        \item Left and right unit laws       
    \end{enumerate}
\end{definition}


\begin{definition}{Double Category}{}
    A \textbf{double category} $\mathsf{D}$ is a category internal to $\mathsf{Cat}$.
\end{definition}


\chapter{Homological Algebra}
\section{Abelian Category}

\subsection{$\mathsf{Ab}$-enriched Category}
We will refer to \hyperref[th:enriched_functor]{$\mathsf{Ab}$-enriched functors} as \textbf{additive functors}. Some literature refers to $\mathsf{Ab}$-categories as preadditive categories. We will not use this term in this note. 

\begin{definition}{Biproduct}{biproduct}
    Let $\mathsf{C}$ be an $\mathsf{Ab}$-category and $X_1$, $X_2$ be objects in $\mathsf{C}$. A \textbf{biproduct} of $X_1$ and $X_2$ is a diagram
    \[
    \begin{tikzcd}[ampersand replacement=\&]
            X_1 \arrow[r, "i_1", shift left] \& X_1\oplus X_2 \arrow[l, "p_1", shift left] \arrow[r, "p_2"', shift right] \& X_2 \arrow[l, "i_2"', shift right]
    \end{tikzcd}
    \]
    such that
    \begin{itemize}
        \item $p_1\circ i_1=\mathrm{id}_{X_1}$, $p_2\circ i_2=\mathrm{id}_{X_2}$.
        \item $i_1\circ p_1+ i_2\circ p_2=\mathrm{id}_{X_1\oplus X_2}$.
    \end{itemize}
    Empty biproduct is defined to be the zero object.
\end{definition}


\begin{proposition}{Equivalent Conditions of Existance of Biproduct}{}
    Let $\mathsf{C}$ be an $\mathsf{Ab}$-category and $X_1$, $X_2$ be objects in $\mathsf{C}$. Then the following are equivalent
    \begin{enumerate}[(i)]
        \item Product $X_1\times X_2$ exists.
        \item Coproduct $X_1\amalg X_2$ exists.
        \item Biproduct $X_1\oplus X_2$ exists.
    \end{enumerate}
\end{proposition}

\begin{proposition}{Equivalent Conditions of Existance of Zero Object}{}
    Let $\mathsf{C}$ be an $\mathsf{Ab}$-category. Then the following are equivalent
    \begin{enumerate}[(i)]
        \item Initial object (empty product) exists.
        \item Terminal object (empty coproduct) exists.
        \item Zero object (empty biproduct) exists.
    \end{enumerate}
\end{proposition}

\begin{proposition}{$\mathsf{Ab}$-enriched Functors Preserve Biproducts}{}
    $\mathsf{Ab}$-enriched functors preserve finite biproducts.
\end{proposition}


\begin{definition}{Kernel and Cokernel}{}
    Suppose $\mathsf{C}$ is a category with zero object and $f:X\to Y$ is a morphism in $\mathsf{C}$. The \textbf{kernel} of $f$ is the equalizer of $f$ and the zero morphism, which is denoted by $\ker f$. The universal property of kernel is given by the following diagram
    \[
    \begin{tikzcd}[ampersand replacement=\&]
        \& M \arrow[d, "g"] \arrow[rd, "0"] \arrow[ld, "\exists!\widetilde{g}"', dashed] \&   \\
        \ker f \arrow[r] \& X \arrow[r, "f"']                                                             \& Y
    \end{tikzcd}
    \]
    The \textbf{cokernel} of $f$ is the coequalizer of $f$ and the zero morphism, which is denoted by $\operatorname{coker}f$. The universal property of cokernel is given by the following diagram
    \[
    \begin{tikzcd}[ampersand replacement=\&]
        \& M                           \&                                                                     \\
        X \arrow[r, "f"'] \arrow[ru, "0"] \& Y \arrow[u, "g"'] \arrow[r] \& \operatorname{coker} f \arrow[lu, "\exists!\widetilde{g}"', dashed]
        \end{tikzcd}
    \]

\end{definition}


\subsection{Additive Category}
\begin{definition}{Additive Category}{}
    An $\mathsf{Ab}$-category is \textbf{additive} if it has all finite biproducts.
\end{definition}




\subsection{Abelian Category}
\begin{definition}{Abelian Category}{}
    An additive category $\mathsf{A}$ is \textbf{abelian} if 
    \begin{enumerate}[(i)]
        \item Every morphism has both a kernel and a cokernel.
        \item Every monomorphism and every epimorphism is normal. This means that every monomorphism is a kernel of some morphism, and every epimorphism is a cokernel of some morphism.
    \end{enumerate}
\end{definition}


\begin{proposition}{}{}
    If $\mathsf{A}$ is an abelian category, then $\left[\mathsf{C}, \mathsf{A}\right]$ is abelian for any small category $\mathsf{C}$.
\end{proposition}

\begin{proposition}{Exact Functors in Abelian Category}{exact_functors_in_abelian_category}
    Let $\mathsf{A}$ and $\mathsf{B}$ be abelian categories and $F:\mathsf{A}\to\mathsf{B}$ be an additive functor. Then
    \begin{enumerate}[(i)]
        \item $F$ is \hyperref[th:exact_functor]{left exact} if and only if $F$ preserves kernels, or equivalently,
        \[
        0\longrightarrow X\xlongrightarrow{f} Y\xlongrightarrow{g} Z\text{ is exact}\quad\implies\quad 0\longrightarrow F(X)\xlongrightarrow{F(f)} F(Y)\xlongrightarrow{F(g)} F(Z)\text{ is exact}.    
        \]
        \item $F$ is \hyperref[th:exact_functor]{right exact} if and only if $F$ preserves cokernels, or equivalently,
        \[
        X\xlongrightarrow{f} Y\xlongrightarrow{g} Z\longrightarrow 0\text{ is exact}\quad\implies\quad F(X)\xlongrightarrow{F(f)} F(Y)\xlongrightarrow{F(g)} F(Z)\longrightarrow 0\text{ is exact}.
        \]
        \item $F$ is \hyperref[th:exact_functor]{exact} if and only if $F$ preserves kernels and cokernels, or equivalently,
        \[
        0\longrightarrow X\xlongrightarrow{f} Y\xlongrightarrow{g} Z\longrightarrow 0\text{ is exact}\quad\implies\quad 0\longrightarrow F(X)\xlongrightarrow{F(f)} F(Y)\xlongrightarrow{F(g)} F(Z)\longrightarrow 0\text{ is exact}.
        \]
    \end{enumerate}

\end{proposition}


\begin{definition}{Cohomology Functor}{}
    Let $\mathsf{A}$ be an abelian category and 
    \[
    \begin{tikzcd}[ampersand replacement=\&]
        X \arrow[r, "f"] \& Y \arrow[r, "g"] \& Z
    \end{tikzcd}
    \]
    be an exact sequence in $\mathsf{A}$. The \textbf{cohomology functor} $\mathrm{H}:\mathsf{Ch}_{}\left(\mathsf{A}\right)\to\mathsf{Ab}$ is defined by
    \[
    \mathrm{H}(X\xlongrightarrow{f} Y\xlongrightarrow{g} Z):=\operatorname{coker}[\operatorname{im}(f) \rightarrow \operatorname{ker}(g)].
    \]
\end{definition}


    

\begin{proposition}{Exact Functor Preserve Cohomology}{exact_functor_preserve_cohomology}
    Let $F:\mathsf{A}\to\mathsf{B}$ be an exact functor between abelian categories. Suppose 
    \[
    X \xlongrightarrow{f} Y \xlongrightarrow{g} Z 
    \]
    is an exact sequence in $\mathsf{A}$. Then we have the following natural isomorphism
    \[
    F\left(\mathrm{H}\left[X \xrightarrow{f} Y\xrightarrow{g} Z\right]\right)  \cong \mathrm{H}\left[F(X) \xrightarrow{F(f)} F(Y)\xrightarrow{F(g)} F(Z)\right].
    \]
\end{proposition}

\begin{prf}
    $$
        \begin{aligned}
        F\left(\mathrm{H}\left[X \xrightarrow{f} Y\xrightarrow{g} Z\right]\right)& =F \operatorname{coker}[\operatorname{im}(f) \rightarrow \operatorname{ker}(g)] \\
        & \cong \operatorname{coker}[F \operatorname{im}(f) \rightarrow F \operatorname{ker}(g)] \\
        & \cong \operatorname{coker}[\operatorname{im}(F f) \rightarrow \operatorname{ker}(F g)]\\
        &=\mathrm{H}\left[F X \xrightarrow{F f} F Y \xrightarrow{F g} Z\right]
        \end{aligned}
$$
\end{prf}


\begin{proposition}{Hom Functors are Left Exact}{}
    Let $\mathsf{A}$ be an abelian category. Then given any $X\in \mathrm{Ob}(\mathsf{A})$, $\mathrm{Hom}_{\mathsf{A}}(X,-):\mathsf{A}\to\mathsf{Ab}$ and $\mathrm{Hom}_{\mathsf{A}}(-,X):\mathsf{A}^{\mathrm{op}}\to\mathsf{Ab}$ are left exact functors.
\end{proposition}

\begin{prf}
    To prove that $\mathrm{Hom}_{\mathsf{A}}(X,-)$ is left exact, we need to prove that it preserves kernels. Let $f:Y\to Z$ be a morphism in $\mathsf{A}$, the universal property of $\ker f$ is illustrated by the following diagram
    \[
        \begin{tikzcd}[column sep={6em, between origins}, ampersand replacement=\&]
            W \arrow[rd, "g"] \arrow[d, "\exists!h"', dashed] \&                   \&   \\[+3ex]
            \ker f \arrow[r, "\iota"']                \&Y \arrow[r, "f"', shift right=0.7ex] \arrow[r, "0", shift left=0.7ex] \& Z
        \end{tikzcd}
    \]
    It suffices to show that $\iota_*:\mathrm{Hom}_{\mathsf{A}}\left(X,\ker f \right)\hookrightarrow \mathrm{Hom}_{\mathsf{A}}\left(X,Y\right)$ satisfies the universal property of $\ker f_*$. 
    \[
        \begin{tikzcd}[column sep={10em, between origins}, ampersand replacement=\&]
            G \arrow[rd, ""] \arrow[d, "\exists!"', dashed] \&                   \&   \\[+3ex]
            \mathrm{Hom}_{\mathsf{A}}\left(X,\ker f\right) \arrow[r, "\iota_*"']                \&\mathrm{Hom}_{\mathsf{A}}\left(X,Y\right) \arrow[r, "f_*"', shift right=0.7ex] \arrow[r, "0", shift left=0.7ex] \& \mathrm{Hom}_{\mathsf{A}}\left(X,Z\right)
        \end{tikzcd}
    \]
    This reduces to checking that $\ker f_*=\iota_*\left(\mathrm{Hom}_{\mathsf{A}}\left(X,\ker f \right)\right)$. 
    
    If $\iota_*(h)\in\iota_*\left(\mathrm{Hom}_{\mathsf{A}}\left(X,\ker f \right)\right)$, then $f_*\left(\iota_*(h)\right)=f\circ \iota\circ h=0$, which means that $h\in \ker f_*$. Conversely, if $g\in \ker f_*$, then $f_*(g)=f\circ g=0$. By the universal property of $\ker f$, there exists a unique morphism $h:W\to \ker f$ such that $\iota\circ h=g$. This means that $g=\iota_*(h)\in \iota_*\left(\mathrm{Hom}_{\mathsf{A}}\left(X,\ker f \right)\right)$.

    The proof for left-exactness of $\mathrm{Hom}_{\mathsf{A}}(-,X)$ can be obtained by duality.
\end{prf}



\begin{definition}{Split Exact Sequence}{}
    Let $\mathsf{A}$ be an abelian category and 
    \[
    \begin{tikzcd}[ampersand replacement=\&]
        0 \arrow[r] \& X \arrow[r, "f"] \& Y \arrow[r, "g"] \& Z \arrow[r] \& 0
    \end{tikzcd}
    \]
    be an exact sequence in $\mathsf{A}$. The sequence is said to be \textbf{split} if there exists morphisms $r:Y\to X$ and $s:Z\to Y$ such that $Y$ is the \hyperref[th:biproduct]{biproduct} of $X$ and $Z$, which is illustrated by the following diagram
    \[
        \begin{tikzcd}[ampersand replacement=\&]
                X \arrow[r, "f", shift left] \& Y \arrow[l, "r", shift left] \arrow[r, "g"', shift right] \& Z \arrow[l, "s"', shift right]
        \end{tikzcd}
    \]
\end{definition}

\begin{proposition}{Equivalent Characterizations of Split Exact Sequence}{equivalent_split_exact_sequence}
    Let $\mathsf{A}$ be an abelian category and 
    \[
    \begin{tikzcd}[ampersand replacement=\&]
        0 \arrow[r] \& X \arrow[r, "f"] \& Y \arrow[r, "g"] \& Z \arrow[r] \& 0
    \end{tikzcd}
    \]
    be an exact sequence in $\mathsf{A}$. Then the following statements are equivalent
    \begin{enumerate}[(i)]
        \item The sequence is split.
        \item $f$ has left inverse, i.e. there exists a morphism $r:Y\to X$ such that $r\circ f=\mathrm{id}_X$.
        \begin{center}
            \begin{tikzcd}[ampersand replacement=\&, column sep={4em, between origins}, row sep={4em, between origins}]  
               0\arrow[r] \&X\arrow[d, "\mathrm{id}_X"']\arrow[r, "f"] \& Y\arrow[ld, "\exists r", dashed] \arrow[r, "g"] \& Z \arrow[r]                               \& 0\\
               \&X \&   \&   \&   
            \end{tikzcd}
        \end{center}
        \item $g$ has right inverse, i.e. there exists a morphism $s:Z\to Y$ such that $g\circ s=\mathrm{id}_Z$.
        \begin{center}
            \begin{tikzcd}[ampersand replacement=\&, column sep={4em, between origins}, row sep={4em, between origins}]
                \&  \&   \& Z \arrow[d, "\mathrm{id}_Z"] \arrow[ld, "\exists s"', dashed] \&   \\
               0\arrow[r] \&X\arrow[r, "f"'] \& Y\arrow[r, "g"'] \& Z \arrow[r]                               \& 0
            \end{tikzcd}
        \end{center}
        \item The homomorphism $f^*: \mathrm{Hom}_{\mathsf{A}}(Y,A)\to \mathrm{Hom}_{\mathsf{A}}(X,A)$ is surjective for any $A\in \mathrm{Ob}(\mathsf{A})$.
        \item The homomorphism $g_*: \mathrm{Hom}_{\mathsf{A}}(A,Y)\to \mathrm{Hom}_{\mathsf{A}}(A,Z)$ is surjective for any $A\in \mathrm{Ob}(\mathsf{A})$.
    \end{enumerate}
\end{proposition}

\begin{prf}
    (ii) $\implies$ (iv). Suppose $r:Y\to X$ is a left inverse of $f$. Given any $h\in \mathrm{Hom}_{\mathsf{A}}(X,A)$, there exists $h\circ r\in \mathrm{Hom}_{\mathsf{A}}(Y,A)$ such that $f^*(h\circ r)=h\circ r\circ f=h$, which means that $f^*$ is surjective.
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&, column sep={4em, between origins}, row sep={4em, between origins}]  
           0\arrow[r] \&X\arrow[d, "\mathrm{id}_X"']\arrow[r, "f"] \& Y \arrow[ldd, "h\circ r"]\arrow[ld, "r"', dashed] \arrow[r, "g"] \& Z \arrow[r]                               \& 0\\
           \&X \arrow[d, "h"']   \&   \&   \&   \\
           \&A \&   \&   \&
        \end{tikzcd}
    \end{center}

    (iv) $\implies$ (ii). Suppose $f^*$ is surjective. Given any $h\in \mathrm{Hom}_{\mathsf{A}}(X,A)$, there exists $h'\in \mathrm{Hom}_{\mathsf{A}}(Y,A)$ such that $f^*(h')=h$. This means that $h'\circ f=h$. Let $r:=h'$, then $r\circ f=h$.
\end{prf}



\section{Complex}

\subsection{Complex in Additive Category}
\subsubsection{Cochain Complex}
\begin{definition}{$S$-graded Object of a Category}{}
    Let $\mathsf{C}$ be a category and $S$ be a set. The category of \textbf{$S$-graded object of $\mathsf{C}$} is defined as the functor category $\left[\mathsf{Disc}(S),\mathsf{C}\right]$, denoted by $\mathsf{Gr}_{S}\left(\mathsf{C}\right)$. The explicit description of the category is given as follows
    \begin{itemize}
        \item Object: a collection of objects $\left\{X_s\right\}_{s\in S}$ in $\mathsf{C}$.
        \item Morphism: a collection of morphisms $\left\{f_s:X_s\to Y_s\right\}_{s\in S}$ in $\mathsf{C}$.
    \end{itemize}
\end{definition}


\begin{definition}{Category with Translation}{}
    A \textbf{category with translation} is a category $\mathsf{C}$ equipped with an auto-equivalence functor
    \[
    T:\mathsf{C}\longrightarrow\mathsf{C}
    \]
    called the \textbf{shift functor} or \textbf{translation functor} or suspension functor.
\end{definition}


\begin{example}{Shift Functors on $\mathbb{Z}$-graded Category}{}
    Let $\mathsf{C}$ be a category. Given $k\in \mathbb{Z}$, the \textbf{$k$-th shift functor} on $\mathsf{Gr}_{\mathbb{Z}}\left(\mathsf{C}\right)$ is an endofunctor $[k]$ defined by
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{Gr}_{\mathbb{Z}}\left(\mathsf{C}\right)\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{Gr}_{\mathbb{Z}}\left(\mathsf{C}\right)\&[-30pt]\&[-30pt] \\ [-15pt] 
            X=\left(X^i\right)  \arrow[dd, "f=\left(f^i\right)"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt] X[k]=\left(X[k]^i\right)=\left(X^{k+i}\right)\arrow[dd, "{f[k]=\left(f^{k+i}\right)}"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "{[k]}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            Y=\left(Y^i\right)   \& \& \& Y[k]=\left(Y[k]^i\right)=\left(Y^{k+i}\right)
        \end{tikzcd}
    \]

\end{example}


\begin{example}{Shift Functors on $\mathbb{Z}^m$-graded Category}{}
    Let $\mathsf{C}$ be a category. In a similar manner, given $k_1,\cdots,k_m\in \mathbb{Z}$, the \textbf{$(k_1,\cdots,k_m)$-th shift functor} on $\mathsf{Gr}_{\mathbb{Z}^m}\left(\mathsf{C}\right)$ is an endofunctor $[k_1,\cdots,k_m]$ defined by
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{Gr}_{\mathbb{Z}^m}\left(\mathsf{C}\right)\&[-25pt]\&[+10pt]\&[-30pt]\mathsf{Gr}_{\mathbb{Z}^m}\left(\mathsf{C}\right)\&[-30pt]\&[-30pt] \\ [-15pt] 
            A=\left(A^{i_1,\cdots,i_m}\right)  \arrow[dd, "f=\left(f^{i_1,\cdots,i_m}\right)"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt] A[k_1,\cdots,k_m]=\left(A[k_1,\cdots,k_m]^{i_1,\cdots,i_m}\right)=\left(A^{i_1+k_1,\cdots,i_m+k_m}\right)\arrow[dd, "\left(f^{i_1+k_1,\cdots,i_m+k_m}\right)"{name=R}] \\ [-10pt] 
            \&  \phantom{.}\arrow[r, "{[k_1,\cdots,k_m]}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            B=\left(B^{i_1,\cdots,i_m}\right)   \& \& \& B[k_1,\cdots,k_m]=\left(B[k_1,\cdots,k_m]^{i_1,\cdots,i_m}\right)=\left(B^{i_1+k_1,\cdots,i_m+k_m}\right)
        \end{tikzcd}
    \]
\end{example}


\begin{lemma}{}{}
    If $\mathsf{C}$ is an additive category, then $\mathsf{Gr}_{\mathbb{Z}^m}\left(\mathsf{C}\right)=\left[\mathsf{Disc}(\mathbb{Z}^m),\mathsf{C}\right]$ is an additive category.
\end{lemma}


\begin{definition}{General Differential Object in a Category with Translation}{}
    A \textbf{general differential object} in a category $\mathsf{C}$ with translation $T$ is a pair $\left(X,d_X\right)$ consisting of an object $X$ in $\mathsf{C}$ and a morphism $d_X:X\to T(X)$ in $\mathsf{C}$.
\end{definition}


\begin{definition}{Differential Object in an Additive Category with Translation}{}
    A \textbf{differential object} in an additive category $\mathsf{C}$ with translation $T$ is a pair $\left(X,d_X\right)$ consisting of an object $X$ in $\mathsf{C}$ and a morphism $d_X:X\to T(X)$ in $\mathsf{C}$ such that $T(d_X)\circ d_X=0$.
\end{definition}


\begin{definition}{Differential $\mathbb{Z}$-Graded Object}{}
    Let $\mathsf{A}$ be an additive category. The category of \textbf{differential $\mathbb{Z}$-graded objects} of $\mathsf{A}$ consists of the following data
    \begin{itemize}
        \item Object: differential objects $\left(X,d_X\right)$ in the additive category $\mathsf{Gr}_{\mathbb{Z}}\left(\mathsf{A}\right)$ with translation $[1]$.
        \item Morphism: morphisms $f:\left(X,d_X\right)\to \left(Y,d_Y\right)$ are morphisms $f:X\to Y$ in $\mathsf{Gr}_{\mathbb{Z}}\left(\mathsf{A}\right)$ such that $f[1]\circ d_X=d_Y\circ f$.
    \end{itemize}
\end{definition}


\begin{definition}{Cochain Complex}{}
    Let $\mathsf{A}$ be an additive category. The category of \textbf{cochain complexes} of $\mathsf{A}$, denoted by $\mathsf{Ch}(\mathsf{A})$, consists of the following data
    \begin{itemize}
        \item Object: \textbf{cochain complex} of $\mathsf{A}$, which consists of a collection of objects $X^{\bullet}=\left(X^n\right)_{n\in \mathbb{Z}}$ in $\mathsf{A}$ and a collection of morphisms $d_X^{\bullet}=\left(d^n:X^n\to X^{n+1}\right)_{n\in \mathbb{Z}}$ in $\mathsf{A}$ 
        \[
            \cdots \longrightarrow X^n \xlongrightarrow{d^n_X} X^{n+1} \xlongrightarrow{d^{n+1}_X} X^{n+2} \longrightarrow \cdots
        \]
        such that $d^{n+1}_X\circ d^n_X=0$ for all $n\in \mathbb{Z}$.
        \item Morphism: a collection of morphisms $\left(f^n:X^n\to Y^{n}\right)_{n\in \mathbb{Z}}$ in $\mathsf{A}$ such that $f^{n+1}\circ d^n_X=d^n_Y\circ f^n$ for all $n\in \mathbb{Z}$
        \[
            \begin{tikzcd}[
                ampersand replacement=\&,
                column sep={6em, between origins},
                row sep={5em, between origins}
            ]
                \cdots \arrow[r] \& X^{n} \arrow[r, "d_X^n"] \arrow[d, "f^n"'] \& X^{n+1} \arrow[d, "f^{n+1}"'] \arrow[r, "d_X^{n+1}"] \& X^{n+2} \arrow[d, "f^{n+2}"] \arrow[r] \& \cdots \\
                \cdots \arrow[r] \& Y^{n} \arrow[r, "d_Y^{n}"'] \& Y^{n+1} \arrow[r, "d_Y^{n+1}"'] \& Y^{n+2} \arrow[r] \& \cdots
            \end{tikzcd}
        \]
    \end{itemize}
    $\mathsf{Ch}(\mathsf{A})$ is isomorphic to the category of differential $\mathbb{Z}$-graded objects of $\mathsf{A}$.
\end{definition}


\subsubsection{Chain Complex}
\begin{definition}{Homotopy between Morphisms of Chain Complexes}{}
    A homotopy $h$ between a pair of morphisms of chain complexes $f, g: X_{\bullet} \rightarrow Y_{\bullet}$ is a collection of morphisms $h_i: X_i \rightarrow Y_{i+1}$ such that we have
$$
f_i-g_i=d_{i+1} \circ h_i+h_{i-1} \circ d_i
$$
for all $i$. Two morphisms $f, g: X_{\bullet} \rightarrow Y_{\bullet}$ are said to be homotopic if a homotopy between $f$ and $g$ exists. 
\end{definition}

\subsection{Chain Homotopy}

\begin{definition}{Homotopy between Morphisms of Cochain Complexes}{}
    A \textbf{homotopy $h$ between a pair of morphisms of cochain complexes} $f, g: X^{\bullet} \rightarrow Y^{\bullet}$ is a collection of morphisms $h^i: X^i \rightarrow Y^{i-1}$
    \[
        \begin{tikzcd}[
            ampersand replacement=\&,
            column sep={6em, between origins},
            row sep={5em, between origins}
        ]
            \cdots \arrow[r, "d_X^{i-1}"]  \& X^{i} \arrow[r, "d_X^i"] \arrow[d, "f^i"'] \arrow[ld, "h^i"'] \& X^{i+1} \arrow[d, "f^{i+1}"'] \arrow[r, "d_X^{i+1}"] \arrow[ld, "h^{i+1}"'] \& X^{i+2} \arrow[d, "f^{i+2}"] \arrow[r, "d_X^{i+2}"] \arrow[ld, "h^{i+2}"'] \& \cdots \arrow[ld, "h^{i+3}"] \\
            \cdots \arrow[r, "d_Y^{i-1}"'] \& Y^{i} \arrow[r, "d_Y^{i}"']                                   \& Y^{i+1} \arrow[r, "d_Y^{i+1}"']                                             \& Y^{i+2} \arrow[r, "d_Y^{i+2}"']                                            \& \cdots                      
        \end{tikzcd}
    \]
         such that
$$
f^i-g^i=d^{i-1}_Y \circ h^i+h^{i+1} \circ d^i_X
$$
for all $i\in \mathbb{Z}$. Two morphisms $f, g: X^{\bullet} \rightarrow Y^{\bullet}$ are said to be \textbf{homotopic} if there exists a homotopy between $f$ and $g$. A morphism $f: X^{\bullet} \rightarrow Y^{\bullet}$ is said to be \textbf{null homotopic} if it is homotopic to the zero morphism $0: X^{\bullet} \rightarrow Y^{\bullet}$.
\end{definition}


\begin{proposition}{Additive Functor Preserves Cochain Homotopy}{}
    Let $F:\mathsf{A}\to\mathsf{B}$ be an additive functor between additive categories. Suppose $h$ is a homotopy between a pair of morphisms $f, g: X^{\bullet} \rightarrow Y^{\bullet}$ in $\mathsf{Ch}(\mathsf{A})$. Then $(F(h^i))_{i\in\mathbb{Z}}$ is a homotopy between $F(f),F(g):F\left(X^{\bullet}\right)\to F\left(Y^{\bullet} \right)$ in $\mathsf{B}$.
\end{proposition}



\begin{definition}{Homotopy Equivalence between Cochain Complexes}{}
    A morphism $f: X^{\bullet} \rightarrow Y^{\bullet}$ of cochain complexes is a \textbf{homotopy equivalence} if there exists a morphism $g: Y^{\bullet} \rightarrow X^{\bullet}$ such that $f\circ g$ and $g\circ f$ are homotopic to the identity morphisms of $X^{\bullet}$ and $Y^{\bullet}$, respectively. We say that $X^{\bullet}$ and $Y^{\bullet}$ are \textbf{homotopy equivalent} if there exists a homotopy equivalence between $X^{\bullet}$ and $Y^{\bullet}$.
\end{definition}




\subsection{Cohomology}


\begin{definition}{$n$-th Cohomology Functor}{}
    Let $\mathsf{A}$ be an abelian category. Given any $n\in \mathbb{Z}$, the \textbf{$n$-th cohomology functor} of a cochain complex $X^{\bullet}$ is defined to be the functor
    \[
    \mathrm{H}^n(X^{\bullet}):=\ker d^n/\operatorname{im}d^{n-1}.
    \]
\end{definition}


\begin{definition}{Quasi-isomorphism}{}
    A morphism $f: X^{\bullet} \rightarrow Y^{\bullet}$ of cochain complexes is a \textbf{quasi-isomorphism} if the induced morphism $\mathrm{H}^n(f):\mathrm{H}^n(X^{\bullet})\to \mathrm{H}^n(Y^{\bullet})$ is an isomorphism for all $n\in \mathbb{Z}$.
\end{definition}

\begin{lemma}{}{}
    If $f: X^{\bullet} \rightarrow Y^{\bullet}$ is null homotopic, then $\mathrm{H}^n(f)=0$ for all $n\in \mathbb{Z}$.
\end{lemma}

\begin{prf}
    Let $h$ be a homotopy between $f$ and the zero morphism. Then we have
    \[
    f^n=d^{n-1}_Y \circ h^n+h^{n+1} \circ d^n_X
    \]
    for all $n\in \mathbb{Z}$. This implies that $f^n$ induces the zero morphism on cohomology for all $n\in \mathbb{Z}$.
\end{prf}

\begin{proposition}{Homotopic Morphisms Induce the Same Morphisms on Cohomology}{}
    Let $f, g: X^{\bullet} \rightarrow Y^{\bullet}$ be homotopic morphisms of cochain complexes. Then the induced morphisms $\mathrm{H}^n(f)$ and $\mathrm{H}^n(g)$ on cohomology are the same for all $n\in \mathbb{Z}$.
\end{proposition}

\begin{prf}
    Let $h$ be a homotopy between $f$ and $g$. Then we have
    \[
    f^n-g^n=d^{n-1}_Y \circ h^n+h^{n+1} \circ d^n_X
    \]
    for all $n\in \mathbb{Z}$. This implies that $f^n$ and $g^n$ induce the same morphism on cohomology for all $n\in \mathbb{Z}$.
\end{prf}

\begin{corollary}{Homotopy Equivalences are Quasi-Isomorphisms}{}
    A homotopy equivalence of cochain complexes is a quasi-isomorphism.
\end{corollary}


\begin{definition}{Acyclic Complex}{}
    A cochain complex $X^{\bullet}$ is \textbf{acyclic} if $\mathrm{H}^n(X^{\bullet})=0$ for all $n\in \mathbb{Z}$.
\end{definition}


\begin{proposition}{}{}
    Let $\mathsf{A}$ be an abelian category and $X^{\bullet}\in\mathrm{Ob}\left(\mathsf{Ch}(\mathsf{A})\right)$ be a cochain complex. Then the following are equivalent
    \begin{enumerate}[(i)]
        \item $X^{\bullet}$ is acyclic.
        \item $X^{\bullet}$ is exact, that is, exact at each $X^n$.
        \item The zero morphism $0 \to X^{\bullet}$ is a quasi-isomorphism.
    \end{enumerate}
\end{proposition}

\section{Resolution}

\subsection{Projective and Injective Objects}
\begin{definition}{Projective Object}{}
    An object $P$ in an abelian category $\mathsf{A}$ is \textbf{projective} if for any epimorphism $f: X \rightarrow Y$ and any morphism $g: P \rightarrow Y$, there exists a morphism $h: P \rightarrow X$ such that $f \circ h = g$.
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&, column sep={5em, between origins}, row sep={5em, between origins}]
            \& P \arrow[d, "g"] \arrow[ld, "\exists h"', dashed] \&   \\
        X \arrow[r, "f"', two heads] \& Y \arrow[r]                               \& 0
        \end{tikzcd}
    \end{center}
\end{definition}


\begin{proposition}{Equivalent Characterizations of Projective Objects}{}
    Let $\mathsf{A}$ be an abelian category and $P$ be an object in $\mathsf{A}$. Then the following are equivalent
    \begin{enumerate}[(i)]
        \item $P$ is projective.
        \item $\mathrm{Hom}_{\mathsf{A}}(P,-)$ is exact.
        \item Every short exact sequence 
        \[
        \begin{tikzcd}[ampersand replacement=\&]
            0 \arrow[r] \& X \arrow[r, "f"] \& Y \arrow[r, "g"] \& P \arrow[r] \& 0
        \end{tikzcd}
        \]
        in $\mathsf{A}$ splits.
        \item $\mathop{\mathrm{Ext}}\nolimits _\mathsf{A}(P, X) = 0$ for all $X \in \mathsf{A}$.
    \end{enumerate}
\end{proposition}

\begin{prf}
    (i)$\implies$(ii). Since $\mathrm{Hom}_{\mathsf{A}}(P,-)$ is a left exact functor, it suffices to show that $\mathrm{Hom}_{\mathsf{A}}(P,-)$ preserves epimorphisms. Let $f: X \rightarrow Y$ be an epimorphism in $\mathsf{A}$. We need to show that $f_*:\mathrm{Hom}_{\mathsf{A}}(P,X)\to \mathrm{Hom}_{\mathsf{A}}(P,Y)$ is surjective. Let $g: P \rightarrow Y$ be a morphism in $\mathsf{A}$. Since $P$ is projective, there exists a morphism $h: P \rightarrow X$ such that $f_*(h)=f \circ h = g$. This means that $f_*$ is surjective.

    (i)$\implies$(iii). If $P$ is projective, then for any short exact sequence $0 \to X \xrightarrow{f} Y \xrightarrow{g} P \to 0$, there exists a morphism $h: P \to Y$ such that $h \circ g = \mathrm{id}_P$.
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&, column sep={4em, between origins}, row sep={4em, between origins}]
            \&  \&   \& P \arrow[d, "\mathrm{id}_P"] \arrow[ld, "\exists h"', dashed] \&   \\
           0\arrow[r] \&X\arrow[r, "f"'] \& Y\arrow[r, "g"', two heads] \& P \arrow[r]                               \& 0
        \end{tikzcd}
    \end{center}
    By \Cref{th:equivalent_split_exact_sequence}, this implies that the short exact sequence splits.
\end{prf}


\begin{definition}{Injective Object}{}
    An object $I$ in an abelian category $\mathsf{A}$ is \textbf{injective} if for any monomorphism $f: X \rightarrow Y$ and any morphism $g: X \rightarrow I$, there exists a morphism $h: Y \rightarrow I$ such that $h \circ f = g$.
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&, column sep={5em, between origins}, row sep={5em, between origins}]
            0 \arrow[r] \& X \arrow[r, "f", hook] \arrow[d, "g"'] \& Y \arrow[ld, "\exists h", dashed] \\
            \& I  \&                                  
        \end{tikzcd}
    \end{center}
        
\end{definition}

\begin{proposition}{Equivalent Characterizations of  Injective Objects}{}
    Let $\mathsf{A}$ be an abelian category and $I$ be an object in $\mathsf{A}$. Then the following are equivalent
    \begin{enumerate}[(i)]
        \item $I$ is injective.
        \item $\mathrm{Hom}_{\mathsf{A}}(-,I)$ is exact.
        \item Every short exact sequence 
        \[
        \begin{tikzcd}[ampersand replacement=\&]
            0 \arrow[r] \& I \arrow[r] \& X \arrow[r, "f"] \& Y \arrow[r] \& 0
        \end{tikzcd}
        \]
        in $\mathsf{A}$ splits.
        \item $\mathop{\mathrm{Ext}}\nolimits _\mathsf{A}(I, X) = 0$ for all $X \in \mathsf{A}$.
    \end{enumerate}
\end{proposition}



