\documentclass{report}

\input{preamble}

\tikzcdset{arrow style=tikz,
    squigarrow/.style={
        decoration={
        snake, 
        amplitude=.25mm,
        segment length=2mm
        }, 
        rounded corners=.1pt,
        decorate
        }
    }

\begin{document}
\begin{center}
	~\\
	\vspace{6em}
	\textsc{\Huge ALGEBRAIC CONSTRUCTION}
	~\\
	\vspace{2.5em}
	{\Large }
	~\\
	\vspace{6em}
	\textsf{Huyi Chen}
	~\\
	\vspace{5in}
	{\large Latest Update: \today}
\end{center}

\makeatletter
\MHInternalSyntaxOn
\def\MT_leftarrow_fill:{%
  \arrowfill@\leftarrow\relbar\relbar}
\def\MT_rightarrow_fill:{%
  \arrowfill@\relbar\relbar\rightarrow}
\newcommand{\xrightleftarrows}[2][]{\mathrel{%
  \raise.55ex\hbox{%
    $\ext@arrow 0359\MT_rightarrow_fill:{\phantom{#1}}{#2}$}%
  \setbox0=\hbox{%
    $\ext@arrow 3095\MT_leftarrow_fill:{#1}{\phantom{#2}}$}%
  \kern-\wd0 \lower.55ex\box0}}
\MHInternalSyntaxOff
\makeatother
\newcommand{\spec}{\operatorname{Spec}}
\newcommand{\midv}{\,\middle\vert\,}
\newpage
% table of contents
\tableofcontents

% Your document content here

\chapter{Ring}
\section{Basic Concepts}
\dfn{Ring}{
    A \textbf{ring} is a set $R$ together with two binary operations $+$ and $\cdot$ on $R$ such that
    \begin{enumerate}
        \item $(R,+)$ is an abelian group.
        \item $(R,\cdot)$ is a monoid.
        \item $\cdot$ is distributive over $+$,
        \begin{align*}
            a\cdot(b+c)=a\cdot b+a\cdot c\\
            (a+b)\cdot c=a\cdot c+b\cdot c
        \end{align*}
    \end{enumerate}
}

\dfn{Unit Group of a Ring}{
    Let $R$ be a ring. The \textbf{unit group} of $R$ is the group of invertible elements of $R$ under multiplication, denoted by $R^\times$.
}

\dfn{Reduced Ring}{
    A ring $R$ is called \textbf{reduced} if it has no nonzero nilpotent elements, or equivalently, if for any $x\in R$, $x^2=0\implies x=0$.
}

\dfn{Local Ring}{
    A ring $R$ is called \textbf{local} if it has a unique maximal ideal.
}

\chapter{Commutative Ring}
\section{Basic Concepts}
\prop{Equivalent Definition for Local Ring}{
    Let $R$ be a commutative ring. Then the following are equivalent:
    \begin{enumerate}[label=(\roman*)]
        \item $R$ is a local ring.
        \item $R$ has a unique maximal ideal.
        \item $R$ has a maximal idea $\mathfrak{m}$ and $R - \mathfrak{m}\subseteq R^{\times}$.
        \item $R$ is not the zero ring and for every $x \in R$, $x\in R^{\times}$ or $1-x\in R^{\times}$.
        \item $R$ is not the zero ring and if $\sum_{i=1}^n r_i\in R^{\times}$, then there exist some $i$ such that $r_i\in R^{\times}$. 
        \item $R$ is not the zero ring and the sum of any two non-units in $R$ is a non-unit.
    \end{enumerate}
}

\subsection{Ideals}
\dfn{Ideal}{
    Let $R$ be a ring. A subset $I\subseteq R$ is called an \textbf{ideal} if
    \begin{enumerate}[label=(\roman*)]
        \item $I$ is a subgroup of $(R,+)$.
        \item $I$ is closed under multiplication, i.e. $a\in I$ and $b\in R$ implies $ab\in I$.
    \end{enumerate}
}

\prop{Ideal as Submodule}{
    Let $R$ be a ring and $I\subseteq R$ be a subset of $R$. Then $I$ is an ideal of $R$ if and only if $I$ is a submodule of $R$ as an $R$-module.
}

\dfn{Prime Ideal}{
    Let $R$ be a commutative ring. An ideal $I\subseteq R$ is called \textbf{prime} if  and 
    \begin{enumerate}[label=(\roman*)]
        \item $I\neq R$, i.e. $I$ is a proper ideal.
        \item $ab\in I\implies a\in I\text{ or }b\in I$, i.e. there exist no two elements in $R$ whose product is in $I$ but neither of them is in $I$.
    \end{enumerate}    
}
\dfn{Maximal Ideal}{
    Let $R$ be a commutative ring. An ideal $I\subseteq R$ is called \textbf{maximal} if
    \begin{enumerate}[label=(\roman*)]
        \item $I\ne R$, i.e. $I$ is a proper ideal.
        \item There exists no ideal $J\subseteq R$ such that $I\subsetneq J\subsetneq R$.
    \end{enumerate}
}
\prop{Maximal Ideal Equivalent Definition}{
    Let $R$ be a commutative ring and $I\subseteq R$ be an ideal. Then $I$ is maximal if and only if $R/I$ is a field.  
}
\dfn{Ideal generated from subset}{
    Let $R$ be a commutative ring and $\mathcal I(R)$ be the set of all ideals of $R$. Suppose $S\subseteq R$ be a subset. The \textbf{ideal generated by $S$}, denoted by $(S)$, is the smallest ideal of $R$ containing $S$, i.e. 
    \[
        (S)=\bigcap_{\substack{ I\in \mathcal I(R)\\S\subseteq I}}I.
    \]
    If $S=\{a_1,\dots,a_n\}$, we write 
    \[
        (S)=(a_1,\dots,a_n)=\left\{\sum_{i=1}^n r_ia_i\midv  r_i\in R\right\}.
    \]
}
\dfn{Ideal Operations}{
    \begin{enumerate}[label=(\roman*)]
        \item Sum: $$I+J=\left\{a+b\mid a\in I,b\in J\right\}=\left(I\cup J\right),$$
        $$
        \sum_{t \in T} I_t=\left\{a_{t_1}+ \cdots +a_{t_n}\mid n\in\mathbb{Z}_{+},t_i\in T,a_{t_i}\in I_{t_i}\right\}.
        $$
        \item Product: $$IJ=\left\{\sum_{i=1}^n a_ib_i\midv n\in\mathbb{Z}_{+},a_i\in I,b_i\in J\right\}=\left(\{ab\mid a\in I,b\in J\}\right).$$
        \item Power: $I^0=R$,
        \[
            I^n=\underbrace{I\cdots I}_{n\text{ times}}=\left(\{a^n\midv a\in I\}\right), 
            \]
        \item Radical: \[
            \sqrt{I} = \left\{ r \in R \mid r^n \in I \text{ for some } n \in \mathbb{Z}_{+} \right\} = \bigcap_{\substack{\mathfrak{p} \in \mathrm{Spec} R \\ I \subseteq \mathfrak{p}}} \mathfrak{p}
            \].
    \end{enumerate}
}

\prop{Properties of Ideal Operations}{
    \begin{enumerate}[label=(\roman*)]
        \item $(I\cap J)^2 \subseteq I J \subseteq I \cap J \subseteq I+J$
        \item ${I} \cap({J}+{K}) \supseteq {I} \cap {J}+{I} \cap {K}$
        \item ${I} ({J}+{K}) = {I}  {J}+{I}  {K}$
        \item $$
        \begin{gathered}
        \left(\sum_{t \in T} I_t\right) J=\sum_{t \in T}\left(I_t J\right), \quad J\left(\sum_{t \in T} I_t\right)=\sum_{t \in T} J I_t.
        \end{gathered}
        $$
        \item $I(J K)=(I J) K$
        \item $I^0 \supseteq \sqrt{I} \supseteq I \supseteq I^2 \supseteq I^3 \supseteq \cdots$
        \item $\sqrt{\sqrt{I}} = \sqrt{I}$,
        \item $\sqrt{I^n}=\sqrt{I}$, $\sqrt{I J}=\sqrt{I \cap J}=\sqrt{I} \cap \sqrt{J}$
    \end{enumerate}
}
\proof{
    \begin{enumerate}[label=(\roman*)]
        \item Since $\{ab\mid a\in I,b\in J\}\subseteq I\cap J$, we see $IJ=\left(\{ab\mid a\in I,b\in J\}\right)\subseteq I\cap J$. Also we can check $I \cap J \subseteq I \cup J\subseteq (I \cup J)=I+J$.
    \end{enumerate}
}

\dfn{Radical Ideal}{
    An ideal $I$ is called a \textbf{radical ideal} if $I=\sqrt{I}$.
}
\dfn{Nilradical}{
    The \textbf{nilradical} of $R$, denoted by $\mathfrak{N}_R$, is the radical ideal $\sqrt{0}$ consisting of all the nilpotent elements of $R$. We have
    \[
        \mathfrak{N}_R=\sqrt{0}=\left\{ r \in R \mid r^n=0 \text{ for some } n \in \mathbb{Z}_{+} \right\} = \bigcap_{\substack{\mathfrak{p} \in \mathrm{Spec} R }} \mathfrak{p}
            \]
}


\prop{Properties of Radical Ideal}{
    \begin{enumerate}
        \item For any ideal $I$, $\sqrt{0}\subseteq \sqrt{I}$.
        \item $\sqrt{I}$ is the smallest radical ideal containing $I$.
        \item $\sqrt{\mathfrak{p}^n}=\sqrt{\mathfrak{p}}=\mathfrak{p}$ for any prime ideal $\mathfrak{p}$, which means prime ideals are radical.
        \item Suppose the natural projection $\pi: R\to R/I$ induces a bijection between the set of ideals of $R$ containing $I$ and the set of ideals of $R/I$, denoted by $\tilde{\pi}:\mathcal{I}(R)\to\mathcal{I}(R/I)$. Then $\tilde{\pi}$ maps $\sqrt{I}$ to $\mathfrak{N}_{R/I}$.
        \item A commutative ring $R$ is reduced if and only if $\mathfrak{N}_R=(0)$. 
        \item Let $R$ be a commutative ring and $I$ be an ideal of $R$. Then
        \[
        R/I \text{ is reduced }\iff I\text{ is radical}
        \]
    \end{enumerate}
}

\subsection{Prime Elements}
\dfn{Divisibility}{
    Let $R$ be a commutative ring and $a,b\in R$. We say $a$ \textbf{divides} $b$ if there exists $c\in R$ such that $b=ac$, denoted by $a\mid b$. If $a\mid b$. $a$ is called a \textbf{divisor} of $b$, and $b$ is called a \textbf{multiple} of $a$.
}

\prop{}{
    Let $R$ be a commutative ring.
    \begin{enumerate}[label=(\roman*)]
        \item $a \mid b\iff(b) \subseteq (a)$.
        \item $u\in R^\times \iff (u) = R  \iff \forall r\in R,\,u\mid r$.
    \end{enumerate}
}
\dfn{Prime Element}{
    Let $R$ be a commutative ring. An element $a\in R$ is called \textbf{prime} if
    \begin{enumerate}[label=(\roman*)]
        \item $a\ne 0$.
        \item $a\notin R^\times$, i.e. $a$ is not a unit.
        \item $a\mid bc\implies a\mid b\text{ or }a\mid c$.
    \end{enumerate}
}


\prop{Prime Element and Prime Ideal}{
    Suppose $R$ is a commutative ring and $a\in R$. Then
    \[
        a\text{ is prime }\iff (a)\text{ is a nonzero prime ideal}.
    \]
}
\proof{
    \begin{align*}
        a\text{ is prime }\iff &a\ne 0\text{ and }a\notin R^\times\text{ and }a\mid bc\implies a\mid b\text{ or }a\mid c\\
        \iff &(a)\ne 0\text{ and }(a)\ne R^\times\text{ and }bc\in (a)\implies b\in (a)\text{ or }c\in (a)\\
        \iff &(a)\text{ is a nonzero prime ideal}.
    \end{align*}
}



\section{Integral Domain}
\dfn{Associate}{
    Let $R$ be an integal domain. Two elements $a,b\in R$ are called \textbf{associates} if one of the following equivalent conditions holds:
    \begin{enumerate}[label=(\roman*)]
        \item $a=ub$ for some $u\in R^\times$.
        \item $a\mid b$ and $b\mid a$, i.e. $(a)=(b)$.
    \end{enumerate}
}
If $R$ is a general commutative ring, then we only have the implication $(\mathrm i)\implies (\mathrm{ii})$. The converse is not true in general. For example, in $\mathbb{C}[x,y,z]/(x-xyz)$, $\overline{x}\mid \overline{xy}$ and $\overline{xy}\mid \overline{x}$, but there exists no unit $u$ such that $\overline{x}=u\overline{xy}$.

Associatedness can also be described in terms of the action of $R^\times$ on $R$ via multiplication: two elements of $R$ are associates if they are in the same $R^\times$-orbit.
\dfn{Irreducible Element}{
    Let $R$ be an integal domain. An element $a\in R$ is called \textbf{irreducible} if
    \begin{enumerate}[label=(\roman*)]
        \item $a\notin R^\times$, i.e. $a$ is not a unit.
        \item $a=bc\implies b\in R^\times\text{ or }c\in R^\times$.
    \end{enumerate}    
}
0 is never an irreducible element.
\prop{Prime Element $\implies$ Irreducible Element in Integral Domain}{
    Let $R$ be an integal domain. Then every prime element in $R$ is irreducible.
}
\proof{
    Let $a\in R$ be a prime element. Suppose $a=bc$ for some $b,c\in R$. Then $a\mid bc$. Since $a$ is prime, there must be $a\mid b$ or $a\mid c$. Without loss of generality, we can assume $a\mid b$. Then $b=ad$ for some $d\in R$. Thus we have $$a=bc=adc\implies a(1-dc)=0\implies dc=1\implies c\in R^\times.$$ That implies $a$ is irreducible.
}
\prop{Prime Ideal Equivalent Definition}{
    Let $R$ be a commutative ring. An ideal $I\subseteq R$ is prime if and only if $R/I$ is an integal domain.
}

\section{Unique Factorization Domain}
\dfn{Unique Factorization Domain}{
    An integral domain $R$ is called a \textbf{unique factorization domain} (UFD) if
    \begin{enumerate}[label=(\roman*)]
        \item every nonzero nonunit element of $R$ can be written as a product of irreducible elements of $R$.
        \item if $p_1\cdots p_n=q_1\cdots q_m$ for some irreducible elements $p_1,\cdots,p_n,q_1,\cdots,q_m\in R$, then $n=m$ and there exists a permutation $\sigma\in S_n$ such that $p_i$ is an associate of $q_{\sigma(i)}$ for all $i=1,\cdots,n$.
    \end{enumerate}
}
\prop{Irreducible Element $\iff$ Prime Element in UFD}{
    Let $R$ be a UFD. Then every irreducible element in $R$ is prime.
}
\proof{
    Let $a\in R$ be an irreducible element. Suppose $a\mid bc$ for some $b,c\in R$. Then $bc=ad$ for some $d\in R$. Since $R$ is a UFD, we can write $b=p_1\cdots p_n$ and $c=q_1\cdots q_m$ for some irreducible elements $p_1,\cdots,p_n,q_1,\cdots,q_m\in R$. Then we have $$ad=bc=p_1\cdots p_nq_1\cdots q_m.$$ Since $a$ is irreducible, $a$ must be an associate of one of the $p_i$'s or $q_j$'s. Without loss of generality, we can assume $a\sim p_1$. Then $a\mid b$. That implies $a$ is prime.
}

\section{Principal Ideal Domain}
\dfn{Principal Ideal Domain}{
    An integral domain $R$ is called a \textbf{principal ideal domain} (PID) if every ideal of $R$ is principal.
}

\prop{PID $\implies$ UFD}{
    Every PID is a UFD.
}

\prop{Prime Ideal $\iff$ Maximal Ideal in PID}{
    Let $R$ be a PID. Then every prime ideal in $R$ is maximal.
}
\proof{
    Let $I\subseteq R$ be a prime ideal. We only need to show $R/I$ is a field. Let $\overline{a}\in R/I$ be a nonzero element. Then $a\notin I$. Since $I$ is prime, $a$ is not a multiple of any prime element in $R$. Thus $a$ is irreducible. Since $R$ is a PID, $a$ is prime. Thus $\overline{a}$ is prime in $R/I$. Since $R/I$ is an integral domain, $\overline{a}$ is a maximal ideal in $R/I$. That implies $R/I$ is a field.
}

\section{Construction}
\dfn{Multuplicative Subset}{
    Let $R$ be a commutative ring. A subset $S\subseteq R$ is called \textbf{multiplicative} if $S$ is monoid under the multiplication of $R$, i.e.
    \begin{enumerate}[label=(\roman*)]
        \item $1\in S$.
        \item $a,b\in S\implies ab\in S$.
    \end{enumerate}
}


\dfn{Localization of a Ring}{
    Let $R$ be a commutative ring and $S\subseteq R$ be a multiplicative subset. The \textbf{localization} of $R$ at $S$ is the ring $S^{-1}R$ defined as the set of equivalence classes of the relation $\sim$ on $R\times S$ defined by $$(a,s)\sim (b,t)\iff \exists u\in S\text{ such that }u(at-bs)=0.$$
    The equivalence class of $(a,s)$ is denoted by $\frac{a}{s}$. The addition and multiplication on $S^{-1}R$ are defined as follows:
    \begin{align*}
        \frac{a}{s}+\frac{b}{t}&=\frac{at+bs}{st}\\
        \frac{a}{s}\cdot\frac{b}{t}&=\frac{ab}{st}
    \end{align*}
    The addition identify is $\frac{0}{1}$ and the multiplication identity is $\frac{1}{1}$.
}

\prop{Universal Property of Localization}{
    Let $R$ be a commutative ring and $S\subseteq R$ be a multiplicative subset. The ring homomorphism
    \begin{align*}
        \varphi:R&\longrightarrow S^{-1}R\\
         r&\longmapsto \frac{r}{1}
    \end{align*}
    satisfies the following universal property: for any ring homomorphism $\psi:R\to T$ such that $\psi(S)\subseteq T^\times$, there exists a unique ring homomorphism 
    \begin{align*}
        \psi':S^{-1}R&\longrightarrow T\\
        \frac{a}{s}&\longmapsto \psi(a)(\psi(s))^{-1}
    \end{align*}
    such that the following diagram commutes
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&]
         
            S^{-1}R\arrow[rr, "\psi'", dashed]\&\& T \&  \\             
            \&R \arrow[ru, "\psi"'] \arrow[lu, "\varphi"] \&                          
        \end{tikzcd}
    \end{center}
}
\proof{
    First let's check $\psi'$ is well-defined. Suppose $\dfrac{a}{s}=\dfrac{b}{t}$. Then there exists $u\in S$ such that $u(at-bs)=0$. Since $\psi$ is a ring homomorphism, we have 
    $$
    0=\psi(u(at-bs))=\psi(u)\left(\psi(a)\psi(t)-\psi(b)\psi(s)\right).
    $$
    Since $u\in S$ and $\psi(S)\subseteq T^\times$, we have $\psi(u)\in T^\times$. Thus
    $$
    \psi'\left(\frac{a}{s}\right)=\psi(a)(\psi(t))^{-1}=\psi(b)(\psi(s))^{-1}= \psi'\left(\frac{b}{t}\right).
    $$ 
    That implies $\psi'$ is well-defined. It is easy to check $\psi'$ is a ring homomorphism
    \[
        \psi'\left(\frac{a}{s}+\frac{b}{t}\right)=\psi'\left(\frac{at+bs}{st}\right)=\psi(at+bs)(\psi(st))^{-1}=\psi(a)(\psi(s))^{-1}+\psi(b)(\psi(t))^{-1}=\psi'\left(\frac{a}{s}\right)+\psi'\left(\frac{b}{t}\right).  
    \]
    The multiplication is similar. The diagram commutes since
    \[
        \psi'\circ\varphi(r)=\psi'\left(\frac{r}{1}\right)=\psi(r)(\psi(1))^{-1}=\psi(r).
    \]
    Now we show $\psi'$ is unique. Suppose there exists another ring homomorphism $\psi'':S^{-1}R\to T$ such that the diagram commutes. Then for any $\frac{a}{s}\in S^{-1}R$, we have 
    \[
        \psi''\left(\frac{a}{s}\right) = \psi''\left(\frac{a}{1}\frac{1}{s}\right) = \psi''\left(\frac{a}{1}\right)\psi''\left(\frac{1}{s}\right) = \psi''\left(\frac{a}{1}\right)\left(\psi''\left(\frac{s}{1}\right)\right)^{-1} = \psi\left(a\right)(\psi(s))^{-1} =    \psi'\left(\frac{a}{s}\right).
    \]
    That implies $\psi''=\psi'$. Thus $\psi'$ is unique.
}

Localization is the most economical way to make a multiplicative subset invertible.

\prop{}{
    Let $R$ be a commutative ring and $S \subseteq R$ be a multiplicative subset. The category of $S^{-1} R$ modules is equivalent to the category of $R$-modules $M$ with the property that every $s \in S$ acts as an automorphism on $M$. The following functor $F$ gives a equivalence of categories: 
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            S^{-1} R\text{-}\mathsf{Mod}\&[-25pt]\&[+10pt]\&[-30pt] R\text{-}\mathsf{Mod}\text{ where }S\text{ act as automorphisms}\&[-30pt]\&[-30pt] \\ [-15pt] 
            M  \arrow[dd, "f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt] M\arrow[dd, "f"{name=R}] \&[-30pt]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "F", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            N \& \& \&  N\&
        \end{tikzcd}
        \]
}
\proof{
    Assume $S$ is a multiplicative subset of communitative ring $R$ and the localization map is $\varphi:R\to S^{-1}R$. Then $R$ can acts on $S^{-1}R$-module $M$ through 
    \[
        R\xrightarrow{\varphi}S^{-1}R\xrightarrow{\sigma_M'}\mathrm{End}_{\mathsf{Ab}}(M),
    \]
    which enables us to regard $M$ as an $R$-module. Furthermore, since 
    \[
        \sigma_M'(\varphi(S))\subseteq \sigma_M' \left(\left(S^{-1}R\right)^\times\right)\subseteq \left(\mathrm{End}_{\mathsf{Ab}}(M)\right)^\times=\mathrm{Aut}_{\mathsf{Ab}}(M),
    \]
    every $s \in S$ acts as an automorphism on $M$.\\
    Conversely, if $M$ is an $R$-module such that every $s\in S$ acts as an automorphism on $M$, i.e. $\sigma_M:R\to\mathrm{End}_{\mathsf{Ab}}(M)$ satisfies $\sigma_M(S)\subseteq \mathrm{Aut}_{\mathsf{Ab}}(M)$, then by unversal property
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&]
         
            S^{-1}R\arrow[rr, "\sigma_M'", dashed]\&\& \mathrm{End}_{\mathsf{Ab}}(M) \&  \\             
            \&R \arrow[ru, "\sigma_M"'] \arrow[lu, "\varphi"] \&                          
        \end{tikzcd}
    \end{center}
    we can define a $S^{-1}R$-module structure on $M$ by lifting $\sigma_M$ to $\sigma_M'$. It is easy to check that these two functors are quasi-inverse to each other.
}
\prop{Properties of Localization of Rings}{
    Let $R$ be a commutative ring and $S\subseteq R$ be a multiplicative subset. Then
    \begin{enumerate}[label=(\roman*)]
        \item $S^{-1}R=0$ if and only if $0\in S$.
        \item If $0\notin S$, then $\frac{a}{s}$ is invertible in $S^{-1}R$ if and only if there exists $r\in R$ such that $ra\in S$.
        \item If $0\notin S$, the localization map $\varphi:R\to S^{-1}R$ is injective if and only if $S$ contains no zero divisors.
        \item If $R$ is an integral domain, then $S^{-1}R$ is also an integral domain.
    \end{enumerate}
}
\proof{
    \begin{enumerate}[label=(\roman*)]
        \item \[
            S^{-1}R=0\iff \frac{1}{1}=\frac{0}{1}\iff \exists s\in S\text{ such that }s\cdot 1=0\iff 0\in S.
            \]
        \item Suppose $0\notin S$. If $\frac{a}{s}$ is invertible in $S^{-1}R$, then there exists $\frac{b}{t}\in S^{-1}R$ such that $\frac{a}{s}\cdot\frac{b}{t}=\frac{1}{1}$, which implies there exists $u\in S$ such that $u(ab-st)=0$. Let $r=ub\in R$ and then we see $ra=ust\in S$. Conversely, suppose there exists $r\in R$ such that $ra\in S$. Then $\frac{a}{s}\cdot\frac{rs}{ra}=\frac{1}{1}$, which implies $\frac{a}{s}$ is invertible.
        \item Suppose $0\notin S$. Given the localization map $\varphi:R\to S^{-1}R$, we have
        \[
            \varphi(r)=0\iff \frac{r}{1}=\frac{0}{1}\iff \exists s\in S\text{ such that }s\cdot r=0.
        \]
        Thus 
        $$
        \varphi\text{ is injective}\iff \ker \varphi=\{0\}\iff \forall s\in S,\forall r\in R-\{0\},sr\ne 0\iff S\text{ contains no zero divisors}.
        $$
    \end{enumerate}
}

\dfn{Total Ring of Fractions}{
    Let $R$ be a commutative ring. Then $S=\left\{r\in R\mid r\text{ is not a zero divisor}\right\}$ is a multiplicative subset. The \textbf{total ring of fractions} of $R$ is the localization $S^{-1}R$, denoted by $\mathrm{Frac}(R)$. The localization map $\varphi:R\to \mathrm{Frac}(R)$ is an injective ring homomorphism.
}

\dfn{Field of Fractions}{
    If $R$ be an integral domain, the total ring of fractions $\mathrm{Frac}(R)$ is a field, call the \textbf{field of fractions} of $R$.
}

\dfn{Localization of an Ideal}{
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$, and $I$ be an ideal of $R$. If we regard $I$ as a $R$-module, the \textbf{localization of the ideal} $I$ by $S$, denoted $S^{-1}I$, is the localization of the module $I$ by $S$. That is,
    \[
        S^{-1}I=\left\{\frac{a}{s}\midv a\in I, s\in S\right\}.
    \]
    $S^{-1}I$ is a $S^{-1}R$-submodule of $S^{-1}R$. Suppose the localization map is $\varphi:R\to S^{-1}R$, $S^{-1}I$ can also defined as the ideal generated by $\varphi(I)$ in $S^{-1}R$
    \[
        S^{-1}I=\langle \varphi(I)\rangle=\left\{\frac{r}{s}\frac{a}{1}\midv a\in I, \frac{r}{s}\in S^{-1}R\right\}.
    \]
}
\prop{Properties of localization of Ideals}{
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$, and $0\notin S$. Suppose the localization map is $\varphi:R\to S^{-1}R$. Then we have maps between the sets of ideals of $R$ and $S^{-1}R$:
    \begin{align*}
        \mathcal{I}(R)=\left\{\text{ideals of }R\right\}\xrightleftarrows[\varphi^{-1}]{\quad S^{-1}\quad}
         \left\{\text{ideals of }S^{-1}R\right\}=\mathcal{I}(S^{-1}R)
    \end{align*}
    \begin{enumerate}[label=(\roman*)]
        \item $S^{-1}\circ \varphi^{-1}=\mathrm{id}_{\mathcal{I}(S^{-1}R)}$. As a result, $S^{-1}$ is surjective and $\varphi^{-1}$ is injective.
        \item For any ideal $J$ of $S^{-1}R$, there exists an ideal $I$ of $R$ such that $S^{-1}I=J$. 
        \item If $I$ is a ideal of $R$, then $S^{-1}I=S^{-1}R\iff I\cap S\ne\varnothing$.
        \item $\varphi$ induces a bijection between the set of prime ideals of $R$ that do not intersect $S$ and the set of prime ideals of $S^{-1}R$. That is, the following restriction of $S^{-1}$ and $\varphi^{-1}$ are bijections:
        \begin{align*}
            \{I \in \operatorname{Spec} R: I \cap S=\varnothing\} \xrightleftarrows[\varphi^{-1}]{\quad S^{-1}\quad}
           \spec S^{-1}R
        \end{align*}
    \end{enumerate}
}
\proof{
    \begin{enumerate}[label=(\roman*)]
        \item Let $J$ be an ideal of $S^{-1}R$. We have
        \[
            S^{-1}\varphi^{-1}(J)=\left\{\frac{x}{s}\midv x\in \varphi^{-1}(J),s\in S\right\}=\left\{\frac{x}{s}\midv \frac{x}{1}\in J,s\in S\right\}=\left\{\frac{1}{s}\frac{x}{1}\midv \frac{x}{1}\in J,s\in S\right\}=J.
        \]
        \item It is a direct consequence of the surjectivity of $S^{-1}$.
        \item Let $I$ be an ideal of $R$. We have
        \[
            S^{-1}I=S^{-1}R\iff \frac{1}{1} \in S^{-1}I \iff \exists t,s\in S,a\in I, t(a-s)=0\iff ta=ts\in I\cap S\ne\varnothing \iff I\cap S\ne\varnothing.
        \]
    \end{enumerate}
}

\ex{Localization at a Prime Ideal}{
    Let $R$ be a commutative ring and $\mathfrak{p}$ be a prime ideal of $R$. Then $S=R-\mathfrak{p}$ is a multiplicative set. The localization $S^{-1}R$ is called the \textbf{localization of $R$ at $\mathfrak{p}$}, denoted by $R_\mathfrak{p}$. $R_\mathfrak{p}$ is a local ring with unique maximal ideal 
    \[
    \mathfrak{p}R_\mathfrak{p}=S^{-1}\mathfrak{p}=\left\{\frac{x}{s}\midv x\in \mathfrak{p}, s\in R-\mathfrak{p}\right\}.
    \]
    And we have field isomorphism $R_\mathfrak{p}/\mathfrak{p}R_\mathfrak{p}\cong \mathrm{Frac}(R/\mathfrak{p})$.
}
\proof{
    Since for any ideal $I\in  \{I \in \operatorname{Spec} R: I \cap S=\varnothing\}$, we have
    \[
        I\subseteq \mathfrak{p}\implies S^{-1}I\subseteq  S^{-1}\mathfrak{p}.
    \]
    Thus we see $S^{-1}\mathfrak{p}$ is the unique maximal ideal of $S^{-1}R$.
}

\ex{}{
    Let $R$ be a commutative ring and $f\in R$. Let $S=\{1,f,f^2,\cdots\}$ be the monoid generated by $f$. Then $S$ is a multiplicative set. The localization $S^{-1}R$ is called the \textbf{localization of $R$ at $f$}, denoted by $R_f$. $R_f=0$ if and only if $f$ is nilpotent.
}
\proof{
    $R_f=0\iff 0\in S\iff \exists n\in\mathbb{Z}_{\ge0},\;f^n=0$.
}

\chapter{Module}
\section{Basic Concepts}
\dfn{Module}{
    Let $R$ be a ring. An left \textbf{$R$-module} is an abelian group $M$ with a binary operation $R\times M\to M$ such that
    \begin{enumerate}[label=(\roman*)]
        \item $r(m+n)=rm+rn$ for all $r\in R$ and $m, n\in M$.
        \item $(r+s)m=rm+sm$ for all $r, s\in R$ and $m\in M$.
        \item $(rs)m=r(sm)$ for all $r, s\in R$ and $m\in M$.
        \item $1m=m$ for all $m\in M$.
    \end{enumerate}
    If $R$ is a commutative ring, then $M$ is called a \textbf{commutative $R$-module}.
}

\dfn{Homomorphism of $R$-modules}{
    Let $R$ be a ring and $M, N$ be $R$-modules. A map $f:M\to N$ is called an \textbf{$R$-module homomorphism} if
    \begin{enumerate}[label=(\roman*)]
        \item $f(m+n)=f(m)+f(n)$ for all $m, n\in M$.
        \item $f(rm)=rf(m)$ for all $r\in R$ and $m\in M$.
    \end{enumerate}
    If $f$ is bijective, then $f$ is called an \textbf{$R$-module isomorphism}. If $M=N$, then $f$ is called an \textbf{$R$-module endomorphism}. If $f$ is bijective, then $f$ is called an \textbf{$R$-module automorphism}. Another name for a homomorphism of $R$-modules is an  \textbf{$R$-linear map}.
}

\prop{Ring Action on an Abelian Group}{
From the perspective of representation theory, a module is a ring action on an abelian group. To be more precise, a ring $R$ can be regarded as an $\mathsf{Ab}$-enriched category with only one object, called the delooping of $R$, denoted $\mathsf{B}R$. $\mathsf{Ab}$ itself is an $\mathsf{Ab}$-enriched category. Thus a left $R$-module $M$ is a functor between $\mathsf{Ab}$-enriched categories $\mathcal{M}:\mathsf{B}R\to \mathsf{Ab}$. 
\[
    \begin{tikzcd}[ampersand replacement=\&]
        \mathsf{B}R\&[-25pt]\&[+10pt]\&[-30pt] \mathsf{Ab}\&[-30pt]\&[-30pt] \\ [-15pt] 
        *  \arrow[dd, "r\in R"{name=L, left}] 
        \&[-25pt] \& [+10pt] 
        \& [-30pt] M\arrow[dd, "r_M\in \mathrm{End}_{\mathsf{Ab}}(M)"{name=R}] \&[-30pt]\\ [-10pt] 
        \&  \phantom{.}\arrow[r, "\mathcal{M}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
        * \& \& \&  M\&
    \end{tikzcd}
\]
As a map between objects, $\mathcal{M}$ specifies an abelian group $M$. and a ring homomorphism $R\to \mathrm{End}_{\mathsf{Ab}}(M)$, which is the ring action of $R$ on $M$. As a map between morphisms, $\mathcal{M}$ specifies a ring homomorphism $R\to \mathrm{End}_{\mathsf{Ab}}(M)$, which is $\mathbb{Z}$-bilinear, i.e. $r(m+n)=rm+rn$ for all $r\in R$ and $m, n\in M$. Define the ring representation category 
\[
\mathrm{Rep}_{\mathsf{Ab}}(R)=\mathrm{Fun}_{\mathsf{Ab}}(\mathsf{B}R, \mathsf{Ab})    
\]
to be the category of all functors between $\mathsf{Ab}$-enriched categories $\mathsf{B}R$ and $\mathsf{Ab}$. Then we have category isomorphism 
\[
    \mathrm{Rep}(R)\simeq R\text{-}\mathsf{Mod}
\]
}
\prop{Ring homomorphism $R\to S$ induces functor $S\text{-}\mathsf{Mod}\to R\text{-}\mathsf{Mod}$}{
    Let $R$ and $S$ be rings with a ring homomorphism $f: R\to S$. Then every $S$-module $M$ is an $R$-module by defining $rm = f(r)m$, or equivalently through $R\to S\to \mathrm{End}_{\mathsf{Ab}}(M)$. This defines a functor $F: S\text{-}\mathsf{Mod}\to R\text{-}\mathsf{Mod}$, which is identify map on objects and morphisms.
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            S\text{-}\mathsf{Mod}\&[-25pt]\&[+10pt]\&[-30pt] R\text{-}\mathsf{Mod}\&[-30pt]\&[-30pt] \\ [-15pt] 
            M  \arrow[dd, "g"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt] M\arrow[dd, "g"{name=R}] \&[-30pt]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "F", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            N \& \& \&  N\&
        \end{tikzcd}
        \]  
}
In particular, homomorphism $R\to S$ makes $S$ an $R$-module.

\section{Construction}
\dfn{Localization of a Module}{
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$, and $M$ be an $R$-module. The \textbf{localization of the module} $M$ by $S$, denoted $S^{-1}M$, is an $S^{-1}R$-module that is constructed exactly as the localization of $R$, except that the numerators of the fractions belong to $M$. That is, as a set, it consists of equivalence classes, denoted $\frac{m}{s}$, of pairs $(m, s)$, where $m\in M$ and $s\in S$, and two pairs $(m, s)$ and $(n, t)$ are equivalent if there is an element $u$ in $S$ such that
    \[u(sn-tm)=0.\]
    Addition and scalar multiplication are defined as for usual fractions (in the following formula, $r\in R$, $s,t\in S$, and $m,n\in M$):
    \[\frac{m}{s} + \frac{n}{t} = \frac{tm+sn}{st},\]
    \[\frac{r}{s} \frac{m}{t} = \frac{r m}{st}.\]
}
\prop{Universal Property of Localization}{
    Let $R$ be a commutative ring and $S\subseteq R$ be a multiplicative subset, an $M$ be an $R$-module. The $R$-linear map
    \begin{align*}
        \varphi:M&\longrightarrow S^{-1}M\\
         m&\longmapsto \frac{m}{1}
    \end{align*}
    satisfies the following universal property: for any $R$-linear map $\psi:M\to N$ such that $S$ act as automorphisms on $N$ (i.e. the induced ring homomorphism $\sigma_{N}:R\to\mathrm{End}_{\mathsf{Ab}}(N)$ satisfies $\sigma_{N}(S)\subseteq \mathrm{Aut}_{\mathsf{Ab}}(N)$), there exists a unique $R$-linear map
    \begin{align*}
        \psi':S^{-1}M&\longrightarrow N\\
        \frac{m}{s}&\longmapsto s^{-1}\psi(m)=\sigma_{N}(s)^{-1}(\psi(m))
    \end{align*}
    such that the following diagram commutes
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&]
         
            S^{-1}M\arrow[rr, "\psi'", dashed]\&\& N \&  \\             
            \&M \arrow[ru, "\psi"'] \arrow[lu, "\varphi"] \&                          
        \end{tikzcd}
    \end{center}
}
\prop{Localization is a Left Adjoint Functor}{ 
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$, and $M$ be an $R$-module. Define the localization functor as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
           R\text{-}\mathsf{Mod}\&[-25pt]\&[+10pt]\&[-30pt] S^{-1}R\text{-}\mathsf{Mod}\&[-30pt]\&[-30pt] \\ [-15pt] 
            M  \arrow[dd, "f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt] S^{-1}M\arrow[dd, "S^{-1}(f)"{name=R}] \&[-30pt]\ni
            \&[-30pt]\frac{m}{s}\arrow[dd,mapsto]\&[-30pt]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "S^{-1}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            N \& \& \&  S^{-1}N\&[-30pt]\ni
            \&[-30pt]\frac{f(m)}{s}
        \end{tikzcd}
        \]  
        where $S^{-1}(f)$ is defiend as the composition $S^{-1}M\xrightarrow{f'} N\to S^{-1}N$. \\
        Let $F: S^{-1}R\text{-}\mathsf{Mod}\to R\text{-}\mathsf{Mod}$ be the functor that regards $S^{-1}R$-modules as $R$-modules. Then we have a pair of adjoint functors $S^{-1}\dashv F: R\text{-}\mathsf{Mod}\leftrightarrows S^{-1}R\text{-}\mathsf{Mod}$ and natural isomorphism
        \[
        \mathrm{Hom}_{S^{-1}R\text{-}\mathsf{Mod}}(S^{-1}M, N)\cong \mathrm{Hom}_{R\text{-}\mathsf{Mod}}(M, F(N)).    
        \]
}
\prop{Localization is an Exact Functor}{
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$. If $L\xrightarrow {u} M\xrightarrow {v} N$ is an exact sequence of $R$-module, then $S^{-1}L\xrightarrow {S^{-1}(u)} S^{-1}M\xrightarrow {S^{-1}(v)} S^{-1}N$ is an exact sequence of $S^{-1}R$-module.
}
\proof{
    Suppose $\frac{m}{s}\in \ker S^{-1}(v) $. Then we have
    \[
        S^{-1}(v)\left(\frac{m}{s}\right)=\frac{v(m)}{s}=\frac{0}{1},
    \]
    which imples that there exists $t\in S$ such that $tv(m)=v(tm)=0$. Thus we have $tm\in \ker v$. By exactness, there exists $l\in L$ such that $u(l)=tm$. Since 
    \[
        S^{-1}(u)\left(\frac{l}{ts}\right)=\frac{u(l)}{ts}=\frac{tm}{ts}=\frac{m}{s},
    \]
    we see that $\frac{m}{s}\in \operatorname{im}S^{-1}(u)$, which means $\operatorname{im}S^{-1}(u)=\ker S^{-1}(v)$. Hence $S^{-1}$ is exact.
}
\prop{Localization Respects Quotients}{
    Let $M$ be an $R$-module and $N$ be a submodule of $M$. Then we have an isomorphism $S^{-1}(M/N)\simeq (S^{-1}M)/(S^{-1}N)$.
}
\proof{
    From the exact sequence
    \[
        0\longrightarrow N\longrightarrow M\longrightarrow M/N\longrightarrow 0,
    \]
    we have the exact sequence
    \[
        0\longrightarrow S^{-1}N\longrightarrow S^{-1}M\longrightarrow S^{-1}(M/N)\longrightarrow 0.
    \]
}
\prop{Localization as colimit}{
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$, and $M$ be an $R$-module. Then we have an isomorphism
    \[
        S^{-1}M\cong \varinjlim_{f\in S}M_f,
    \]
    where $M_f$ is the localization of $M$ by the multiplicative set $S_f=\{f^n\mid n\in \mathbb{Z}_{\ge0}\}$. 
    
    Formally, $S$ can be endowed with a preorder relation: $f\mid g$ if and only if $fh=g$ for some $h\in S$, which makes $S$ a thin category $\mathsf{S}$. Then we can define a functor $G:\mathsf{S}\to R\text{-}\mathsf{Mod}$
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{S}\&[-25pt]\&[+10pt]\&[-30pt] R\text{-}\mathsf{Mod}\&[-30pt]\&[-30pt] \\ [-15pt] 
            f  \arrow[dd, ""{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]M_f\arrow[dd, "\varphi_g'"{name=R}] \&[-30pt]\ni
            \&[-30pt]\frac{m}{f^n}\arrow[dd,mapsto]\&[-30pt]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "G", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            g \&\hspace{-3pt}=fh \& \&  M_g\&[-30pt]\ni
            \&[-30pt]\frac{mh^n}{g^n}
        \end{tikzcd}
        \]  
        where $\varphi_g'$ is given by the following  universal property
        \begin{center}
            \begin{tikzcd}[ampersand replacement=\&]
             
                M_f\arrow[rr, "\varphi_g'", dashed]\&\& M_g \&  \\             
                \&M \arrow[ru, "\varphi_g"'] \arrow[lu, "\varphi_f"] \&                          
            \end{tikzcd}
        \end{center}
        And we have
        \[
            S^{-1}M\cong \varinjlim G  
        \]
}
\proof{
First let's show that the $\varphi'_g$ induced by universal property can be writen as $\varphi'_g:\frac{m}{f^n}\mapsto\frac{mh^n}{g^n}$. Suppose $R$ acts on $M_g$ through
\[
    \sigma_{M_g}:R\xrightarrow{}S^{-1}_gR\xrightarrow{\sigma_{M_g'}}\mathrm{End}_{\mathsf{Ab}}(M_g),
\]
Then we can check for any $f^n \in S_f$,
\[
    \sigma_{M_g}(f^n)\sigma_{M_g'}\left(\frac{h^n}{g^n}\right)=\sigma_{M_g'}\left(\frac{f^nh^n}{g^n}\right)=\sigma_{M_g'}\left(1\right)=1\implies \sigma_{M_g}(f^n)\in \mathrm{Aut}_{\mathsf{Ab}}(M_g),
\]
which means $\sigma_{M_g}(S_f)\subseteq  \mathrm{Aut}_{\mathsf{Ab}}(M_g)$. Thus by universal property of $M_f$, we have
\[
    \varphi'_g\left(\frac{m}{f^n}\right)=\sigma_{M_g}(f^n)^{-1}(m)=\sigma_{M_g'}\left(\frac{h^n}{g^n}\right)(m)=\frac{mh^n}{g^n}.
\]
In a similar way, we can check that $S_f$ can act on $S^{-1}M$ as automorphisms and induce $\psi_f$ by the following universal property
\begin{center}
    \begin{tikzcd}[ampersand replacement=\&]
     
        M_f\arrow[rr, "\psi_f", dashed]\&\& S^{-1}M\&  \\             
        \&M \arrow[ru, "\varphi_S"'] \arrow[lu, "\varphi_f"] \&                          
    \end{tikzcd}
\end{center}
And we are going to show that $\left(\psi_f:M_f\to S^{-1}M\right)_{f\in S}$ is the colimit of $G$. 
\[
\begin{tikzcd}
        & N                                 &                                                             \\[+15pt]
        & S^{-1}M \arrow[u, "\nu"', dashed] &                                                             \\[+10pt]
M_f \arrow[rr, "\varphi_g'"] \arrow[ru, "\psi_f"] \arrow[ruu, "\mu_f", bend left] &                                   & M_g \arrow[lu, "\psi_g"'] \arrow[luu, "\mu_g"', bend right]
\end{tikzcd}
\]
We can prove
\[
   \psi_f=\psi_g\circ \varphi_g'
\]
by checking
\[
    \left(\psi_g\circ \varphi_g'\right)\circ \varphi_f=\psi_g\circ\varphi_g =\varphi_S=\psi_f\circ \varphi_f
\]
and utilizing the uniqueness of the universal property. \\
Given any $\left(\mu_f:M_f\to S^{-1}M\right)_{f\in S}$ such that $\mu_f=\mu_g\circ \varphi_g'$, note that $\mu_f\circ \varphi_f=\mu_f\circ \mu_g\circ \varphi_g'=\mu_g\circ \varphi_g$. Thus we can define $\nu$ to be the unique map such that $\nu\circ \varphi_S=\mu_f\circ \varphi_f$.
\[
\begin{tikzcd}
    & N                                                  &                                    \\[+12pt]
M_f \arrow[rr, "\psi_f"] \arrow[ru, "\mu_f"] &                                                    & S^{-1}M \arrow[lu, "\nu"', dashed] \\[+12pt]
    & M \arrow[lu, "\varphi_f"] \arrow[ru, "\varphi_S"'] &                                   
\end{tikzcd}
\]
Hence we have 
\[
\left(\nu\circ \psi_f\right)\circ \varphi_f=\nu\circ\varphi_S =\mu_f\circ \varphi_f.
\]
By the uniqueness of the universal property of $M_f$, we have $\mu_f=\nu\circ \psi_f$. If there exists another $\nu'$ such that $\mu_f=\nu'\circ \psi_f$, there must be $\nu'\circ \varphi_S=\nu'\circ \psi_f \circ\varphi_f=\mu_f \circ\varphi_f=\nu\circ \varphi_S$. The uniqueness of such $\nu$ forces $\nu=\nu'$.\\
Therefore we show that $ S^{-1}M\cong \varinjlim_{f\in S}M_f$.
}
% \begin{Theorem}{Title}{label}
%     This is the statement of the theorem.
% \end{Theorem}

% \begin{corollary}{Title}{label}
%     This is the statement of the corollary.
% \end{corollary}

% \begin{claim}{Title}{label}
%     This is the statement of the claim.
% \end{claim}

% \begin{Example}{Title}{label}
%     This is an example.
% \end{Example}

% \begin{Definition}{Title}{label}
%     This is a definition.
% \end{Definition}
\end{document}