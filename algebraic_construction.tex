\documentclass{report}

\input{preamble}

%\tikzexternalize % activate!

\usepackage{chemfig}
\usepackage{relsize}
\usepackage{multirow}
\usepackage{colortbl}
\usepackage{mathrsfs}
\usepackage{bbm}


\newcommand{\poscell}[1]{\cellcolor{green!22}#1}
\newcommand{\negcell}[1]{\cellcolor{red!20}#1}

\newcommand{\Largewedge}{\mathlarger{\mathlarger{\wedge}}}
\newcommand{\largewedge}{\mathlarger{\wedge}}
\DeclareMathOperator*\lowlim{\underline{lim}}
\DeclareMathOperator*\uplim{\overline{lim}}
\DeclareMathSymbol{\mhyphen}{\mathord}{AMSa}{"39}
% Define \bigcdot
\makeatletter
\newcommand*\bigcdot{\mathpalette\bigcdot@{.5}}
\newcommand*\bigcdot@[2]{\mathbin{\vcenter{\hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}}
\makeatother

\definecolor{arrowBlue}{RGB}{66, 135, 245}
\definecolor{arrowRed}{RGB}{245, 93, 66}

\usetikzlibrary{cd, decorations.pathmorphing, nfold}
\tikzcdset{
  diagrams={/tikz/double/.append style=/tikz/nfold},
}
\tikzcdset{arrow style=tikz,
    squigarrow/.style={
        decoration={
        snake, 
        amplitude=.25mm,
        segment length=2mm
        }, 
        rounded corners=.1pt,
        decorate
        }
    }

\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}
\newcommand{\bld}[1]{\mbox{\boldmath $#1$}}
\newcommand{\spec}{\operatorname{Spec}}
\newcommand{\midv}{\,\middle\vert\,}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Start document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\begin{titlepage}
\begin{center}
	~\\
	\vspace{6em}
	{\fontsize{34}{48}\selectfont\textsc{Algebraic Construction}}
	~\\
	\vspace{2.5em}
	{\Large }
	~\\
	\vspace{6em}
	\textsf{\Large Huyi Chen}
	~\\
	\vspace{5in}
	{\large Latest Update: \today}
\end{center}
\end{titlepage}

\makeatletter
\MHInternalSyntaxOn
\def\MT_leftarrow_fill:{%
  \arrowfill@\leftarrow\relbar\relbar}
\def\MT_rightarrow_fill:{%
  \arrowfill@\relbar\relbar\rightarrow}
\newcommand{\xrightleftarrows}[2][]{\mathrel{%
  \raise.55ex\hbox{%
    $\ext@arrow 0359\MT_rightarrow_fill:{\phantom{#1}}{#2}$}%
  \setbox0=\hbox{%
    $\ext@arrow 3095\MT_leftarrow_fill:{#1}{\phantom{#2}}$}%
  \kern-\wd0 \lower.55ex\box0}}
\MHInternalSyntaxOff
\makeatother

\newpage
% table of contents
\tableofcontents
\thispagestyle{empty}
% Your document content here

\chapter*{Notation Conventions}

In this book, we use the following notation conventions:
\begin{itemize}
    \item $\mathbb{N}$: the set of natural numbers $\{0,1,2,\cdots\}$.
\end{itemize}
We use sans-serif font for categories. Some common categories are
\begin{itemize}
    \item $\mathsf{Set}$: the category of sets.
    \item $\mathsf{Mon}$: the category of monoids.
    \item $\mathsf{Grp}$: the category of groups.
    \item $\mathsf{Ab}$: the category of abelian groups.
    \item $\mathsf{Ring}$: the category of rings.
    \item $\mathsf{CRing}$: the category of commutative rings.
    \item $\mathsf{Fld}$: the category of fields.
    \item $R\text{-}\mathsf{Mod}$: the category of left $R$-modules, where $R\in \mathrm{Ob}\left(\mathsf{Ring}\right)$.
    \item $K\text{-}\mathsf{Vect}$: the category of $K$-vector spaces, where $K\in \mathrm{Ob}\left(\mathsf{Fld}\right)$.
    \item $R\text{-}\mathsf{Alg}$: the category of associative $R$-algebras, where $R\in \mathrm{Ob}\left(\mathsf{CRing}\right)$.
    \item $R\text{-}\mathsf{CAlg}$: the category of commutative $R$-algebras, where $R\in \mathrm{Ob}\left(\mathsf{CRing}\right)$.
    \item $\mathsf{Top}$: the category of topological spaces.
\end{itemize}

\include{set_theory}
\include{category_theory}
\include{group}
\include{topological_group}
\include{ring}
\include{commutative_ring}



\chapter{Module}
\section{Basic Concepts}
\dfn{Module}{
    Let $R$ be a ring. An left \textbf{$R$-module} is an abelian group $M$ with a binary operation $R\times M\to M$ such that
    \begin{enumerate}[(i)]
        \item $r(m+n)=rm+rn$ for all $r\in R$ and $m, n\in M$.
        \item $(r+s)m=rm+sm$ for all $r, s\in R$ and $m\in M$.
        \item $(rs)m=r(sm)$ for all $r, s\in R$ and $m\in M$.
        \item $1m=m$ for all $m\in M$.
    \end{enumerate}
    If $R$ is a commutative ring, then $M$ is called a \textbf{commutative $R$-module}.
}

\dfn{Homomorphism of $R$-modules}{
    Let $R$ be a ring and $M, N$ be $R$-modules. A map $f:M\to N$ is called an \textbf{$R$-module homomorphism} if
    \begin{enumerate}[(i)]
        \item $f(m+n)=f(m)+f(n)$ for all $m, n\in M$.
        \item $f(rm)=rf(m)$ for all $r\in R$ and $m\in M$.
    \end{enumerate}
    If $f$ is bijective, then $f$ is called an \textbf{$R$-module isomorphism}. If $M=N$, then $f$ is called an \textbf{$R$-module endomorphism}. If $f$ is bijective, then $f$ is called an \textbf{$R$-module automorphism}. Another name for a homomorphism of $R$-modules is an  \textbf{$R$-linear map}.
}

\prop{Ring Action on an Abelian Group}{
From the perspective of representation theory, a module is a ring action on an abelian group. To be more precise, a ring $R$ can be regarded as an $\mathsf{Ab}$-enriched category with only one object, called the delooping of $R$, denoted $\mathsf{B}R$. $\mathsf{Ab}$ itself is an $\mathsf{Ab}$-enriched category. Thus a left $R$-module $M$ is a functor between $\mathsf{Ab}$-enriched categories $\mathcal{M}:\mathsf{B}R\to \mathsf{Ab}$. 
\[
    \begin{tikzcd}[ampersand replacement=\&]
        \mathsf{B}R\&[-25pt]\&[+10pt]\&[-30pt] \mathsf{Ab}\&[-30pt]\&[-30pt] \\ [-15pt] 
        *  \arrow[dd, "r\in R"{name=L, left}] 
        \&[-25pt] \& [+10pt] 
        \& [-30pt] M\arrow[dd, "r_M\in \mathrm{End}_{\mathsf{Ab}}(M)"{name=R}] \&[-30pt]\\ [-10pt] 
        \&  \phantom{.}\arrow[r, "\mathcal{M}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
        * \& \& \&  M\&
    \end{tikzcd}
\]
As a map between objects, $\mathcal{M}$ specifies an abelian group $M$. and a ring homomorphism $R\to \mathrm{End}_{\mathsf{Ab}}(M)$, which is the ring action of $R$ on $M$. As a map between morphisms, $\mathcal{M}$ specifies a ring homomorphism $R\to \mathrm{End}_{\mathsf{Ab}}(M)$, which is $\mathbb{Z}$-bilinear, i.e. $r(m+n)=rm+rn$ for all $r\in R$ and $m, n\in M$. Define the ring representation category 
\[
\mathrm{Rep}_{\mathsf{Ab}}(R)=[\mathsf{B}R, \mathsf{Ab}]_{\mathsf{Ab}\text{-}\mathsf{Cat}}   
\]
to be the category of all functors between $\mathsf{Ab}$-enriched categories $\mathsf{B}R$ and $\mathsf{Ab}$. Then we have category isomorphism 
\[
    \mathrm{Rep}(R)\cong R\text{-}\mathsf{Mod}
\]
}
\prop{Ring homomorphism $R\to S$ induces functor $S\text{-}\mathsf{Mod}\to R\text{-}\mathsf{Mod}$}{
    Let $R$ and $S$ be rings with a ring homomorphism $f: R\to S$. Then every $S$-module $M$ is an $R$-module by defining $rm = f(r)m$, or equivalently through $R\to S\to \mathrm{End}_{\mathsf{Ab}}(M)$. This defines a functor $F: S\text{-}\mathsf{Mod}\to R\text{-}\mathsf{Mod}$, which is identify map on objects and morphisms.
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            S\text{-}\mathsf{Mod}\&[-25pt]\&[+10pt]\&[-30pt] R\text{-}\mathsf{Mod}\&[-30pt]\&[-30pt] \\ [-15pt] 
            M  \arrow[dd, "g"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt] M\arrow[dd, "g"{name=R}] \&[-30pt]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "F", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            N \& \& \&  N\&
        \end{tikzcd}
        \]  
}
In particular, ring homomorphism $R\to S$ makes $S$ an $R$-module.

\dfn{Noetherian Module}{
Let $R$ be a commutative ring, and let $M$ be an $R$-module. We say $M$ is \textbf{Noetherian} if one of the following equivalent conditions holds:
\begin{enumerate}[(i)]
    \item Every submodule of $M$ is finitely generated.
    \item Every ascending chain of submodules of $M$ stabilizes; that is, if
    $$
    N_1 \subseteq N_2 \subseteq N_3 \subseteq \cdots
    $$
    is a chain of submodules of $M$, then $\exists i$ such that $N_i=N_{i+1}=N_{i+2}=\ldots$.
    \item Every nonempty family of submodules of $M$ has a maximal element w.r.t. inclusion.
\end{enumerate}
}
\section{Construction}
\subsection{Free Object}
\dfn{Free Module}{
    Let $R$ be a ring and $S$ be a set. The \textbf{free $R$-module } on $S$, denoted by $\mathrm{Free}_{\mathrm{R}\text{-}\mathsf{Mod}}(S)$, together with a map $\iota:S\to \mathrm{Free}_{\mathrm{R}\text{-}\mathsf{Mod}}(S)$, is defined by the following universal property: for any $R$-module $M$ and any map $f:S\to M$, there exists a unique $R$-linear map $\widetilde{f}:\mathrm{Free}_{\mathrm{R}\text{-}\mathsf{Mod}}(S)\to M$ such that the following diagram commutes
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&]
            \mathrm{Free}_{\mathrm{R}\text{-}\mathsf{Mod}}(S)\arrow[r, dashed, "\exists !\,\widetilde{f}"]  \& M\\[0.3cm]
            S\arrow[u, "\iota"] \arrow[ru, "f"'] \&  
        \end{tikzcd}
    \end{center}
    The free $R$-module $\mathrm{Free}_{\mathrm{R}\text{-}\mathsf{Mod}}(S)$ can be contructed as the direct sum of copies of $R$ indexed by $S$, i.e. 
    \[
        \mathrm{Free}_{\mathrm{R}\text{-}\mathsf{Mod}}(S)\cong \bigoplus_{s\in S}R.
    \]
}

\dfn{Finitely Generated Module}{
    We say $M$ is a \textbf{finitely generated $R$-module} if 
    one of the following equivariant conditions holds:
    \begin{enumerate}[(i)]
        \item there exist $x_1, \ldots, x_n \in M$ such that every element of $M$ is an $R$-linear combination of the $x_i$. 
        \item there exists an epimorphism $R^{\oplus n} \rightarrow M$ for some $n \in \mathbb{Z}_+$.
        \item there exists an exact sequence
        \[
        R^{\oplus n}  \rightarrow M \rightarrow 0
        \]
        for some $n\in \mathbb{N}$.
        \item $S\cong R^{\oplus n}/M$ for some $n\in \mathbb{Z}_+$ and some submodule $M$ of $R^{\oplus n}$.
    \end{enumerate}
}
\dfn{Finitely Presented Module}{
    We say $M$ is a \textbf{finitely presented $R$-module} if 
    there exists an exact sequence
    \[
    R^{\oplus m} \rightarrow R^{\oplus n} \rightarrow M \rightarrow 0
    \]
    for some $m, n\in \mathbb{Z}_+$.
}

\subsection{Localization}
\dfn{Localization of a Module}{
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$, and $M$ be an $R$-module. The \textbf{localization of the module} $M$ by $S$, denoted $S^{-1}M$, is an $S^{-1}R$-module that is constructed exactly as the localization of $R$, except that the numerators of the fractions belong to $M$. That is, as a set, it consists of equivalence classes, denoted $\frac{m}{s}$, of pairs $(m, s)$, where $m\in M$ and $s\in S$, and two pairs $(m, s)$ and $(n, t)$ are equivalent if there is an element $u$ in $S$ such that
    \[u(sn-tm)=0.\]
    Addition and scalar multiplication are defined as for usual fractions (in the following formula, $r\in R$, $s,t\in S$, and $m,n\in M$):
    \[\frac{m}{s} + \frac{n}{t} = \frac{tm+sn}{st},\]
    \[\frac{r}{s} \frac{m}{t} = \frac{r m}{st}.\]
}


\prop{Universal Property of Localization}{
    Let $R$ be a commutative ring and $S\subseteq R$ be a multiplicative subset, an $M$ be an $R$-module. The $R$-linear map
    \begin{align*}
        \varphi:M&\longrightarrow S^{-1}M\\
         m&\longmapsto \frac{m}{1}
    \end{align*}
    satisfies the following universal property: for any $R$-linear map $\psi:M\to N$ such that $S$ act as automorphisms on $N$ (i.e. the induced ring homomorphism $\sigma_{N}:R\to\mathrm{End}_{\mathsf{Ab}}(N)$ satisfies $\sigma_{N}(S)\subseteq \mathrm{Aut}_{\mathsf{Ab}}(N)$), there exists a unique $R$-linear map
    \begin{align*}
        \psi':S^{-1}M&\longrightarrow N\\
        \frac{m}{s}&\longmapsto s^{-1}\psi(m)=\sigma_{N}(s)^{-1}(\psi(m))
    \end{align*}
    such that the following diagram commutes
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&]
         
            S^{-1}M\arrow[rr, "\psi'", dashed]\&\& N \&  \\             
            \&M \arrow[ru, "\psi"'] \arrow[lu, "\varphi"] \&                          
        \end{tikzcd}
    \end{center}
}
\prop{Localization is a Left Adjoint Functor}{ 
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$, and $M$ be an $R$-module. Define the localization functor as follows
    \[
        \begin{tikzcd}[ampersand replacement=\&]
           R\text{-}\mathsf{Mod}\&[-25pt]\&[+10pt]\&[-30pt] S^{-1}R\text{-}\mathsf{Mod}\&[-30pt]\&[-30pt] \\ [-15pt] 
            M  \arrow[dd, "f"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt] S^{-1}M\arrow[dd, "S^{-1}(f)"{name=R}] \&[-30pt]\ni
            \&[-30pt]\frac{m}{s}\arrow[dd,mapsto]\&[-30pt]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "S^{-1}", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            N \& \& \&  S^{-1}N\&[-30pt]\ni
            \&[-30pt]\frac{f(m)}{s}
        \end{tikzcd}
        \]  
        where $S^{-1}(f)$ is defiend as the composition $S^{-1}M\xrightarrow{f'} N\to S^{-1}N$. \\
        Let $F: S^{-1}R\text{-}\mathsf{Mod}\to R\text{-}\mathsf{Mod}$ be the functor that regards $S^{-1}R$-modules as $R$-modules. Then we have a pair of adjoint functors $S^{-1}\dashv F: R\text{-}\mathsf{Mod}\leftrightarrows S^{-1}R\text{-}\mathsf{Mod}$ and natural isomorphism
        \[
        \mathrm{Hom}_{S^{-1}R\text{-}\mathsf{Mod}}(S^{-1}M, N)\cong \mathrm{Hom}_{R\text{-}\mathsf{Mod}}(M, F(N)).    
        \]
}
\prop{Localization is an Exact Functor}{
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$. If $L\xrightarrow {u} M\xrightarrow {v} N$ is an exact sequence of $R$-module, then $S^{-1}L\xrightarrow {S^{-1}(u)} S^{-1}M\xrightarrow {S^{-1}(v)} S^{-1}N$ is an exact sequence of $S^{-1}R$-module.
}
\pf{
    Suppose $\frac{m}{s}\in \ker S^{-1}(v) $. Then we have
    \[
        S^{-1}(v)\left(\frac{m}{s}\right)=\frac{v(m)}{s}=\frac{0}{1},
    \]
    which imples that there exists $t\in S$ such that $tv(m)=v(tm)=0$. Thus we have $tm\in \ker v$. By exactness, there exists $l\in L$ such that $u(l)=tm$. Since 
    \[
        S^{-1}(u)\left(\frac{l}{ts}\right)=\frac{u(l)}{ts}=\frac{tm}{ts}=\frac{m}{s},
    \]
    we see that $\frac{m}{s}\in \operatorname{im}S^{-1}(u)$, which means $\operatorname{im}S^{-1}(u)=\ker S^{-1}(v)$. Hence $S^{-1}$ is exact.
}
\prop{Localization Respects Quotients}{
    Let $M$ be an $R$-module and $N$ be a submodule of $M$. Then we have an isomorphism $S^{-1}(M/N)\cong (S^{-1}M)/(S^{-1}N)$.
}
\pf{
    From the exact sequence
    \[
        0\longrightarrow N\longrightarrow M\longrightarrow M/N\longrightarrow 0,
    \]
    we have the exact sequence
    \[
        0\longrightarrow S^{-1}N\longrightarrow S^{-1}M\longrightarrow S^{-1}(M/N)\longrightarrow 0.
    \]
}
\prop{Localization as colimit}{
    Let $R$ be a commutative ring, $S$ be a multiplicative set in $R$, and $M$ be an $R$-module. Then we have an isomorphism
    \[
        S^{-1}M\cong \varinjlim_{f\in S}M_f,
    \]
    where $M_f$ is the localization of $M$ by the multiplicative set $S_f=\{f^n\mid n\in \mathbb{Z}_{\ge0}\}$. 
    
    Formally, $S$ can be endowed with a preorder relation: $f\mid g$ if and only if $fh=g$ for some $h\in S$, which makes $S$ a thin category $\mathsf{S}$. Then we can define a functor $M_{\text{\textbf{-}}}:\mathsf{S}\to R\text{-}\mathsf{Mod}$
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            \mathsf{S}\&[-25pt]\&[+10pt]\&[-30pt] R\text{-}\mathsf{Mod}\&[-30pt]\&[-30pt] \\ [-15pt] 
            f  \arrow[dd, ""{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt]M_f\arrow[dd, "\varphi_g'"{name=R}] \&[-30pt]\ni
            \&[-30pt]\frac{m}{f^n}\arrow[dd,mapsto]\&[-30pt]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "G", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            g \&\hspace{-3pt}=fh \& \&  M_g\&[-30pt]\ni
            \&[-30pt]\frac{mh^n}{g^n}
        \end{tikzcd}
        \]  
        where $\varphi_g'$ is given by the following  universal property
        \begin{center}
            \begin{tikzcd}[ampersand replacement=\&]
             
                M_f\arrow[rr, "\varphi_g'", dashed]\&\& M_g \&  \\             
                \&M \arrow[ru, "\varphi_g"'] \arrow[lu, "\varphi_f"] \&                          
            \end{tikzcd}
        \end{center}
        And we have
        \[
            S^{-1}M\cong \varinjlim M_{\text{\textbf{-}}}
        \]
}
\pf{
First let's show that the $\varphi'_g$ induced by universal property can be writen as $\varphi'_g:\frac{m}{f^n}\mapsto\frac{mh^n}{g^n}$. Suppose $R$ acts on $M_g$ through
\[
    \sigma_{M_g}:R\xrightarrow{}S^{-1}_gR\xrightarrow{\sigma_{M_g'}}\mathrm{End}_{\mathsf{Ab}}(M_g),
\]
Then we can check for any $f^n \in S_f$,
\[
    \sigma_{M_g}(f^n)\sigma_{M_g'}\left(\frac{h^n}{g^n}\right)=\sigma_{M_g'}\left(\frac{f^nh^n}{g^n}\right)=\sigma_{M_g'}\left(1\right)=1\implies \sigma_{M_g}(f^n)\in \mathrm{Aut}_{\mathsf{Ab}}(M_g),
\]
which means $\sigma_{M_g}(S_f)\subseteq  \mathrm{Aut}_{\mathsf{Ab}}(M_g)$. Thus by universal property of $M_f$, we have
\[
    \varphi'_g\left(\frac{m}{f^n}\right)=\sigma_{M_g}(f^n)^{-1}(m)=\sigma_{M_g'}\left(\frac{h^n}{g^n}\right)(m)=\frac{mh^n}{g^n}.
\]
In a similar way, we can check that $S_f$ can act on $S^{-1}M$ as automorphisms and induce $\psi_f$ by the following universal property
\begin{center}
    \begin{tikzcd}[ampersand replacement=\&]
     
        M_f\arrow[rr, "\psi_f", dashed]\&\& S^{-1}M\&  \\             
        \&M \arrow[ru, "\varphi_S"'] \arrow[lu, "\varphi_f"] \&                          
    \end{tikzcd}
\end{center}
And we are going to show that $\left(\psi_f:M_f\to S^{-1}M\right)_{f\in S}$ is the colimit of $G$. 
\[
\begin{tikzcd}[ampersand replacement=\&]
        \& N                                 \&                                                             \\[+15pt]
        \& S^{-1}M \arrow[u, "\nu"', dashed] \&                                                             \\[+10pt]
M_f \arrow[rr, "\varphi_g'"] \arrow[ru, "\psi_f"] \arrow[ruu, "\mu_f", bend left] \&                                   \& M_g \arrow[lu, "\psi_g"'] \arrow[luu, "\mu_g"', bend right]
\end{tikzcd}
\]
We can prove
\[
   \psi_f=\psi_g\circ \varphi_g'
\]
by checking
\[
    \left(\psi_g\circ \varphi_g'\right)\circ \varphi_f=\psi_g\circ\varphi_g =\varphi_S=\psi_f\circ \varphi_f
\]
and utilizing the uniqueness of the universal property. \\
Given any $\left(\mu_f:M_f\to S^{-1}M\right)_{f\in S}$ such that $\mu_f=\mu_g\circ \varphi_g'$, note that $\mu_f\circ \varphi_f=\mu_f\circ \mu_g\circ \varphi_g'=\mu_g\circ \varphi_g$. Thus we can define $\nu$ to be the unique map such that $\nu\circ \varphi_S=\mu_f\circ \varphi_f$.
\[
\begin{tikzcd}[ampersand replacement=\&]
    \& N                                                  \&                                    \\[+12pt]
M_f \arrow[rr, "\psi_f"] \arrow[ru, "\mu_f"] \&                                                    \& S^{-1}M \arrow[lu, "\nu"', dashed] \\[+12pt]
    \& M \arrow[lu, "\varphi_f"] \arrow[ru, "\varphi_S"'] \&                                   
\end{tikzcd}
\]
Hence we have 
\[
\left(\nu\circ \psi_f\right)\circ \varphi_f=\nu\circ\varphi_S =\mu_f\circ \varphi_f.
\]
By the uniqueness of the universal property of $M_f$, we have $\mu_f=\nu\circ \psi_f$. If there exists another $\nu'$ such that $\mu_f=\nu'\circ \psi_f$, there must be $\nu'\circ \varphi_S=\nu'\circ \psi_f \circ\varphi_f=\mu_f \circ\varphi_f=\nu\circ \varphi_S$. The uniqueness of such $\nu$ forces $\nu=\nu'$.\\
Therefore we show that $ S^{-1}M\cong \varinjlim_{f\in S}M_f$.
}

\subsection{Graded Object}

\dfn{$I$-Graded Module (External Definition)}{    
    Let $R$ be a ring and $I$ be a set. An \textbf{$I$-graded $R$-module} is a family of $R$-modules $\left(M_i\right)_{i\in I}$. The category of $I$-graded $R$-modules, denoted by $R\text{-}\mathsf{Mod}^I$, is simply the functor category $[I, R\text{-}\mathsf{Mod}]$, where $I$ is regarded as a discrete category.
}
\dfn[graded_module_over_ring_internal]{$I$-Graded Module (Internal Definition)}{
    Let $R$ be a ring and $I$ be a set. An \textbf{$I$-graded $R$-module} is an $R$-module $M$ together with a family of submodules $\left(M_i\right)_{i\in I}$ such that
    \[
        M=\bigoplus_{i\in I}M_i.
    \]
}
\prop{$R\text{-}\mathsf{Mod}^I$ is a Monoidal Category}{
    Let $R$ be a ring and $I$ be a commutative monoid. Then $\left(R\text{-}\mathsf{Mod}^I,\otimes\right)$ is a monoidal category with tensor product defined as
    \[
        \left(M\otimes N\right)_i=\bigoplus_{j+k=i}M_j\otimes N_k.
    \]
}


\dfn[graded_module_over_graded_ring_internal]{$I$-Graded Module over an Graded Ring (Internal Definition)}{
    Let $(I,+)$ be a monoid and $R$ be a $I$-graded ring with grading $(R_i)_{i\in I}$. An \textbf{$I$-graded module over graded ring $R$} is an $R$-module $M$ together with a family of submodules $\left(M_i\right)_{i\in I}$ such that
    \begin{enumerate}[(i)]
        \item $M=\bigoplus_{i\in I}M_i$.
        \item $R_iM_j\subseteq M_{i+j}$ for all $i, j\in I$.
    \end{enumerate}
}
When $I$ is a monoid, \Cref{th:graded_module_over_ring_internal} is a special case of \Cref{th:graded_module_over_graded_ring_internal} because any ring $R$ can be regarded as a graded ring with trivial grading $R_0=R$ and $R_i=0$ for all $i\ne0$.


\chapter{Associate Algebra}

\section{Basic Properties}
\dfn{Associative Algebra over Commutative Ring}{
    Let $R$ be a commutative ring. An \textbf{associative $R$-algebra} is a ring $A$ together with a ring homomorphism $\sigma:R\to Z(A)$, which makes $A$ an $R$-module by defining 
    $$
    r\cdot a=\sigma(r)a
    $$
    for all $r\in R$ and $a\in A$. \\
    We can check that 
\[
  r\cdot (ab)=\sigma(r)ab=(r\cdot a)b=\sigma(r)ab=a\left(\sigma(r)b\right) =a(r\cdot b),
\]
which justifies the naming ``associative". 
}
We usually call associative $R$-algebra as $R$-algebra for short.

\prop{Commutative Ring homomorphism $R\to S$ induces functor $S\text{-}\mathsf{Alg}\to R\text{-}\mathsf{Alg}$}{
    Let $R$ and $S$ be commutative rings with a ring homomorphism $f: R\to S$. Then every $S$-algebra $A$ is an $R$-algebra by defining $ra = f(r)a$, or equivalently through $R\to S\to Z(A)$. This defines a functor $F: S\text{-}\mathsf{Alg}\to R\text{-}\mathsf{Alg}$, which is identify map on objects and morphisms.
    \[
        \begin{tikzcd}[ampersand replacement=\&]
            S\text{-}\mathsf{Alg}\&[-25pt]\&[+10pt]\&[-30pt] R\text{-}\mathsf{Alg}\&[-30pt]\&[-30pt] \\ [-15pt] 
            A  \arrow[dd, "g"{name=L, left}] 
            \&[-25pt] \& [+10pt] 
            \& [-30pt] A\arrow[dd, "g"{name=R}] \&[-30pt]\\ [-10pt] 
            \&  \phantom{.}\arrow[r, "F", squigarrow]\&\phantom{.}  \&   \\[-10pt] 
            B \& \& \&  B\&
        \end{tikzcd}
        \]  
}
In particular, commutative ring homomorphism $R\to S$ makes $S$ an $R$-algebra.

\section{Construction}
\subsection{Quotient Object}

\dfn{Quotient Algebra}{
    Let $A$ be an $R$-algebra and $\mathfrak{a}$ be a two-sided ideal of $A$. Since $\mathfrak{a}$ is an $R$-submodule of $A$, the quotient ring $A/\mathfrak{a}$ can also be endowed with an $R$-module structure, which makes $A/\mathfrak{a}$ an $R$-algebra. We call $A/\mathfrak{a}$ the \textbf{quotient algebra} of $A$ by $\mathfrak{a}$.
}

\subsection{Graded Object}

\dfn{$I$-Graded Algebra over an Graded Commutative Ring}{
    Let $(I,+)$ be a monoid and $R$ be a $I$-graded commutative ring with grading $(R_i)_{i\in I}$. An \textbf{$I$-graded algebra over graded ring $R$} is an $R$-algebra $A$ together with a family of subalgebras $\left(A_i\right)_{i\in I}$ such that
    \begin{enumerate}[(i)]
        \item $A=\bigoplus_{i\in I}A_i$.
        \item $A_iA_j\subseteq A_{i+j}$ for all $i, j\in I$.
        \item $R_iA_j\subseteq A_{i+j}$ for all $i, j\in I$.
    \end{enumerate}
    Elements in $A_i$ are called \textbf{homogeneous elements of degree $i$}.
}

\prop{Graded Algebra Quotients out Graded Ideal}{
    Let $A$ be an $I$-graded algebra over graded ring $R$ with grading $(A_i)_{i\in I}$ and $\mathfrak{a}$ be a graded two-sided ideal of $A$. Then $A/\mathfrak{a}$ has decomposition
    \[
    A/ \mathfrak{a}=\bigoplus_{i\in I}A_i/\left(\mathfrak{a}\cap A_i\right),    
    \]
    which makes $A/\mathfrak{a}$ an $I$-graded algebra.
}


\ex{Polynomial Algebra $R[X_1,\cdots,X_n]$}{
    Let $R$ be a commutative ring and $X_1,\cdots,X_n$ be indeterminates. Then $R[X_1,\cdots,X_n]$ is an $\mathbb{N}$-graded $R$-algebra with grading $R[X_1,\cdots,X_n]_i$ being the set of homogeneous polynomials of degree $i$.
}


\section{Tensor Algebra}
\dfn{Tensor Algebra $T^{\bullet}(M)$}{
    Given a $R$-module $M$, the \textbf{$k$-th tensor power of $M$} is defined as
    \begin{align*}
        T^k(M)&=M^{\otimes k}=\underbrace{M\otimes_R\cdots\otimes_R M}_{k\text{ times}},\\
        T^0(M)&=R.
    \end{align*}
    The \textbf{tensor algebra} of $M$ is defined as
    \[
        T^{\bullet}(M)=\bigoplus_{k=0}^{\infty}T^k(M)
    \]
    with multiplication $\otimes$ defined as
    \[
        (m_1\otimes\cdots\otimes m_k)\otimes(m_{k+1}\otimes\cdots\otimes m_{k+l})=m_1\otimes\cdots\otimes m_{k+l}
    \]
    $T^{\bullet}(M)$ is an $\mathbb{N}$-graded $R$-algebra with grading $(T^k(M))_{k\ge 0}$.
}

\section{Exterior Algebra and Symmetric Algebra}
\dfn{Exterior Algebra $\Largewedge^{\bullet} (M)$}{
    Given an $R$-module $M$, 
    \begin{align*}
        I_{\largewedge}(M) & :=\langle x \otimes x: x \in M\rangle
    \end{align*}
    is a graded two-sided ideal of $T^{\bullet}(M)$. The \textbf{exterior algebra} of $M$ is defined as
    \[
        \largewedge^{\bullet} (M)=T^{\bullet}(M)/I_{\largewedge}(M).
    \]
    The multiplication of $\Largewedge^{\bullet} (M)$ is denoted by $\wedge$ and is called the \textbf{wedge product}.
    The grading of $\Largewedge^{\bullet} (M)$ is given by 
    \begin{align*}
        \largewedge^{\bullet} (M)=\bigoplus_{k=0}^{\infty}\largewedge^k(M),
    \end{align*}
    where 
    \[
        \largewedge^k(M)=T^k(M)/\left(I_{\largewedge}(M)\cap T^k(M)\right)
    \] 
    is called the \textbf{$k$-th exterior power of $M$}.
}

\section{Commutative Algebra}
\dfn{Commutative Algebra}{
    Let $R$ be a commutative ring. A \textbf{commutative $R$-algebra} is an $R$-algebra where the multiplication is commutative. Or equivalently, a commutative $R$-algebra is a commutative ring $A$ together with a ring homomorphism $R\to A$. Hence there is a category isomorphism $R\text{-}\mathsf{CAlg}\cong \left(R/\mathsf{CRing}\right)$.
}


\dfn{Free Commutative Algebra}{
    Let $X$ be a set and $R$ be a commutative ring. The \textbf{free commutative $R$-algebra} on $X$, denoted by $\mathrm{Free}_{R\text{-}\mathsf{CAlg}}(X)$, together with a map $\iota:X\to \mathrm{Free}_{R\text{-}\mathsf{CAlg}}(X)$, is defined by the following universal property: for any commutative $R$-algebra $A$ and any map $f:X\to A$, there exists a unique homomorphism $\widetilde{f}:\mathrm{Free}_{R\text{-}\mathsf{CAlg}}(X)\to A$ such that the following diagram commutes
    \begin{center}
        \begin{tikzcd}[ampersand replacement=\&]
            \mathrm{Free}_{R\text{-}\mathsf{CAlg}}(X)\arrow[r, dashed, "\exists !\,\widetilde{f}"]  \& A\\[0.3cm]
            X\arrow[u, "\iota"] \arrow[ru, "f"'] \&  
        \end{tikzcd}
    \end{center}
    The free $R$-module $\mathrm{Free}_{R\text{-}\mathsf{CAlg}}(X)$ can be contructed as the polynomial algebra $R[X]$.
}
\dfn{Finite-type Commutative Algebra}{
    Let $R\to A$ be a commutative ring homomorphism. We say $A$ is a \textbf{finite-type $R$-algebra}, or that $R\to A$ is \textbf{of finite type}, if one of the following equivalent conditions holds:
    \begin{enumerate}[(i)]
        \item there exists a finite set of elements $a_1,\cdots,a_n$ of A such that every element of $A$ can be expressed as a polynomial in $a1,\cdots,an$, with coefficients in $K$.
        \item there exists a finite set $X$ such that $A\cong R[X]/I$ as $R$-algebra where $I$ is an ideal of $R[X]$.
    \end{enumerate}
    
}

\prop{}{
    Let $A$ be a $R$-algebra. If $A$ is finitely generated as an $R$-module, then $A$ is a finite-type $R$-algebra.
}
\pf{
    This holds because if each element of $A$ can be expressed as an $R$-linear combination of finitely many elements of $A$, then each element of $A$ can also be expressed as a polynomial in finitely many elements of $A$ with coefficients in $R$.

    An alternative proof can be given by utilizing the universal property of the free contruction. Suppose $A$ is finitely generated as an $R$-module. Then there exists some a finite set $X=\{x_1,\cdots,x_n\}$ and a surjective $R$-linear map $\varphi:R^{\oplus X}\to A$. Define $f=\varphi\circ \iota$, where $\iota:X\to R^{\oplus X}$ is the inclusion map. 
     \begin{center}
        \begin{tikzcd}[ampersand replacement=\&]
            R^{\oplus X}\arrow[r, dashed, "\exists !\,\widetilde{j}"]  \&R[X]\arrow[r, dashed, "\exists !\,\widetilde{f}"]  \& A\\[0.3cm]
            \& X\arrow[ul, "\iota"] \arrow[u, "j"] \arrow[ru, "f:=\varphi\circ \iota"'] \&  
        \end{tikzcd}
    \end{center}
    The universal property of free $R$-module induces a unique $R$-linear map $\widetilde{j}:R^{\oplus}\to R[X]$ such that $j=\widetilde{j}\circ \iota$. And the universal property of free commutative $R$-algebra induces a unique $R$-algebra homomorphism $\widetilde{f}:R[X]\to A$ such that $f=\widetilde{f}\circ j$. Note $f=\varphi\circ \iota=\left(\widetilde{f}\circ \widetilde{j}\right)\circ \iota$. By the uniqueness of the universal property of $R^{\oplus}$, we have $\widetilde{f}\circ \widetilde{j}=\varphi$. Since $\widetilde{f}\circ \widetilde{j}$ is surjective, $\widetilde{f}$ must be surjective, which implies $A$ is a finite-type $R$-algebra.
}

\chapter{Field Theory}
\section{Field Extension}
\dfn{Field}{
    A \textbf{field} is a commutative ring $K$ such that $K^{\times}=K-\{0\}$.
}
\prop{}{
    If $K$ is a field, $R$a ring homomorphism $f:K\to R$.
}
\dfn{Field Extension}{
    Let $K$ be a field and $L$ be a commutative ring. 
}

\lemm{Zariski's Lemma}{
    If a field is a finite-type $K$-algebra, then it is a finite extension of $K$ (that is, it is also finitely generated as a $K$-linear space).
}

\thm{Hilbert's Weak Nullstellensatz}{
    If $\overline{\Bbbk}$ is an algebraically closed field, then the maximal ideals of $\overline{\Bbbk}\left[x_1, \cdots, x_n\right]$ are precisely those ideals of the form $\left(x_1-a_1, \cdots, x_n-a_{n}\right)$, where $a_i\in \overline{\Bbbk}$. 
}

\thm{Hilbert's Nullstellensatz}{
    If $\Bbbk$ is any field and $\mathfrak{m}$ is a maximal ideal of $\Bbbk\left[x_1, \ldots, x_n\right]$, then $\Bbbk\left[x_1, \ldots, x_n\right]/\mathfrak{m}$ is a finite extension of $\Bbbk$.
}

\chapter{Valuation Theory}
\section{Valuation of Ring}
\dfn[totally_ordered_abelian_group]{Totally Ordered Abelian Group}{
    Suppose $(\Gamma,+)$ is an abelian group and $\le$ is a \hyperref[th:homogeneous_relation]{total order} on $\Gamma$. Totally ordered abelian group is a tuple $(\Gamma,+,\le)$ such that for any $a,b,c\in \Gamma$,
    \[
    a\le b \implies a+c\le b+c.
    \]
    The total order $\le$ can induce a strict total order $<$ on $\Gamma$ by defining $a<b\iff a\le b$ and $a\ne b$.
}
\prop{Properties of Totally Ordered Abelian Group}{
    Let $(\Gamma,+,\le)$ be a totally ordered abelian group. Then
    \begin{enumerate}[(i)]
        \item $a\le a',b\le b'\implies a+b\le a'+b'$.
        \item $x\le y\iff -y\le -x$. 
        \item $\Gamma$ is torsion-free. That is, for all $n\in\mathbb{Z}_{\ge1}$ and $a\in\Gamma$, 
        \[
            na= 0\implies 
            a= 0.
        \] 
    \end{enumerate}
}
\pf{
    \begin{enumerate}[(i)]
        \item If $a\le a',b\le b'$, then $a+b\le a'+b\le a'+b'$.
        \item $x\le y\implies x-x-y\le y-x-y\implies -y\le -x$. The other direction is similar.
        \item If $a>0$, then $na>0$ for all $n\in \mathbb{Z}_{\ge 1}$. If $a<0$, then $na<0$ for all $n\in \mathbb{Z}_{\ge 1}$. Therefore, if $a\ne 0$, then $na\ne 0$ for all $n\in \mathbb{Z}_{\ge 1}$.
        
    \end{enumerate}
}
\prop{Extended Totally Ordered Abelian Group}{
    Let $(\Gamma,+,\le)$ be a totally ordered abelian group. The total order and group addition on $\Gamma$ are extended to the set $\Gamma \cup\{\infty\}$ by the rules:
    \begin{itemize}
        \item $\alpha\le\infty$ for all $\alpha \in \Gamma\cup\{\infty\}$,
        \item $\infty+\alpha=\alpha+\infty=\infty$ for all $\alpha \in \Gamma\cup\{\infty\}$.
    \end{itemize}
}

\dfn{Valuation of Ring}{
    Let $R$ be a commutative ring, and $(\Gamma, +, \leq)$ be a totally ordered abelian group. A valuation on $R$ with value group $\Gamma$ refers to a mapping $v: R \rightarrow \Gamma \sqcup\{\infty\}$ satisfying the following properties:
    \begin{itemize}
        \item $v(1)=0$, $v(0)=\infty$,
        \item $v(x y)=v(x)+v(y), \quad\forall x, y \in R$,
        \item $v(x+y) \geq \min \{v(x), v(y)\}, \quad\forall x, y \in R$.        
    \end{itemize}
    Furthermore, we require that $v(R) -\{\infty\}$ generates the group $\Gamma$. If there exists an embedding of the totally ordered abelian group $\Gamma \hookrightarrow \mathbb{R}$, then $v$ is referred to as a rank 1 valuation.
}
\prop{Properties of Valuation of Ring}{
    Let $v:R\to \Gamma \cup\{\infty\}$ be a valuation of a commutative ring $R$. Then
    \begin{enumerate}[(i)]
        \item If $x\in R^\times$, then $v(x^{-1})=-v(x)$.
        \item $v(R^\times)$ is a subgroup of $\Gamma$.
        \item If $a^n=1$ for some $n\in\mathbb{Z}_{\ge1}$, then $v(a)=0$. Specially, $v(-1)=0$.
        \item $v(-a)=v(a)$ for all $a\in R$.
        \item $v^{-1}\left(\infty\right)$ is a prime ideal of $R$.
        \item By the universal property quotient set, $v$ induces a map
        \begin{align*}
            \tilde{v}: R/v^{-1}\left(\infty\right)&\longrightarrow \Gamma\cup\{\infty\}\\
            x+v^{-1}\left(\infty\right)&\longmapsto v(x)
        \end{align*}
        Moreover, $\tilde{v}$ is a valuation of $R/v^{-1}\left(\infty\right)$.
        \item For any $x_1,\cdots,x_n\in R$, we have
        \[
            v\left(x_1+\cdots+x_n\right) \geq \min \left\{v\left(x_1\right), \cdots, v\left(x_n\right)\right\}
            \]
        If there exists $j$ such that for all $i\ne j$ we have $v(x_j)<v(x_i)$, then the equality 
        \[
            v\left(x_1+\cdots+x_n\right) = v(x_j)
            \]
            holds.
    \end{enumerate}
}
\pf{
    \begin{enumerate}[(i)]
        \item $v(x^{-1})=v(x^{-1}x)-v(x)=v(1)-v(x)=-v(x)$.
        \item If $x\in R^\times$, then $v(x)+v(x^{-1})=0\implies v(x)\ne \infty$. 
        \item $v(a^n)=nv(a)=0\implies v(a)=0$.
        \item $v(-a)=v(-1)+v(a)=0+v(a)=v(a)$.
        \item For any $x,y\in v^{-1}(\infty)$, we have $v(x+y)\ge \min\left(v(x),v(y)\right)=\infty$, which means $x+y\in v^{-1}(\infty)$. For any $r\in R$ and $x\in v^{-1}(\infty)$, we have $v(rx)=v(r)+v(x)=\infty$, which means $rx\in v^{-1}(\infty)$. Thus $v^{-1}(\infty)$ is a ideal of $R$. If $x,y\in R$ and $xy\in v^{-1}(\infty)$, then $v(xy)=v(x)+v(y)=\infty$, which means $x\in v^{-1}(\infty)$ or $y\in v^{-1}(\infty)$. Thus $v^{-1}(\infty)$ is a prime ideal of $R$.
        \item We first check $\tilde{v}$ is well-defined. If $x-y=a\in v^{-1}(\infty)$, then we have 
        \[
            v(x)=v(y+a)\ge \min\left\{v(y),v(a)\right\}=\min\left\{v(y),\infty\right\}=v(y).
        \]
        Similarly, we have $v(y)=v(x-a)\ge v(x)$, which means $v(x)=v(y)$. Thus $\tilde{v}$ is well-defined. It is easy to check that $\tilde{v}$ is a valuation.
    \end{enumerate}
}
% \dfn{Trivial Valuation}{
%     A valuation $v$ on a commutative ring $R$ is called \textbf{trivial} if 
%     \[
%         v(x)=\begin{cases}
%             0 & \text{if }x\in R^{\times},\\
%             \infty & \text{if }x\notin R^{\times}.
%         \end{cases}
%     \]
% }

\section{Valuation of Field}
\dfn[valuation_of_field]{Valuation of Field}{
    Suppose $K$ is a field and $(\Gamma,+,\ge)$ is an totally ordered abelian group. 
Then a \textbf{valuation of $K$} is any map
$$
v: K \rightarrow \Gamma \cup\{\infty\}
$$
which satisfies the following properties for all $a, b$ in $K$ :
\begin{itemize}
    \item $v(a)=\infty$ if and only if $a=0$,
    \item $v(a b)=v(a)+v(b)$, i.e. $v$ is a abelian group homomorphism from $K^{\times}$ to $\Gamma$,
    \item $v(a+b) \geq \min (v(a), v(b))$, with equality if $v(a) \neq v(b)$.
\end{itemize}
}
\dfn{Value Group}{
    The \textbf{value group} of a valuation $v$ is the subgroup of $\Gamma$ defined as $v(K^{\times})$.
}
\dfn{Discrete Valuation}{
    A \textbf{discrete valuation} on a field $K$ is a valuation $v: K\to \mathbb{Z} \cup\{\infty\}$.
}
\dfn{Valuation Ring}{
    The \textbf{valuation ring} of a valuation $v$ is the subring of $K$ defined as
    $$
    \mathcal{O}_{v}:=\{a \in K: v(a) \geq 0\}.
    $$
}
\prop{}{
    Suppose $v$ is a valuation of a field $K$. Then the unit group of $\mathcal{O}_{v}$ has the form 
    $$
    \mathcal{O}_{v}^{\times}=\{a \in K: v(a)=0\}.
    $$  
}
\pf{
    For any $a\in \mathcal{O}_{v}^{\times}$, we have $a^{-1}\in \mathcal{O}_{v}$ and $v(a)=-v(a^{-1})\le 0$. This forces $v(a)=0$. Conversely, for any $a\in K$ such that $v(a)=0$, we have $v(a^{-1})=-v(a)=0$, which means $a^{-1}\in \mathcal{O}_{v}$. Thus $a\in \mathcal{O}_{v}^{\times}$.
}
\dfn{Residue Field of a Valuation}{
    Suppose $v$ is a valuation of a field $K$. Then
    $$
    \mathfrak{m}_v := \{a \in K: v(a)>0\}
    $$
    is a maximal ideal of $\mathcal{O}_{v}$. The \textbf{residue field} of $v$ is defined as $\kappa_v=\mathcal{O}_{v}/\mathfrak{m}_v$.
}
\dfn{Equivalent Valuation}{
    Suppose a filed $K$ has two valuations $v:K\to\Gamma \cup\{\infty\}$ and $v':K\to\Gamma' \cup\{\infty\}$. we say $v$ and $v'$ are \textbf{equivalent} if there is an order-preserving group isomorphism $\varphi: v(K^\times) \rightarrow v'(K^\times)$ such that $v'=v\circ \varphi$.
}
\prop{}{
   Two valuations are equivalent if and only if their valuation rings are equal.
}
\prop{}{
    Suppose $v$ is a valuation of a field $K$ and $\varpi$ is an element in $\mathcal{O}_v-\{0\}$ such that 
    $$
    \sup\left\{n v\left(\varpi\right)\in \Gamma\mid n\in\mathbb{N}\right\}=\infty.
    $$
    Then there is a natural isomorphism $K\cong \mathcal{O}_v\left[\frac{1}{\varpi}\right]$.
}
\pf{
    Since $K=\mathrm{Frac}(\mathcal{O}_v)$, we have an embedding $\mathcal{O}_v\left[\frac{1}{\varpi}\right]\hookrightarrow K$. For any $x\in K$, there exists $n\in \mathbb{N}$ such that $nv(\varpi)\ge -v(x)$. Thus
    \[
    v(x\varpi^n)= v(x)+nv(\varpi)\ge 0\implies x\varpi^n\in \mathcal{O}_v\implies x\in \mathcal{O}_v\left[\frac{1}{\varpi}\right].
    \]
}

\chapter{Number Theory}
\section{$p$-adic Numbers}


\dfn{$p$-adic Integer}{
    Let $p$ be a prime number. The $p$-adic integer topological ring is defined as
    \[
    \mathbb{Z}_p=\varprojlim_{n}\mathbb{Z}/p^n\mathbb{Z}.    
    \]
    The universal property of $\mathbb{Z}_p$ is given by the following commutative diagram
    \[
        \begin{tikzcd}[ampersand replacement=\&, row sep=30pt]
            \&                                    \&                  \&                                    \&                  \& G \arrow[d, dashed] \arrow[rdd]                                                    \&                  \\
            \&                                    \&                  \&                                    \&                  \& \mathbb{Z}_p \arrow[d] \arrow[lld] \arrow[lllld] \arrow[llllld] \arrow[rd] \&                  \\
\mathbb{Z}/p\mathbb{Z} \& \mathbb{Z}/p^2\mathbb{Z} \arrow[l] \& \cdots \arrow[l] \& \mathbb{Z}/p^n\mathbb{Z} \arrow[l] \& \cdots \arrow[l] \& \mathbb{Z}/p^m\mathbb{Z} \arrow[l]                                                 \& \cdots \arrow[l]
\end{tikzcd}
\]

}
A $p$-adic integer can be represented as a sequence
$$
x=\left(x_1 \bmod p, x_2 \bmod p^2, x_3 \bmod p^3, \ldots\right)
$$
such that $x_{n+1}\equiv x_n \bmod p^n$ for all $n\in \mathbb{Z}_{\ge 1}$. Writing in base-$p$ form, $x_n \bmod p^n$ can be represented as 
\[
x_n =a_0+a_1p+\cdots+a_{n-1}p^{n-1}= \left(\,\overline{ a_{n-1}\cdots a_1a_0}\,\right)_p.    
\]
The condition $x_{n+1}\equiv x_n \bmod p^n$ means that $x_{n+1}$ and $x_n$ have the same last $n$ digits in base-$p$ form. Thus $p$-adic integer $x$ can be thought as a base-$p$ interger with infinite digits
\[
x =a_0+a_1p+\cdots+a_{n}p^{n}+\cdots= \left(\,\overline{\cdots a_{n}\cdots a_1a_0}\,\right)_p.
\]
The projection map $\pi_n:\mathbb{Z}_p\to \mathbb{Z}/p^n\mathbb{Z}$ is the  truncation map that truncates the last $n$ digits of $x$ in base-$p$ form.

\dfn{$p$-adic Valuation}{
    Let $p$ be a prime number. The \textbf{$p$-adic valuation} is defined as
    \begin{align*}
        v_p:\mathbb{Q}&\longrightarrow \mathbb{Z}\cup\{\infty\}\\
        \frac{a}{b}&\longmapsto \begin{cases}
            \infty & \text{if }a=0,\\
            \max\{n\in \mathbb{Z}\mid p^n\mid a\}-\max\{n\in \mathbb{Z}\mid p^n\mid b\} & \text{if }a\ne 0.
        \end{cases}
    \end{align*}

}

The \textbf{$p$-adic absolute value} is defined as
\begin{align*}
    \left|\,\cdot\,\right|_p:\mathbb{Q}&\longrightarrow \mathbb{R}_{\ge 0}\\
    x&\longmapsto \begin{cases}
        0 & \text{if }a=0,\\
        p^{-v_p(x)} & \text{if }x\ne 0.
    \end{cases}
\end{align*}

\dfn{Global Field}{
    A \textbf{global field} is a field isomorphic to one of the following:
    \begin{itemize}
        \item a \textbf{number field}: finite extension of $\mathbb{Q}$,
        \item a \textbf{function field} over a finite field $\mathbb{F}_q$: finite extension of $\mathbb{F}_q(t)$.
    \end{itemize}
}
\dfn{Local Field}{
    A \textbf{local field} is a field isomorphic to one of the following:
    \begin{itemize}
        \item (Character zero): $\mathbb{R}$, $\mathbb{C}$ or a finite extension of $\mathbb{Q}_p$,
        \item (Character $p>1$): the field of formal Laurent series  $\mathbb{F}_q((t))$, where $q=p^n$.
    \end{itemize}
}
\section{Dirichlet Charater}
\dfn{Euler's Totient Function}{
    The \textbf{Euler's totient function} is defined as
    \begin{align*}
        \varphi:\mathbb{N}&\longrightarrow \mathbb{N}\\
        n&\longmapsto \left|\left\{a\in \mathbb{N}\mid 1\le a\le n, (a,n)=1\right\}\right|.
    \end{align*}
}
\prop{Euler's Product Formula}{
    For any $n\in \mathbb{N}$, we have
    \[
        \varphi(n)=\sum_{k=1}^n \mathbbm{1}_{(k,n)=1}=n\prod_{p\mid n}\left(1-\frac{1}{p}\right).
    \]
}
\prop{Properties of Euler's Totient Function}{
    For any $m,n\in \mathbb{N}$, we have
    \begin{enumerate}[(i)]
        \item $\varphi(mn)=\varphi(m)\varphi(n)$ if $(m,n)=1$.
        \item $\varphi(n)\mid n$.
        \item $\varphi(n)=n$ if and only if $n=1$.
        \item $\varphi(p^k)=p^k-p^{k-1}$ for any prime $p$ and $k\in \mathbb{N}$.
        \item $\varphi(n)\le n-\sqrt{n}$ for any $n\in \mathbb{N}$.
    \end{enumerate}
}

\dfn{Dirichlet Character}{
    Given any group homomorphism $\rho_m:(\mathbb{Z} / m \mathbb{Z})^{\times} \rightarrow \mathbb{C}^{\times}$, we can define a function $\chi:\mathbb{Z} \rightarrow \mathbb{C}$ by
    \begin{align*}
        \chi_m(a)=\left\{\begin{array}{lll}
            0 & \text { if }[a] \notin(\mathbb{Z} / m \mathbb{Z})^{\times} & \text {i.e. }(a, m)>1 \\
            \rho([a]) & \text { if }[a] \in(\mathbb{Z} / m \mathbb{Z})^{\times} & \text {i.e. }(a, m)=1
            \end{array}\right.
    \end{align*}
    Such function $\chi_m$ is called a \textbf{Dirichlet character modulo $m$}.
}
\dfn{Principal Dirichlet Character}{
    The \textbf{principal Dirichlet character modulo $m$} is the simplest Dirichlet character defined by
    \begin{align*}
        \chi_0\left(a\right)=\left\{\begin{array}{lll}
            0 & \text { if } a \neq 1 \\
            1 & \text { if } a=1
            \end{array}\right.
    \end{align*}
}


\chapter*{Appendix}
\begin{table}[h]
    \centering
    \renewcommand{\arraystretch}{1.6}
    \begin{tabular}{l|m{5.3cm}|m{5.3cm}}
        \toprule
        \textbf{Category}       & \multicolumn{1}{c|}{\textbf{Initial Object}} & \multicolumn{1}{c}{\textbf{Terminal Object}}             \\ 
        \midrule
        \midrule
        $\mathsf{Set}$ & \multicolumn{1}{c|}{$\varnothing$}  & \multicolumn{1}{c}{$\{*\}$} \\ \midrule
        $\mathsf{Top}$ & \multicolumn{1}{c|}{$\varnothing$}  & \multicolumn{1}{c}{$\{*\}$} \\ \midrule
        $\mathsf{Grp}$ & \multicolumn{2}{c}{$\{0\}$}                                       \\ \midrule
        $R\text{-}\mathsf{Mod}$  & \multicolumn{2}{c}{$\{0\}$}                                       \\ \midrule
        $\mathsf{Ring}$ & \multicolumn{1}{c|}{$\mathbb{Z}$} & \multicolumn{1}{c}{$\{0\}$}            \\ \midrule
        $\mathsf{Sch}$ & \multicolumn{1}{c|}{$\spec\mathbb{Z}$} & \multicolumn{1}{c}{$\spec \{0\}=\varnothing$ }           \\ \midrule
        $\mathsf{Field}_p$ & \multicolumn{1}{c|}{\begin{minipage}{.3\linewidth}$$
            \begin{array}{ll} 
                \mathbb{Q} & \text{if } p=0 \\
                \mathbb{F}_p & \text{if } p>0 
            \end{array}
            $$\end{minipage}} &             \\ \bottomrule
    \end{tabular}
\end{table}
\newpage

\begin{center}
    \Large
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|P{4.4cm}|m{5.3cm}|m{5.3cm}|}
        \hline
        {\bf Diagram} &\multicolumn{1}{c|}{\bf  Limit }& \multicolumn{1}{c|}{\bf Colimit } \\ 
        \hline\hline
        Empty Category $\varnothing$ & Terminal Object
        \begin{center}
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                \circ \arrow[r, dash pattern=on 4pt off 2pt, draw=arrowRed] & \varprojlim\\[-2em]
            \end{tikzcd}
        \end{center}
        & Initial Object
        \begin{center}
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                 \varinjlim\arrow[r, dash pattern=on 4pt off 2pt, draw=arrowRed]&\circ  \\[-2em]
            \end{tikzcd}
        \end{center}
        \\ 
        \hline
        Discrete Category  $\bullet\;\bullet\;\bullet\;\bullet\;\cdots$& Product & Coproduct \\
        \hline
        $\bullet\qquad\bullet$ & Finite Product
        \begin{center}
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                & \circ \arrow[d, dash pattern=on 4pt off 2pt, draw=arrowRed] \arrow[ld, draw=cyan] \arrow[rd, draw=cyan] &         \\
        \bullet & \varprojlim \arrow[l, draw=arrowBlue] \arrow[r, draw=arrowBlue]               & \bullet
        \end{tikzcd}
        \end{center} & Finite Coproduct 
        \begin{center}
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                & \circ   &         \\
        \bullet \arrow[r, draw=arrowBlue]  \arrow[ru, draw=cyan] & \varinjlim  \arrow[u, dash pattern=on 4pt off 2pt, draw=arrowRed]             & \bullet\arrow[l, draw=arrowBlue]\arrow[lu, draw=cyan]
        \end{tikzcd}
        \end{center}\\
        \hline
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                \bullet \arrow[r] &[-0.8em] \bullet &[-0.8em] \bullet \arrow[l]
            \end{tikzcd}
        & Pullback    
        \begin{center}
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
            \circ \arrow[rd, dash pattern=on 4pt off 2pt, draw=arrowRed] \arrow[rrd, draw=cyan, bend left] \arrow[rdd, draw=cyan, bend right] &[-2em]                                 &  [-0.4em]                  \\[-0.3cm]
                                                                                    & \varprojlim \arrow[d, draw=arrowBlue] \arrow[r, draw=arrowBlue] & \bullet \arrow[d] \\
                                                                                    & \bullet \arrow[r]               & \bullet          
            \end{tikzcd} 
        \end{center}
        & Pushout 
        \begin{center}
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
            \circ   &[-2em]                                 &  [-0.4em]                  \\[-0.3cm]
                                                                                    & \varinjlim\arrow[lu, dash pattern=on 4pt off 2pt, draw=arrowRed]  & \bullet  \arrow[llu, draw=cyan, bend right] \arrow[l, draw=arrowBlue]\\
                                                                                    & \bullet \arrow[u, draw=arrowBlue]   \arrow[luu, draw=cyan, bend left]           & \bullet  \arrow[l] \arrow[u]      
            \end{tikzcd} 
        \end{center} \\
        \hline
        $\begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
            \bullet \arrow[r, shift left] \arrow[r, shift right] & \bullet
            \end{tikzcd}$ & Equalizer  \begin{center}
                \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                    \circ \arrow[rd, draw=cyan] \arrow[d, dash pattern=on 4pt off 2pt, draw=arrowRed] &                                                      &         \\
                    \varprojlim \arrow[r, draw=arrowBlue]    & \bullet \arrow[r, shift left] \arrow[r, shift right] & \bullet
                    \end{tikzcd}
            \end{center}  & Coequalizer \begin{center}
                \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                    &                              & \circ                        \\
                \bullet \arrow[r, shift left] \arrow[r, shift right] & \bullet \arrow[r, draw=arrowBlue] \arrow[ru, draw=cyan] & \varinjlim \arrow[u, dash pattern=on 4pt off 2pt, draw=arrowRed]
                \end{tikzcd}
            \end{center}\\
        \hline
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt, shorten <=-3.5pt, shorten >=-3.5pt}]
                \bullet &[-1.5em] \bullet \arrow[l] &[-1.5em] \bullet \arrow[l] &[-1.5em] \cdots \arrow[l]
            \end{tikzcd}
        
            & Inverse Limit
        \begin{center}
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                &   [-1.5em]                &[-1em] \circ \arrow[rdd, draw=cyan] \arrow[ldd, draw=cyan] \arrow[d, dash pattern=on 4pt off 2pt, draw=arrowRed] & [-1em]                  \\
                &                   & \varprojlim \arrow[ld, draw=arrowBlue, shorten <=-4pt] \arrow[rd, draw=arrowBlue, shorten <=-3pt]               &                   \\[-0.3cm]
        \bullet & \bullet \arrow[l, shorten <=-3pt, shorten >=-3pt] &                                                 & \cdots \arrow[ll]
        \end{tikzcd}
    \end{center}
        & Direct Limit 
        \begin{center}
            \begin{tikzcd}[every arrow/.append style={-latex, line width=1.2pt}]
                &   [-1.5em]                &[-1em] \circ  & [-1em]                  \\
                &                   & \varinjlim \arrow[u, dash pattern=on 4pt off 2pt, draw=arrowRed]       &                   \\[-0.3cm]
        \bullet \arrow[r, shorten <=-3pt, shorten >=-3pt]& \bullet  \arrow[ru, draw=arrowBlue, shorten >=-4.7pt]        \arrow[rr] \arrow[ruu, draw=cyan] &                                                 & \cdots \arrow[lu, draw=arrowBlue, shorten >=-2.5pt] \arrow[luu, draw=cyan]
        \end{tikzcd}
    \end{center}\\
        \hline
        \end{tabular}
    \end{center}
% \begin{Theorem}{Title}{label}
%     This is the statement of the theorem.
% \end{Theorem}

% \begin{corollary}{Title}{label}
%     This is the statement of the corollary.
% \end{corollary}

% \begin{claim}{Title}{label}
%     This is the statement of the claim.
% \end{claim}

% \begin{Example}{Title}{label}
%     This is an example.
% \end{Example}

% \begin{Definition}{Title}{label}
%     This is a definition.
% \end{Definition}
\end{document}